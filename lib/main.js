"use strict";var pI=Object.create;var Kh=Object.defineProperty;var fI=Object.getOwnPropertyDescriptor;var hI=Object.getOwnPropertyNames;var mI=Object.getPrototypeOf,dI=Object.prototype.hasOwnProperty;var Ne=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Ua=(t,e)=>{for(var r in e)Kh(t,r,{get:e[r],enumerable:!0})},xI=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of hI(e))!dI.call(t,o)&&o!==r&&Kh(t,o,{get:()=>e[o],enumerable:!(n=fI(e,o))||n.enumerable});return t};var or=(t,e,r)=>(r=t!=null?pI(mI(t)):{},xI(e||!t||!t.__esModule?Kh(r,"default",{value:t,enumerable:!0}):r,t));var Nr=Ne((zee,wS)=>{var Fh=process||{},DR=Fh.argv||[],kh=Fh.env||{},g4=!(kh.NO_COLOR||DR.includes("--no-color"))&&(!!kh.FORCE_COLOR||DR.includes("--color")||Fh.platform==="win32"||(Fh.stdout||{}).isTTY&&kh.TERM!=="dumb"||!!kh.CI),y4=(t,e,r=t)=>n=>{let o=""+n,s=o.indexOf(e,t.length);return~s?t+S4(o,e,r,s)+e:t+o+e},S4=(t,e,r,n)=>{let o="",s=0;do o+=t.substring(s,n)+r,s=n+e.length,n=t.indexOf(e,s);while(~n);return o+t.substring(s)},AR=(t=g4)=>{let e=t?y4:()=>String;return{isColorSupported:t,reset:e("\x1B[0m","\x1B[0m"),bold:e("\x1B[1m","\x1B[22m","\x1B[22m\x1B[1m"),dim:e("\x1B[2m","\x1B[22m","\x1B[22m\x1B[2m"),italic:e("\x1B[3m","\x1B[23m"),underline:e("\x1B[4m","\x1B[24m"),inverse:e("\x1B[7m","\x1B[27m"),hidden:e("\x1B[8m","\x1B[28m"),strikethrough:e("\x1B[9m","\x1B[29m"),black:e("\x1B[30m","\x1B[39m"),red:e("\x1B[31m","\x1B[39m"),green:e("\x1B[32m","\x1B[39m"),yellow:e("\x1B[33m","\x1B[39m"),blue:e("\x1B[34m","\x1B[39m"),magenta:e("\x1B[35m","\x1B[39m"),cyan:e("\x1B[36m","\x1B[39m"),white:e("\x1B[37m","\x1B[39m"),gray:e("\x1B[90m","\x1B[39m"),bgBlack:e("\x1B[40m","\x1B[49m"),bgRed:e("\x1B[41m","\x1B[49m"),bgGreen:e("\x1B[42m","\x1B[49m"),bgYellow:e("\x1B[43m","\x1B[49m"),bgBlue:e("\x1B[44m","\x1B[49m"),bgMagenta:e("\x1B[45m","\x1B[49m"),bgCyan:e("\x1B[46m","\x1B[49m"),bgWhite:e("\x1B[47m","\x1B[49m"),blackBright:e("\x1B[90m","\x1B[39m"),redBright:e("\x1B[91m","\x1B[39m"),greenBright:e("\x1B[92m","\x1B[39m"),yellowBright:e("\x1B[93m","\x1B[39m"),blueBright:e("\x1B[94m","\x1B[39m"),magentaBright:e("\x1B[95m","\x1B[39m"),cyanBright:e("\x1B[96m","\x1B[39m"),whiteBright:e("\x1B[97m","\x1B[39m"),bgBlackBright:e("\x1B[100m","\x1B[49m"),bgRedBright:e("\x1B[101m","\x1B[49m"),bgGreenBright:e("\x1B[102m","\x1B[49m"),bgYellowBright:e("\x1B[103m","\x1B[49m"),bgBlueBright:e("\x1B[104m","\x1B[49m"),bgMagentaBright:e("\x1B[105m","\x1B[49m"),bgCyanBright:e("\x1B[106m","\x1B[49m"),bgWhiteBright:e("\x1B[107m","\x1B[49m")}};wS.exports=AR();wS.exports.createColors=AR});var VR=Ne(LS=>{var GR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");LS.encode=function(t){if(0<=t&&t<GR.length)return GR[t];throw new TypeError("Must be between 0 and 63: "+t)};LS.decode=function(t){var e=65,r=90,n=97,o=122,s=48,i=57,c=43,l=47,p=26,f=52;return e<=t&&t<=r?t-e:n<=t&&t<=o?t-n+p:s<=t&&t<=i?t-s+f:t==c?62:t==l?63:-1}});var qS=Ne(HS=>{var KR=VR(),BS=5,XR=1<<BS,$R=XR-1,YR=XR;function C4(t){return t<0?(-t<<1)+1:(t<<1)+0}function v4(t){var e=(t&1)===1,r=t>>1;return e?-r:r}HS.encode=function(e){var r="",n,o=C4(e);do n=o&$R,o>>>=BS,o>0&&(n|=YR),r+=KR.encode(n);while(o>0);return r};HS.decode=function(e,r,n){var o=e.length,s=0,i=0,c,l;do{if(r>=o)throw new Error("Expected more digits in base 64 VLQ value.");if(l=KR.decode(e.charCodeAt(r++)),l===-1)throw new Error("Invalid base64 digit: "+e.charAt(r-1));c=!!(l&YR),l&=$R,s=s+(l<<i),i+=BS}while(c);n.value=v4(s),n.rest=r}});var Na=Ne(ct=>{function _4(t,e,r){if(e in t)return t[e];if(arguments.length===3)return r;throw new Error('"'+e+'" is a required argument.')}ct.getArg=_4;var QR=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,D4=/^data:.+\,.+$/;function _u(t){var e=t.match(QR);return e?{scheme:e[1],auth:e[2],host:e[3],port:e[4],path:e[5]}:null}ct.urlParse=_u;function Ia(t){var e="";return t.scheme&&(e+=t.scheme+":"),e+="//",t.auth&&(e+=t.auth+"@"),t.host&&(e+=t.host),t.port&&(e+=":"+t.port),t.path&&(e+=t.path),e}ct.urlGenerate=Ia;var A4=32;function k4(t){var e=[];return function(r){for(var n=0;n<e.length;n++)if(e[n].input===r){var o=e[0];return e[0]=e[n],e[n]=o,e[0].result}var s=t(r);return e.unshift({input:r,result:s}),e.length>A4&&e.pop(),s}}var US=k4(function(e){var r=e,n=_u(e);if(n){if(!n.path)return e;r=n.path}for(var o=ct.isAbsolute(r),s=[],i=0,c=0;;)if(i=c,c=r.indexOf("/",i),c===-1){s.push(r.slice(i));break}else for(s.push(r.slice(i,c));c<r.length&&r[c]==="/";)c++;for(var l,p=0,c=s.length-1;c>=0;c--)l=s[c],l==="."?s.splice(c,1):l===".."?p++:p>0&&(l===""?(s.splice(c+1,p),p=0):(s.splice(c,2),p--));return r=s.join("/"),r===""&&(r=o?"/":"."),n?(n.path=r,Ia(n)):r});ct.normalize=US;function ZR(t,e){t===""&&(t="."),e===""&&(e=".");var r=_u(e),n=_u(t);if(n&&(t=n.path||"/"),r&&!r.scheme)return n&&(r.scheme=n.scheme),Ia(r);if(r||e.match(D4))return e;if(n&&!n.host&&!n.path)return n.host=e,Ia(n);var o=e.charAt(0)==="/"?e:US(t.replace(/\/+$/,"")+"/"+e);return n?(n.path=o,Ia(n)):o}ct.join=ZR;ct.isAbsolute=function(t){return t.charAt(0)==="/"||QR.test(t)};function F4(t,e){t===""&&(t="."),t=t.replace(/\/$/,"");for(var r=0;e.indexOf(t+"/")!==0;){var n=t.lastIndexOf("/");if(n<0||(t=t.slice(0,n),t.match(/^([^\/]+:\/)?\/*$/)))return e;++r}return Array(r+1).join("../")+e.substr(t.length+1)}ct.relative=F4;var eT=function(){var t=Object.create(null);return!("__proto__"in t)}();function tT(t){return t}function O4(t){return rT(t)?"$"+t:t}ct.toSetString=eT?tT:O4;function w4(t){return rT(t)?t.slice(1):t}ct.fromSetString=eT?tT:w4;function rT(t){if(!t)return!1;var e=t.length;if(e<9||t.charCodeAt(e-1)!==95||t.charCodeAt(e-2)!==95||t.charCodeAt(e-3)!==111||t.charCodeAt(e-4)!==116||t.charCodeAt(e-5)!==111||t.charCodeAt(e-6)!==114||t.charCodeAt(e-7)!==112||t.charCodeAt(e-8)!==95||t.charCodeAt(e-9)!==95)return!1;for(var r=e-10;r>=0;r--)if(t.charCodeAt(r)!==36)return!1;return!0}function M4(t,e,r){var n=to(t.source,e.source);return n!==0||(n=t.originalLine-e.originalLine,n!==0)||(n=t.originalColumn-e.originalColumn,n!==0||r)||(n=t.generatedColumn-e.generatedColumn,n!==0)||(n=t.generatedLine-e.generatedLine,n!==0)?n:to(t.name,e.name)}ct.compareByOriginalPositions=M4;function R4(t,e,r){var n;return n=t.originalLine-e.originalLine,n!==0||(n=t.originalColumn-e.originalColumn,n!==0||r)||(n=t.generatedColumn-e.generatedColumn,n!==0)||(n=t.generatedLine-e.generatedLine,n!==0)?n:to(t.name,e.name)}ct.compareByOriginalPositionsNoSource=R4;function T4(t,e,r){var n=t.generatedLine-e.generatedLine;return n!==0||(n=t.generatedColumn-e.generatedColumn,n!==0||r)||(n=to(t.source,e.source),n!==0)||(n=t.originalLine-e.originalLine,n!==0)||(n=t.originalColumn-e.originalColumn,n!==0)?n:to(t.name,e.name)}ct.compareByGeneratedPositionsDeflated=T4;function I4(t,e,r){var n=t.generatedColumn-e.generatedColumn;return n!==0||r||(n=to(t.source,e.source),n!==0)||(n=t.originalLine-e.originalLine,n!==0)||(n=t.originalColumn-e.originalColumn,n!==0)?n:to(t.name,e.name)}ct.compareByGeneratedPositionsDeflatedNoLine=I4;function to(t,e){return t===e?0:t===null?1:e===null?-1:t>e?1:-1}function N4(t,e){var r=t.generatedLine-e.generatedLine;return r!==0||(r=t.generatedColumn-e.generatedColumn,r!==0)||(r=to(t.source,e.source),r!==0)||(r=t.originalLine-e.originalLine,r!==0)||(r=t.originalColumn-e.originalColumn,r!==0)?r:to(t.name,e.name)}ct.compareByGeneratedPositionsInflated=N4;function P4(t){return JSON.parse(t.replace(/^\)]}'[^\n]*\n/,""))}ct.parseSourceMapInput=P4;function L4(t,e,r){if(e=e||"",t&&(t[t.length-1]!=="/"&&e[0]!=="/"&&(t+="/"),e=t+e),r){var n=_u(r);if(!n)throw new Error("sourceMapURL could not be parsed");if(n.path){var o=n.path.lastIndexOf("/");o>=0&&(n.path=n.path.substring(0,o+1))}e=ZR(Ia(n),e)}return US(e)}ct.computeSourceURL=L4});var jS=Ne(nT=>{var zS=Na(),WS=Object.prototype.hasOwnProperty,hi=typeof Map<"u";function ro(){this._array=[],this._set=hi?new Map:Object.create(null)}ro.fromArray=function(e,r){for(var n=new ro,o=0,s=e.length;o<s;o++)n.add(e[o],r);return n};ro.prototype.size=function(){return hi?this._set.size:Object.getOwnPropertyNames(this._set).length};ro.prototype.add=function(e,r){var n=hi?e:zS.toSetString(e),o=hi?this.has(e):WS.call(this._set,n),s=this._array.length;(!o||r)&&this._array.push(e),o||(hi?this._set.set(e,s):this._set[n]=s)};ro.prototype.has=function(e){if(hi)return this._set.has(e);var r=zS.toSetString(e);return WS.call(this._set,r)};ro.prototype.indexOf=function(e){if(hi){var r=this._set.get(e);if(r>=0)return r}else{var n=zS.toSetString(e);if(WS.call(this._set,n))return this._set[n]}throw new Error('"'+e+'" is not in the set.')};ro.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)};ro.prototype.toArray=function(){return this._array.slice()};nT.ArraySet=ro});var iT=Ne(sT=>{var oT=Na();function B4(t,e){var r=t.generatedLine,n=e.generatedLine,o=t.generatedColumn,s=e.generatedColumn;return n>r||n==r&&s>=o||oT.compareByGeneratedPositionsInflated(t,e)<=0}function Ih(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}Ih.prototype.unsortedForEach=function(e,r){this._array.forEach(e,r)};Ih.prototype.add=function(e){B4(this._last,e)?(this._last=e,this._array.push(e)):(this._sorted=!1,this._array.push(e))};Ih.prototype.toArray=function(){return this._sorted||(this._array.sort(oT.compareByGeneratedPositionsInflated),this._sorted=!0),this._array};sT.MappingList=Ih});var JS=Ne(aT=>{var Du=qS(),je=Na(),Nh=jS().ArraySet,H4=iT().MappingList;function br(t){t||(t={}),this._file=je.getArg(t,"file",null),this._sourceRoot=je.getArg(t,"sourceRoot",null),this._skipValidation=je.getArg(t,"skipValidation",!1),this._ignoreInvalidMapping=je.getArg(t,"ignoreInvalidMapping",!1),this._sources=new Nh,this._names=new Nh,this._mappings=new H4,this._sourcesContents=null}br.prototype._version=3;br.fromSourceMap=function(e,r){var n=e.sourceRoot,o=new br(Object.assign(r||{},{file:e.file,sourceRoot:n}));return e.eachMapping(function(s){var i={generated:{line:s.generatedLine,column:s.generatedColumn}};s.source!=null&&(i.source=s.source,n!=null&&(i.source=je.relative(n,i.source)),i.original={line:s.originalLine,column:s.originalColumn},s.name!=null&&(i.name=s.name)),o.addMapping(i)}),e.sources.forEach(function(s){var i=s;n!==null&&(i=je.relative(n,s)),o._sources.has(i)||o._sources.add(i);var c=e.sourceContentFor(s);c!=null&&o.setSourceContent(s,c)}),o};br.prototype.addMapping=function(e){var r=je.getArg(e,"generated"),n=je.getArg(e,"original",null),o=je.getArg(e,"source",null),s=je.getArg(e,"name",null);!this._skipValidation&&this._validateMapping(r,n,o,s)===!1||(o!=null&&(o=String(o),this._sources.has(o)||this._sources.add(o)),s!=null&&(s=String(s),this._names.has(s)||this._names.add(s)),this._mappings.add({generatedLine:r.line,generatedColumn:r.column,originalLine:n!=null&&n.line,originalColumn:n!=null&&n.column,source:o,name:s}))};br.prototype.setSourceContent=function(e,r){var n=e;this._sourceRoot!=null&&(n=je.relative(this._sourceRoot,n)),r!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[je.toSetString(n)]=r):this._sourcesContents&&(delete this._sourcesContents[je.toSetString(n)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))};br.prototype.applySourceMap=function(e,r,n){var o=r;if(r==null){if(e.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);o=e.file}var s=this._sourceRoot;s!=null&&(o=je.relative(s,o));var i=new Nh,c=new Nh;this._mappings.unsortedForEach(function(l){if(l.source===o&&l.originalLine!=null){var p=e.originalPositionFor({line:l.originalLine,column:l.originalColumn});p.source!=null&&(l.source=p.source,n!=null&&(l.source=je.join(n,l.source)),s!=null&&(l.source=je.relative(s,l.source)),l.originalLine=p.line,l.originalColumn=p.column,p.name!=null&&(l.name=p.name))}var f=l.source;f!=null&&!i.has(f)&&i.add(f);var g=l.name;g!=null&&!c.has(g)&&c.add(g)},this),this._sources=i,this._names=c,e.sources.forEach(function(l){var p=e.sourceContentFor(l);p!=null&&(n!=null&&(l=je.join(n,l)),s!=null&&(l=je.relative(s,l)),this.setSourceContent(l,p))},this)};br.prototype._validateMapping=function(e,r,n,o){if(r&&typeof r.line!="number"&&typeof r.column!="number"){var s="original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.";if(this._ignoreInvalidMapping)return typeof console<"u"&&console.warn&&console.warn(s),!1;throw new Error(s)}if(!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0&&!r&&!n&&!o)){if(e&&"line"in e&&"column"in e&&r&&"line"in r&&"column"in r&&e.line>0&&e.column>=0&&r.line>0&&r.column>=0&&n)return;var s="Invalid mapping: "+JSON.stringify({generated:e,source:n,original:r,name:o});if(this._ignoreInvalidMapping)return typeof console<"u"&&console.warn&&console.warn(s),!1;throw new Error(s)}};br.prototype._serializeMappings=function(){for(var e=0,r=1,n=0,o=0,s=0,i=0,c="",l,p,f,g,m=this._mappings.toArray(),a=0,u=m.length;a<u;a++){if(p=m[a],l="",p.generatedLine!==r)for(e=0;p.generatedLine!==r;)l+=";",r++;else if(a>0){if(!je.compareByGeneratedPositionsInflated(p,m[a-1]))continue;l+=","}l+=Du.encode(p.generatedColumn-e),e=p.generatedColumn,p.source!=null&&(g=this._sources.indexOf(p.source),l+=Du.encode(g-i),i=g,l+=Du.encode(p.originalLine-1-o),o=p.originalLine-1,l+=Du.encode(p.originalColumn-n),n=p.originalColumn,p.name!=null&&(f=this._names.indexOf(p.name),l+=Du.encode(f-s),s=f)),c+=l}return c};br.prototype._generateSourcesContent=function(e,r){return e.map(function(n){if(!this._sourcesContents)return null;r!=null&&(n=je.relative(r,n));var o=je.toSetString(n);return Object.prototype.hasOwnProperty.call(this._sourcesContents,o)?this._sourcesContents[o]:null},this)};br.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(e.file=this._file),this._sourceRoot!=null&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e};br.prototype.toString=function(){return JSON.stringify(this.toJSON())};aT.SourceMapGenerator=br});var cT=Ne(mi=>{mi.GREATEST_LOWER_BOUND=1;mi.LEAST_UPPER_BOUND=2;function GS(t,e,r,n,o,s){var i=Math.floor((e-t)/2)+t,c=o(r,n[i],!0);return c===0?i:c>0?e-i>1?GS(i,e,r,n,o,s):s==mi.LEAST_UPPER_BOUND?e<n.length?e:-1:i:i-t>1?GS(t,i,r,n,o,s):s==mi.LEAST_UPPER_BOUND?i:t<0?-1:t}mi.search=function(e,r,n,o){if(r.length===0)return-1;var s=GS(-1,r.length,e,r,n,o||mi.GREATEST_LOWER_BOUND);if(s<0)return-1;for(;s-1>=0&&n(r[s],r[s-1],!0)===0;)--s;return s}});var pT=Ne(lT=>{function q4(t){function e(o,s,i){var c=o[s];o[s]=o[i],o[i]=c}function r(o,s){return Math.round(o+Math.random()*(s-o))}function n(o,s,i,c){if(i<c){var l=r(i,c),p=i-1;e(o,l,c);for(var f=o[c],g=i;g<c;g++)s(o[g],f,!1)<=0&&(p+=1,e(o,p,g));e(o,p+1,g);var m=p+1;n(o,s,i,m-1),n(o,s,m+1,c)}}return n}function U4(t){let e=q4.toString();return new Function(`return ${e}`)()(t)}var uT=new WeakMap;lT.quickSort=function(t,e,r=0){let n=uT.get(e);n===void 0&&(n=U4(e),uT.set(e,n)),n(t,e,r,t.length-1)}});var mT=Ne(Ph=>{var U=Na(),KS=cT(),Pa=jS().ArraySet,z4=qS(),Au=pT().quickSort;function _e(t,e){var r=t;return typeof t=="string"&&(r=U.parseSourceMapInput(t)),r.sections!=null?new Pr(r,e):new mt(r,e)}_e.fromSourceMap=function(t,e){return mt.fromSourceMap(t,e)};_e.prototype._version=3;_e.prototype.__generatedMappings=null;Object.defineProperty(_e.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}});_e.prototype.__originalMappings=null;Object.defineProperty(_e.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}});_e.prototype._charIsMappingSeparator=function(e,r){var n=e.charAt(r);return n===";"||n===","};_e.prototype._parseMappings=function(e,r){throw new Error("Subclasses must implement _parseMappings")};_e.GENERATED_ORDER=1;_e.ORIGINAL_ORDER=2;_e.GREATEST_LOWER_BOUND=1;_e.LEAST_UPPER_BOUND=2;_e.prototype.eachMapping=function(e,r,n){var o=r||null,s=n||_e.GENERATED_ORDER,i;switch(s){case _e.GENERATED_ORDER:i=this._generatedMappings;break;case _e.ORIGINAL_ORDER:i=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}for(var c=this.sourceRoot,l=e.bind(o),p=this._names,f=this._sources,g=this._sourceMapURL,m=0,a=i.length;m<a;m++){var u=i[m],h=u.source===null?null:f.at(u.source);h!==null&&(h=U.computeSourceURL(c,h,g)),l({source:h,generatedLine:u.generatedLine,generatedColumn:u.generatedColumn,originalLine:u.originalLine,originalColumn:u.originalColumn,name:u.name===null?null:p.at(u.name)})}};_e.prototype.allGeneratedPositionsFor=function(e){var r=U.getArg(e,"line"),n={source:U.getArg(e,"source"),originalLine:r,originalColumn:U.getArg(e,"column",0)};if(n.source=this._findSourceIndex(n.source),n.source<0)return[];var o=[],s=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",U.compareByOriginalPositions,KS.LEAST_UPPER_BOUND);if(s>=0){var i=this._originalMappings[s];if(e.column===void 0)for(var c=i.originalLine;i&&i.originalLine===c;)o.push({line:U.getArg(i,"generatedLine",null),column:U.getArg(i,"generatedColumn",null),lastColumn:U.getArg(i,"lastGeneratedColumn",null)}),i=this._originalMappings[++s];else for(var l=i.originalColumn;i&&i.originalLine===r&&i.originalColumn==l;)o.push({line:U.getArg(i,"generatedLine",null),column:U.getArg(i,"generatedColumn",null),lastColumn:U.getArg(i,"lastGeneratedColumn",null)}),i=this._originalMappings[++s]}return o};Ph.SourceMapConsumer=_e;function mt(t,e){var r=t;typeof t=="string"&&(r=U.parseSourceMapInput(t));var n=U.getArg(r,"version"),o=U.getArg(r,"sources"),s=U.getArg(r,"names",[]),i=U.getArg(r,"sourceRoot",null),c=U.getArg(r,"sourcesContent",null),l=U.getArg(r,"mappings"),p=U.getArg(r,"file",null);if(n!=this._version)throw new Error("Unsupported version: "+n);i&&(i=U.normalize(i)),o=o.map(String).map(U.normalize).map(function(f){return i&&U.isAbsolute(i)&&U.isAbsolute(f)?U.relative(i,f):f}),this._names=Pa.fromArray(s.map(String),!0),this._sources=Pa.fromArray(o,!0),this._absoluteSources=this._sources.toArray().map(function(f){return U.computeSourceURL(i,f,e)}),this.sourceRoot=i,this.sourcesContent=c,this._mappings=l,this._sourceMapURL=e,this.file=p}mt.prototype=Object.create(_e.prototype);mt.prototype.consumer=_e;mt.prototype._findSourceIndex=function(t){var e=t;if(this.sourceRoot!=null&&(e=U.relative(this.sourceRoot,e)),this._sources.has(e))return this._sources.indexOf(e);var r;for(r=0;r<this._absoluteSources.length;++r)if(this._absoluteSources[r]==t)return r;return-1};mt.fromSourceMap=function(e,r){var n=Object.create(mt.prototype),o=n._names=Pa.fromArray(e._names.toArray(),!0),s=n._sources=Pa.fromArray(e._sources.toArray(),!0);n.sourceRoot=e._sourceRoot,n.sourcesContent=e._generateSourcesContent(n._sources.toArray(),n.sourceRoot),n.file=e._file,n._sourceMapURL=r,n._absoluteSources=n._sources.toArray().map(function(a){return U.computeSourceURL(n.sourceRoot,a,r)});for(var i=e._mappings.toArray().slice(),c=n.__generatedMappings=[],l=n.__originalMappings=[],p=0,f=i.length;p<f;p++){var g=i[p],m=new hT;m.generatedLine=g.generatedLine,m.generatedColumn=g.generatedColumn,g.source&&(m.source=s.indexOf(g.source),m.originalLine=g.originalLine,m.originalColumn=g.originalColumn,g.name&&(m.name=o.indexOf(g.name)),l.push(m)),c.push(m)}return Au(n.__originalMappings,U.compareByOriginalPositions),n};mt.prototype._version=3;Object.defineProperty(mt.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});function hT(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}var VS=U.compareByGeneratedPositionsDeflatedNoLine;function fT(t,e){let r=t.length,n=t.length-e;if(!(n<=1))if(n==2){let o=t[e],s=t[e+1];VS(o,s)>0&&(t[e]=s,t[e+1]=o)}else if(n<20)for(let o=e;o<r;o++)for(let s=o;s>e;s--){let i=t[s-1],c=t[s];if(VS(i,c)<=0)break;t[s-1]=c,t[s]=i}else Au(t,VS,e)}mt.prototype._parseMappings=function(e,r){var n=1,o=0,s=0,i=0,c=0,l=0,p=e.length,f=0,g={},m={},a=[],u=[],h,x,y,b,F;let O=0;for(;f<p;)if(e.charAt(f)===";")n++,f++,o=0,fT(u,O),O=u.length;else if(e.charAt(f)===",")f++;else{for(h=new hT,h.generatedLine=n,b=f;b<p&&!this._charIsMappingSeparator(e,b);b++);for(x=e.slice(f,b),y=[];f<b;)z4.decode(e,f,m),F=m.value,f=m.rest,y.push(F);if(y.length===2)throw new Error("Found a source, but no line and column");if(y.length===3)throw new Error("Found a source and line, but no column");if(h.generatedColumn=o+y[0],o=h.generatedColumn,y.length>1&&(h.source=c+y[1],c+=y[1],h.originalLine=s+y[2],s=h.originalLine,h.originalLine+=1,h.originalColumn=i+y[3],i=h.originalColumn,y.length>4&&(h.name=l+y[4],l+=y[4])),u.push(h),typeof h.originalLine=="number"){let H=h.source;for(;a.length<=H;)a.push(null);a[H]===null&&(a[H]=[]),a[H].push(h)}}fT(u,O),this.__generatedMappings=u;for(var M=0;M<a.length;M++)a[M]!=null&&Au(a[M],U.compareByOriginalPositionsNoSource);this.__originalMappings=[].concat(...a)};mt.prototype._findMapping=function(e,r,n,o,s,i){if(e[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[n]);if(e[o]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[o]);return KS.search(e,r,s,i)};mt.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var r=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var n=this._generatedMappings[e+1];if(r.generatedLine===n.generatedLine){r.lastGeneratedColumn=n.generatedColumn-1;continue}}r.lastGeneratedColumn=1/0}};mt.prototype.originalPositionFor=function(e){var r={generatedLine:U.getArg(e,"line"),generatedColumn:U.getArg(e,"column")},n=this._findMapping(r,this._generatedMappings,"generatedLine","generatedColumn",U.compareByGeneratedPositionsDeflated,U.getArg(e,"bias",_e.GREATEST_LOWER_BOUND));if(n>=0){var o=this._generatedMappings[n];if(o.generatedLine===r.generatedLine){var s=U.getArg(o,"source",null);s!==null&&(s=this._sources.at(s),s=U.computeSourceURL(this.sourceRoot,s,this._sourceMapURL));var i=U.getArg(o,"name",null);return i!==null&&(i=this._names.at(i)),{source:s,line:U.getArg(o,"originalLine",null),column:U.getArg(o,"originalColumn",null),name:i}}}return{source:null,line:null,column:null,name:null}};mt.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(e){return e==null}):!1};mt.prototype.sourceContentFor=function(e,r){if(!this.sourcesContent)return null;var n=this._findSourceIndex(e);if(n>=0)return this.sourcesContent[n];var o=e;this.sourceRoot!=null&&(o=U.relative(this.sourceRoot,o));var s;if(this.sourceRoot!=null&&(s=U.urlParse(this.sourceRoot))){var i=o.replace(/^file:\/\//,"");if(s.scheme=="file"&&this._sources.has(i))return this.sourcesContent[this._sources.indexOf(i)];if((!s.path||s.path=="/")&&this._sources.has("/"+o))return this.sourcesContent[this._sources.indexOf("/"+o)]}if(r)return null;throw new Error('"'+o+'" is not in the SourceMap.')};mt.prototype.generatedPositionFor=function(e){var r=U.getArg(e,"source");if(r=this._findSourceIndex(r),r<0)return{line:null,column:null,lastColumn:null};var n={source:r,originalLine:U.getArg(e,"line"),originalColumn:U.getArg(e,"column")},o=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",U.compareByOriginalPositions,U.getArg(e,"bias",_e.GREATEST_LOWER_BOUND));if(o>=0){var s=this._originalMappings[o];if(s.source===n.source)return{line:U.getArg(s,"generatedLine",null),column:U.getArg(s,"generatedColumn",null),lastColumn:U.getArg(s,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}};Ph.BasicSourceMapConsumer=mt;function Pr(t,e){var r=t;typeof t=="string"&&(r=U.parseSourceMapInput(t));var n=U.getArg(r,"version"),o=U.getArg(r,"sections");if(n!=this._version)throw new Error("Unsupported version: "+n);this._sources=new Pa,this._names=new Pa;var s={line:-1,column:0};this._sections=o.map(function(i){if(i.url)throw new Error("Support for url field in sections not implemented.");var c=U.getArg(i,"offset"),l=U.getArg(c,"line"),p=U.getArg(c,"column");if(l<s.line||l===s.line&&p<s.column)throw new Error("Section offsets must be ordered and non-overlapping.");return s=c,{generatedOffset:{generatedLine:l+1,generatedColumn:p+1},consumer:new _e(U.getArg(i,"map"),e)}})}Pr.prototype=Object.create(_e.prototype);Pr.prototype.constructor=_e;Pr.prototype._version=3;Object.defineProperty(Pr.prototype,"sources",{get:function(){for(var t=[],e=0;e<this._sections.length;e++)for(var r=0;r<this._sections[e].consumer.sources.length;r++)t.push(this._sections[e].consumer.sources[r]);return t}});Pr.prototype.originalPositionFor=function(e){var r={generatedLine:U.getArg(e,"line"),generatedColumn:U.getArg(e,"column")},n=KS.search(r,this._sections,function(s,i){var c=s.generatedLine-i.generatedOffset.generatedLine;return c||s.generatedColumn-i.generatedOffset.generatedColumn}),o=this._sections[n];return o?o.consumer.originalPositionFor({line:r.generatedLine-(o.generatedOffset.generatedLine-1),column:r.generatedColumn-(o.generatedOffset.generatedLine===r.generatedLine?o.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}};Pr.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(e){return e.consumer.hasContentsOfAllSources()})};Pr.prototype.sourceContentFor=function(e,r){for(var n=0;n<this._sections.length;n++){var o=this._sections[n],s=o.consumer.sourceContentFor(e,!0);if(s||s==="")return s}if(r)return null;throw new Error('"'+e+'" is not in the SourceMap.')};Pr.prototype.generatedPositionFor=function(e){for(var r=0;r<this._sections.length;r++){var n=this._sections[r];if(n.consumer._findSourceIndex(U.getArg(e,"source"))!==-1){var o=n.consumer.generatedPositionFor(e);if(o){var s={line:o.line+(n.generatedOffset.generatedLine-1),column:o.column+(n.generatedOffset.generatedLine===o.line?n.generatedOffset.generatedColumn-1:0)};return s}}}return{line:null,column:null}};Pr.prototype._parseMappings=function(e,r){this.__generatedMappings=[],this.__originalMappings=[];for(var n=0;n<this._sections.length;n++)for(var o=this._sections[n],s=o.consumer._generatedMappings,i=0;i<s.length;i++){var c=s[i],l=o.consumer._sources.at(c.source);l!==null&&(l=U.computeSourceURL(o.consumer.sourceRoot,l,this._sourceMapURL)),this._sources.add(l),l=this._sources.indexOf(l);var p=null;c.name&&(p=o.consumer._names.at(c.name),this._names.add(p),p=this._names.indexOf(p));var f={source:l,generatedLine:c.generatedLine+(o.generatedOffset.generatedLine-1),generatedColumn:c.generatedColumn+(o.generatedOffset.generatedLine===c.generatedLine?o.generatedOffset.generatedColumn-1:0),originalLine:c.originalLine,originalColumn:c.originalColumn,name:p};this.__generatedMappings.push(f),typeof f.originalLine=="number"&&this.__originalMappings.push(f)}Au(this.__generatedMappings,U.compareByGeneratedPositionsDeflated),Au(this.__originalMappings,U.compareByOriginalPositions)};Ph.IndexedSourceMapConsumer=Pr});var xT=Ne(dT=>{var W4=JS().SourceMapGenerator,Lh=Na(),j4=/(\r?\n)/,J4=10,La="$$$isSourceNode$$$";function er(t,e,r,n,o){this.children=[],this.sourceContents={},this.line=t??null,this.column=e??null,this.source=r??null,this.name=o??null,this[La]=!0,n!=null&&this.add(n)}er.fromStringWithSourceMap=function(e,r,n){var o=new er,s=e.split(j4),i=0,c=function(){var m=u(),a=u()||"";return m+a;function u(){return i<s.length?s[i++]:void 0}},l=1,p=0,f=null;return r.eachMapping(function(m){if(f!==null)if(l<m.generatedLine)g(f,c()),l++,p=0;else{var a=s[i]||"",u=a.substr(0,m.generatedColumn-p);s[i]=a.substr(m.generatedColumn-p),p=m.generatedColumn,g(f,u),f=m;return}for(;l<m.generatedLine;)o.add(c()),l++;if(p<m.generatedColumn){var a=s[i]||"";o.add(a.substr(0,m.generatedColumn)),s[i]=a.substr(m.generatedColumn),p=m.generatedColumn}f=m},this),i<s.length&&(f&&g(f,c()),o.add(s.splice(i).join(""))),r.sources.forEach(function(m){var a=r.sourceContentFor(m);a!=null&&(n!=null&&(m=Lh.join(n,m)),o.setSourceContent(m,a))}),o;function g(m,a){if(m===null||m.source===void 0)o.add(a);else{var u=n?Lh.join(n,m.source):m.source;o.add(new er(m.originalLine,m.originalColumn,u,a,m.name))}}};er.prototype.add=function(e){if(Array.isArray(e))e.forEach(function(r){this.add(r)},this);else if(e[La]||typeof e=="string")e&&this.children.push(e);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);return this};er.prototype.prepend=function(e){if(Array.isArray(e))for(var r=e.length-1;r>=0;r--)this.prepend(e[r]);else if(e[La]||typeof e=="string")this.children.unshift(e);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);return this};er.prototype.walk=function(e){for(var r,n=0,o=this.children.length;n<o;n++)r=this.children[n],r[La]?r.walk(e):r!==""&&e(r,{source:this.source,line:this.line,column:this.column,name:this.name})};er.prototype.join=function(e){var r,n,o=this.children.length;if(o>0){for(r=[],n=0;n<o-1;n++)r.push(this.children[n]),r.push(e);r.push(this.children[n]),this.children=r}return this};er.prototype.replaceRight=function(e,r){var n=this.children[this.children.length-1];return n[La]?n.replaceRight(e,r):typeof n=="string"?this.children[this.children.length-1]=n.replace(e,r):this.children.push("".replace(e,r)),this};er.prototype.setSourceContent=function(e,r){this.sourceContents[Lh.toSetString(e)]=r};er.prototype.walkSourceContents=function(e){for(var r=0,n=this.children.length;r<n;r++)this.children[r][La]&&this.children[r].walkSourceContents(e);for(var o=Object.keys(this.sourceContents),r=0,n=o.length;r<n;r++)e(Lh.fromSetString(o[r]),this.sourceContents[o[r]])};er.prototype.toString=function(){var e="";return this.walk(function(r){e+=r}),e};er.prototype.toStringWithSourceMap=function(e){var r={code:"",line:1,column:0},n=new W4(e),o=!1,s=null,i=null,c=null,l=null;return this.walk(function(p,f){r.code+=p,f.source!==null&&f.line!==null&&f.column!==null?((s!==f.source||i!==f.line||c!==f.column||l!==f.name)&&n.addMapping({source:f.source,original:{line:f.line,column:f.column},generated:{line:r.line,column:r.column},name:f.name}),s=f.source,i=f.line,c=f.column,l=f.name,o=!0):o&&(n.addMapping({generated:{line:r.line,column:r.column}}),s=null,o=!1);for(var g=0,m=p.length;g<m;g++)p.charCodeAt(g)===J4?(r.line++,r.column=0,g+1===m?(s=null,o=!1):o&&n.addMapping({source:f.source,original:{line:f.line,column:f.column},generated:{line:r.line,column:r.column},name:f.name})):r.column++}),this.walkSourceContents(function(p,f){n.setSourceContent(p,f)}),{code:r.code,map:n}};dT.SourceNode=er});var gT=Ne(Bh=>{Bh.SourceMapGenerator=JS().SourceMapGenerator;Bh.SourceMapConsumer=mT().SourceMapConsumer;Bh.SourceNode=xT().SourceNode});var yT=Ne((ku,XS)=>{(function(e,r){typeof ku=="object"&&typeof XS=="object"?XS.exports=r():typeof define=="function"&&define.amd?define([],r):typeof ku=="object"?ku.esprima=r():e.esprima=r()})(ku,function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}return r.m=t,r.c=e,r.p="",r(0)}([function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1),o=r(3),s=r(8),i=r(15);function c(m,a,u){var h=null,x=function($,ae){u&&u($,ae),h&&h.visit($,ae)},y=typeof u=="function"?x:null,b=!1;if(a){b=typeof a.comment=="boolean"&&a.comment;var F=typeof a.attachComment=="boolean"&&a.attachComment;(b||F)&&(h=new n.CommentHandler,h.attach=F,a.comment=!0,y=x)}var O=!1;a&&typeof a.sourceType=="string"&&(O=a.sourceType==="module");var M;a&&typeof a.jsx=="boolean"&&a.jsx?M=new o.JSXParser(m,a,y):M=new s.Parser(m,a,y);var H=O?M.parseModule():M.parseScript(),X=H;return b&&h&&(X.comments=h.comments),M.config.tokens&&(X.tokens=M.tokens),M.config.tolerant&&(X.errors=M.errorHandler.errors),X}e.parse=c;function l(m,a,u){var h=a||{};return h.sourceType="module",c(m,h,u)}e.parseModule=l;function p(m,a,u){var h=a||{};return h.sourceType="script",c(m,h,u)}e.parseScript=p;function f(m,a,u){var h=new i.Tokenizer(m,a),x;x=[];try{for(;;){var y=h.getNextToken();if(!y)break;u&&(y=u(y)),x.push(y)}}catch(b){h.errorHandler.tolerate(b)}return h.errorHandler.tolerant&&(x.errors=h.errors()),x}e.tokenize=f;var g=r(2);e.Syntax=g.Syntax,e.version="4.0.1"},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(2),o=function(){function s(){this.attach=!1,this.comments=[],this.stack=[],this.leading=[],this.trailing=[]}return s.prototype.insertInnerComments=function(i,c){if(i.type===n.Syntax.BlockStatement&&i.body.length===0){for(var l=[],p=this.leading.length-1;p>=0;--p){var f=this.leading[p];c.end.offset>=f.start&&(l.unshift(f.comment),this.leading.splice(p,1),this.trailing.splice(p,1))}l.length&&(i.innerComments=l)}},s.prototype.findTrailingComments=function(i){var c=[];if(this.trailing.length>0){for(var l=this.trailing.length-1;l>=0;--l){var p=this.trailing[l];p.start>=i.end.offset&&c.unshift(p.comment)}return this.trailing.length=0,c}var f=this.stack[this.stack.length-1];if(f&&f.node.trailingComments){var g=f.node.trailingComments[0];g&&g.range[0]>=i.end.offset&&(c=f.node.trailingComments,delete f.node.trailingComments)}return c},s.prototype.findLeadingComments=function(i){for(var c=[],l;this.stack.length>0;){var p=this.stack[this.stack.length-1];if(p&&p.start>=i.start.offset)l=p.node,this.stack.pop();else break}if(l){for(var f=l.leadingComments?l.leadingComments.length:0,g=f-1;g>=0;--g){var m=l.leadingComments[g];m.range[1]<=i.start.offset&&(c.unshift(m),l.leadingComments.splice(g,1))}return l.leadingComments&&l.leadingComments.length===0&&delete l.leadingComments,c}for(var g=this.leading.length-1;g>=0;--g){var p=this.leading[g];p.start<=i.start.offset&&(c.unshift(p.comment),this.leading.splice(g,1))}return c},s.prototype.visitNode=function(i,c){if(!(i.type===n.Syntax.Program&&i.body.length>0)){this.insertInnerComments(i,c);var l=this.findTrailingComments(c),p=this.findLeadingComments(c);p.length>0&&(i.leadingComments=p),l.length>0&&(i.trailingComments=l),this.stack.push({node:i,start:c.start.offset})}},s.prototype.visitComment=function(i,c){var l=i.type[0]==="L"?"Line":"Block",p={type:l,value:i.value};if(i.range&&(p.range=i.range),i.loc&&(p.loc=i.loc),this.comments.push(p),this.attach){var f={comment:{type:l,value:i.value,range:[c.start.offset,c.end.offset]},start:c.start.offset};i.loc&&(f.comment.loc=i.loc),i.type=l,this.leading.push(f),this.trailing.push(f)}},s.prototype.visit=function(i,c){i.type==="LineComment"?this.visitComment(i,c):i.type==="BlockComment"?this.visitComment(i,c):this.attach&&this.visitNode(i,c)},s}();e.CommentHandler=o},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Syntax={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForOfStatement:"ForOfStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchCase:"SwitchCase",SwitchStatement:"SwitchStatement",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"}},function(t,e,r){"use strict";var n=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,h){u.__proto__=h}||function(u,h){for(var x in h)h.hasOwnProperty(x)&&(u[x]=h[x])};return function(u,h){a(u,h);function x(){this.constructor=u}u.prototype=h===null?Object.create(h):(x.prototype=h.prototype,new x)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=r(4),s=r(5),i=r(6),c=r(7),l=r(8),p=r(13),f=r(14);p.TokenName[100]="JSXIdentifier",p.TokenName[101]="JSXText";function g(a){var u;switch(a.type){case i.JSXSyntax.JSXIdentifier:var h=a;u=h.name;break;case i.JSXSyntax.JSXNamespacedName:var x=a;u=g(x.namespace)+":"+g(x.name);break;case i.JSXSyntax.JSXMemberExpression:var y=a;u=g(y.object)+"."+g(y.property);break;default:break}return u}var m=function(a){n(u,a);function u(h,x,y){return a.call(this,h,x,y)||this}return u.prototype.parsePrimaryExpression=function(){return this.match("<")?this.parseJSXRoot():a.prototype.parsePrimaryExpression.call(this)},u.prototype.startJSX=function(){this.scanner.index=this.startMarker.index,this.scanner.lineNumber=this.startMarker.line,this.scanner.lineStart=this.startMarker.index-this.startMarker.column},u.prototype.finishJSX=function(){this.nextToken()},u.prototype.reenterJSX=function(){this.startJSX(),this.expectJSX("}"),this.config.tokens&&this.tokens.pop()},u.prototype.createJSXNode=function(){return this.collectComments(),{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},u.prototype.createJSXChildNode=function(){return{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},u.prototype.scanXHTMLEntity=function(h){for(var x="&",y=!0,b=!1,F=!1,O=!1;!this.scanner.eof()&&y&&!b;){var M=this.scanner.source[this.scanner.index];if(M===h)break;if(b=M===";",x+=M,++this.scanner.index,!b)switch(x.length){case 2:F=M==="#";break;case 3:F&&(O=M==="x",y=O||o.Character.isDecimalDigit(M.charCodeAt(0)),F=F&&!O);break;default:y=y&&!(F&&!o.Character.isDecimalDigit(M.charCodeAt(0))),y=y&&!(O&&!o.Character.isHexDigit(M.charCodeAt(0)));break}}if(y&&b&&x.length>2){var H=x.substr(1,x.length-2);F&&H.length>1?x=String.fromCharCode(parseInt(H.substr(1),10)):O&&H.length>2?x=String.fromCharCode(parseInt("0"+H.substr(1),16)):!F&&!O&&f.XHTMLEntities[H]&&(x=f.XHTMLEntities[H])}return x},u.prototype.lexJSX=function(){var h=this.scanner.source.charCodeAt(this.scanner.index);if(h===60||h===62||h===47||h===58||h===61||h===123||h===125){var x=this.scanner.source[this.scanner.index++];return{type:7,value:x,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index-1,end:this.scanner.index}}if(h===34||h===39){for(var y=this.scanner.index,b=this.scanner.source[this.scanner.index++],F="";!this.scanner.eof();){var O=this.scanner.source[this.scanner.index++];if(O===b)break;O==="&"?F+=this.scanXHTMLEntity(b):F+=O}return{type:8,value:F,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:y,end:this.scanner.index}}if(h===46){var M=this.scanner.source.charCodeAt(this.scanner.index+1),H=this.scanner.source.charCodeAt(this.scanner.index+2),x=M===46&&H===46?"...":".",y=this.scanner.index;return this.scanner.index+=x.length,{type:7,value:x,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:y,end:this.scanner.index}}if(h===96)return{type:10,value:"",lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index,end:this.scanner.index};if(o.Character.isIdentifierStart(h)&&h!==92){var y=this.scanner.index;for(++this.scanner.index;!this.scanner.eof();){var O=this.scanner.source.charCodeAt(this.scanner.index);if(o.Character.isIdentifierPart(O)&&O!==92)++this.scanner.index;else if(O===45)++this.scanner.index;else break}var X=this.scanner.source.slice(y,this.scanner.index);return{type:100,value:X,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:y,end:this.scanner.index}}return this.scanner.lex()},u.prototype.nextJSXToken=function(){this.collectComments(),this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;var h=this.lexJSX();return this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.config.tokens&&this.tokens.push(this.convertToken(h)),h},u.prototype.nextJSXText=function(){this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;for(var h=this.scanner.index,x="";!this.scanner.eof();){var y=this.scanner.source[this.scanner.index];if(y==="{"||y==="<")break;++this.scanner.index,x+=y,o.Character.isLineTerminator(y.charCodeAt(0))&&(++this.scanner.lineNumber,y==="\r"&&this.scanner.source[this.scanner.index]===`
`&&++this.scanner.index,this.scanner.lineStart=this.scanner.index)}this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart;var b={type:101,value:x,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:h,end:this.scanner.index};return x.length>0&&this.config.tokens&&this.tokens.push(this.convertToken(b)),b},u.prototype.peekJSXToken=function(){var h=this.scanner.saveState();this.scanner.scanComments();var x=this.lexJSX();return this.scanner.restoreState(h),x},u.prototype.expectJSX=function(h){var x=this.nextJSXToken();(x.type!==7||x.value!==h)&&this.throwUnexpectedToken(x)},u.prototype.matchJSX=function(h){var x=this.peekJSXToken();return x.type===7&&x.value===h},u.prototype.parseJSXIdentifier=function(){var h=this.createJSXNode(),x=this.nextJSXToken();return x.type!==100&&this.throwUnexpectedToken(x),this.finalize(h,new s.JSXIdentifier(x.value))},u.prototype.parseJSXElementName=function(){var h=this.createJSXNode(),x=this.parseJSXIdentifier();if(this.matchJSX(":")){var y=x;this.expectJSX(":");var b=this.parseJSXIdentifier();x=this.finalize(h,new s.JSXNamespacedName(y,b))}else if(this.matchJSX("."))for(;this.matchJSX(".");){var F=x;this.expectJSX(".");var O=this.parseJSXIdentifier();x=this.finalize(h,new s.JSXMemberExpression(F,O))}return x},u.prototype.parseJSXAttributeName=function(){var h=this.createJSXNode(),x,y=this.parseJSXIdentifier();if(this.matchJSX(":")){var b=y;this.expectJSX(":");var F=this.parseJSXIdentifier();x=this.finalize(h,new s.JSXNamespacedName(b,F))}else x=y;return x},u.prototype.parseJSXStringLiteralAttribute=function(){var h=this.createJSXNode(),x=this.nextJSXToken();x.type!==8&&this.throwUnexpectedToken(x);var y=this.getTokenRaw(x);return this.finalize(h,new c.Literal(x.value,y))},u.prototype.parseJSXExpressionAttribute=function(){var h=this.createJSXNode();this.expectJSX("{"),this.finishJSX(),this.match("}")&&this.tolerateError("JSX attributes must only be assigned a non-empty expression");var x=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(h,new s.JSXExpressionContainer(x))},u.prototype.parseJSXAttributeValue=function(){return this.matchJSX("{")?this.parseJSXExpressionAttribute():this.matchJSX("<")?this.parseJSXElement():this.parseJSXStringLiteralAttribute()},u.prototype.parseJSXNameValueAttribute=function(){var h=this.createJSXNode(),x=this.parseJSXAttributeName(),y=null;return this.matchJSX("=")&&(this.expectJSX("="),y=this.parseJSXAttributeValue()),this.finalize(h,new s.JSXAttribute(x,y))},u.prototype.parseJSXSpreadAttribute=function(){var h=this.createJSXNode();this.expectJSX("{"),this.expectJSX("..."),this.finishJSX();var x=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(h,new s.JSXSpreadAttribute(x))},u.prototype.parseJSXAttributes=function(){for(var h=[];!this.matchJSX("/")&&!this.matchJSX(">");){var x=this.matchJSX("{")?this.parseJSXSpreadAttribute():this.parseJSXNameValueAttribute();h.push(x)}return h},u.prototype.parseJSXOpeningElement=function(){var h=this.createJSXNode();this.expectJSX("<");var x=this.parseJSXElementName(),y=this.parseJSXAttributes(),b=this.matchJSX("/");return b&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(h,new s.JSXOpeningElement(x,b,y))},u.prototype.parseJSXBoundaryElement=function(){var h=this.createJSXNode();if(this.expectJSX("<"),this.matchJSX("/")){this.expectJSX("/");var x=this.parseJSXElementName();return this.expectJSX(">"),this.finalize(h,new s.JSXClosingElement(x))}var y=this.parseJSXElementName(),b=this.parseJSXAttributes(),F=this.matchJSX("/");return F&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(h,new s.JSXOpeningElement(y,F,b))},u.prototype.parseJSXEmptyExpression=function(){var h=this.createJSXChildNode();return this.collectComments(),this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.finalize(h,new s.JSXEmptyExpression)},u.prototype.parseJSXExpressionContainer=function(){var h=this.createJSXNode();this.expectJSX("{");var x;return this.matchJSX("}")?(x=this.parseJSXEmptyExpression(),this.expectJSX("}")):(this.finishJSX(),x=this.parseAssignmentExpression(),this.reenterJSX()),this.finalize(h,new s.JSXExpressionContainer(x))},u.prototype.parseJSXChildren=function(){for(var h=[];!this.scanner.eof();){var x=this.createJSXChildNode(),y=this.nextJSXText();if(y.start<y.end){var b=this.getTokenRaw(y),F=this.finalize(x,new s.JSXText(y.value,b));h.push(F)}if(this.scanner.source[this.scanner.index]==="{"){var O=this.parseJSXExpressionContainer();h.push(O)}else break}return h},u.prototype.parseComplexJSXElement=function(h){for(var x=[];!this.scanner.eof();){h.children=h.children.concat(this.parseJSXChildren());var y=this.createJSXChildNode(),b=this.parseJSXBoundaryElement();if(b.type===i.JSXSyntax.JSXOpeningElement){var F=b;if(F.selfClosing){var O=this.finalize(y,new s.JSXElement(F,[],null));h.children.push(O)}else x.push(h),h={node:y,opening:F,closing:null,children:[]}}if(b.type===i.JSXSyntax.JSXClosingElement){h.closing=b;var M=g(h.opening.name),H=g(h.closing.name);if(M!==H&&this.tolerateError("Expected corresponding JSX closing tag for %0",M),x.length>0){var O=this.finalize(h.node,new s.JSXElement(h.opening,h.children,h.closing));h=x[x.length-1],h.children.push(O),x.pop()}else break}}return h},u.prototype.parseJSXElement=function(){var h=this.createJSXNode(),x=this.parseJSXOpeningElement(),y=[],b=null;if(!x.selfClosing){var F=this.parseComplexJSXElement({node:h,opening:x,closing:b,children:y});y=F.children,b=F.closing}return this.finalize(h,new s.JSXElement(x,y,b))},u.prototype.parseJSXRoot=function(){this.config.tokens&&this.tokens.pop(),this.startJSX();var h=this.parseJSXElement();return this.finishJSX(),h},u.prototype.isStartOfExpression=function(){return a.prototype.isStartOfExpression.call(this)||this.match("<")},u}(l.Parser);e.JSXParser=m},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/};e.Character={fromCodePoint:function(n){return n<65536?String.fromCharCode(n):String.fromCharCode(55296+(n-65536>>10))+String.fromCharCode(56320+(n-65536&1023))},isWhiteSpace:function(n){return n===32||n===9||n===11||n===12||n===160||n>=5760&&[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(n)>=0},isLineTerminator:function(n){return n===10||n===13||n===8232||n===8233},isIdentifierStart:function(n){return n===36||n===95||n>=65&&n<=90||n>=97&&n<=122||n===92||n>=128&&r.NonAsciiIdentifierStart.test(e.Character.fromCodePoint(n))},isIdentifierPart:function(n){return n===36||n===95||n>=65&&n<=90||n>=97&&n<=122||n>=48&&n<=57||n===92||n>=128&&r.NonAsciiIdentifierPart.test(e.Character.fromCodePoint(n))},isDecimalDigit:function(n){return n>=48&&n<=57},isHexDigit:function(n){return n>=48&&n<=57||n>=65&&n<=70||n>=97&&n<=102},isOctalDigit:function(n){return n>=48&&n<=55}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(6),o=function(){function h(x){this.type=n.JSXSyntax.JSXClosingElement,this.name=x}return h}();e.JSXClosingElement=o;var s=function(){function h(x,y,b){this.type=n.JSXSyntax.JSXElement,this.openingElement=x,this.children=y,this.closingElement=b}return h}();e.JSXElement=s;var i=function(){function h(){this.type=n.JSXSyntax.JSXEmptyExpression}return h}();e.JSXEmptyExpression=i;var c=function(){function h(x){this.type=n.JSXSyntax.JSXExpressionContainer,this.expression=x}return h}();e.JSXExpressionContainer=c;var l=function(){function h(x){this.type=n.JSXSyntax.JSXIdentifier,this.name=x}return h}();e.JSXIdentifier=l;var p=function(){function h(x,y){this.type=n.JSXSyntax.JSXMemberExpression,this.object=x,this.property=y}return h}();e.JSXMemberExpression=p;var f=function(){function h(x,y){this.type=n.JSXSyntax.JSXAttribute,this.name=x,this.value=y}return h}();e.JSXAttribute=f;var g=function(){function h(x,y){this.type=n.JSXSyntax.JSXNamespacedName,this.namespace=x,this.name=y}return h}();e.JSXNamespacedName=g;var m=function(){function h(x,y,b){this.type=n.JSXSyntax.JSXOpeningElement,this.name=x,this.selfClosing=y,this.attributes=b}return h}();e.JSXOpeningElement=m;var a=function(){function h(x){this.type=n.JSXSyntax.JSXSpreadAttribute,this.argument=x}return h}();e.JSXSpreadAttribute=a;var u=function(){function h(x,y){this.type=n.JSXSyntax.JSXText,this.value=x,this.raw=y}return h}();e.JSXText=u},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.JSXSyntax={JSXAttribute:"JSXAttribute",JSXClosingElement:"JSXClosingElement",JSXElement:"JSXElement",JSXEmptyExpression:"JSXEmptyExpression",JSXExpressionContainer:"JSXExpressionContainer",JSXIdentifier:"JSXIdentifier",JSXMemberExpression:"JSXMemberExpression",JSXNamespacedName:"JSXNamespacedName",JSXOpeningElement:"JSXOpeningElement",JSXSpreadAttribute:"JSXSpreadAttribute",JSXText:"JSXText"}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(2),o=function(){function C(v){this.type=n.Syntax.ArrayExpression,this.elements=v}return C}();e.ArrayExpression=o;var s=function(){function C(v){this.type=n.Syntax.ArrayPattern,this.elements=v}return C}();e.ArrayPattern=s;var i=function(){function C(v,T,ne){this.type=n.Syntax.ArrowFunctionExpression,this.id=null,this.params=v,this.body=T,this.generator=!1,this.expression=ne,this.async=!1}return C}();e.ArrowFunctionExpression=i;var c=function(){function C(v,T,ne){this.type=n.Syntax.AssignmentExpression,this.operator=v,this.left=T,this.right=ne}return C}();e.AssignmentExpression=c;var l=function(){function C(v,T){this.type=n.Syntax.AssignmentPattern,this.left=v,this.right=T}return C}();e.AssignmentPattern=l;var p=function(){function C(v,T,ne){this.type=n.Syntax.ArrowFunctionExpression,this.id=null,this.params=v,this.body=T,this.generator=!1,this.expression=ne,this.async=!0}return C}();e.AsyncArrowFunctionExpression=p;var f=function(){function C(v,T,ne){this.type=n.Syntax.FunctionDeclaration,this.id=v,this.params=T,this.body=ne,this.generator=!1,this.expression=!1,this.async=!0}return C}();e.AsyncFunctionDeclaration=f;var g=function(){function C(v,T,ne){this.type=n.Syntax.FunctionExpression,this.id=v,this.params=T,this.body=ne,this.generator=!1,this.expression=!1,this.async=!0}return C}();e.AsyncFunctionExpression=g;var m=function(){function C(v){this.type=n.Syntax.AwaitExpression,this.argument=v}return C}();e.AwaitExpression=m;var a=function(){function C(v,T,ne){var jt=v==="||"||v==="&&";this.type=jt?n.Syntax.LogicalExpression:n.Syntax.BinaryExpression,this.operator=v,this.left=T,this.right=ne}return C}();e.BinaryExpression=a;var u=function(){function C(v){this.type=n.Syntax.BlockStatement,this.body=v}return C}();e.BlockStatement=u;var h=function(){function C(v){this.type=n.Syntax.BreakStatement,this.label=v}return C}();e.BreakStatement=h;var x=function(){function C(v,T){this.type=n.Syntax.CallExpression,this.callee=v,this.arguments=T}return C}();e.CallExpression=x;var y=function(){function C(v,T){this.type=n.Syntax.CatchClause,this.param=v,this.body=T}return C}();e.CatchClause=y;var b=function(){function C(v){this.type=n.Syntax.ClassBody,this.body=v}return C}();e.ClassBody=b;var F=function(){function C(v,T,ne){this.type=n.Syntax.ClassDeclaration,this.id=v,this.superClass=T,this.body=ne}return C}();e.ClassDeclaration=F;var O=function(){function C(v,T,ne){this.type=n.Syntax.ClassExpression,this.id=v,this.superClass=T,this.body=ne}return C}();e.ClassExpression=O;var M=function(){function C(v,T){this.type=n.Syntax.MemberExpression,this.computed=!0,this.object=v,this.property=T}return C}();e.ComputedMemberExpression=M;var H=function(){function C(v,T,ne){this.type=n.Syntax.ConditionalExpression,this.test=v,this.consequent=T,this.alternate=ne}return C}();e.ConditionalExpression=H;var X=function(){function C(v){this.type=n.Syntax.ContinueStatement,this.label=v}return C}();e.ContinueStatement=X;var $=function(){function C(){this.type=n.Syntax.DebuggerStatement}return C}();e.DebuggerStatement=$;var ae=function(){function C(v,T){this.type=n.Syntax.ExpressionStatement,this.expression=v,this.directive=T}return C}();e.Directive=ae;var xe=function(){function C(v,T){this.type=n.Syntax.DoWhileStatement,this.body=v,this.test=T}return C}();e.DoWhileStatement=xe;var ge=function(){function C(){this.type=n.Syntax.EmptyStatement}return C}();e.EmptyStatement=ge;var ut=function(){function C(v){this.type=n.Syntax.ExportAllDeclaration,this.source=v}return C}();e.ExportAllDeclaration=ut;var oo=function(){function C(v){this.type=n.Syntax.ExportDefaultDeclaration,this.declaration=v}return C}();e.ExportDefaultDeclaration=oo;var fn=function(){function C(v,T,ne){this.type=n.Syntax.ExportNamedDeclaration,this.declaration=v,this.specifiers=T,this.source=ne}return C}();e.ExportNamedDeclaration=fn;var gi=function(){function C(v,T){this.type=n.Syntax.ExportSpecifier,this.exported=T,this.local=v}return C}();e.ExportSpecifier=gi;var nr=function(){function C(v){this.type=n.Syntax.ExpressionStatement,this.expression=v}return C}();e.ExpressionStatement=nr;var vt=function(){function C(v,T,ne){this.type=n.Syntax.ForInStatement,this.left=v,this.right=T,this.body=ne,this.each=!1}return C}();e.ForInStatement=vt;var $o=function(){function C(v,T,ne){this.type=n.Syntax.ForOfStatement,this.left=v,this.right=T,this.body=ne}return C}();e.ForOfStatement=$o;var qa=function(){function C(v,T,ne,jt){this.type=n.Syntax.ForStatement,this.init=v,this.test=T,this.update=ne,this.body=jt}return C}();e.ForStatement=qa;var Yo=function(){function C(v,T,ne,jt){this.type=n.Syntax.FunctionDeclaration,this.id=v,this.params=T,this.body=ne,this.generator=jt,this.expression=!1,this.async=!1}return C}();e.FunctionDeclaration=Yo;var D1=function(){function C(v,T,ne,jt){this.type=n.Syntax.FunctionExpression,this.id=v,this.params=T,this.body=ne,this.generator=jt,this.expression=!1,this.async=!1}return C}();e.FunctionExpression=D1;var A1=function(){function C(v){this.type=n.Syntax.Identifier,this.name=v}return C}();e.Identifier=A1;var k1=function(){function C(v,T,ne){this.type=n.Syntax.IfStatement,this.test=v,this.consequent=T,this.alternate=ne}return C}();e.IfStatement=k1;var F1=function(){function C(v,T){this.type=n.Syntax.ImportDeclaration,this.specifiers=v,this.source=T}return C}();e.ImportDeclaration=F1;var O1=function(){function C(v){this.type=n.Syntax.ImportDefaultSpecifier,this.local=v}return C}();e.ImportDefaultSpecifier=O1;var w1=function(){function C(v){this.type=n.Syntax.ImportNamespaceSpecifier,this.local=v}return C}();e.ImportNamespaceSpecifier=w1;var M1=function(){function C(v,T){this.type=n.Syntax.ImportSpecifier,this.local=v,this.imported=T}return C}();e.ImportSpecifier=M1;var R1=function(){function C(v,T){this.type=n.Syntax.LabeledStatement,this.label=v,this.body=T}return C}();e.LabeledStatement=R1;var T1=function(){function C(v,T){this.type=n.Syntax.Literal,this.value=v,this.raw=T}return C}();e.Literal=T1;var I1=function(){function C(v,T){this.type=n.Syntax.MetaProperty,this.meta=v,this.property=T}return C}();e.MetaProperty=I1;var N1=function(){function C(v,T,ne,jt,Vh){this.type=n.Syntax.MethodDefinition,this.key=v,this.computed=T,this.value=ne,this.kind=jt,this.static=Vh}return C}();e.MethodDefinition=N1;var P1=function(){function C(v){this.type=n.Syntax.Program,this.body=v,this.sourceType="module"}return C}();e.Module=P1;var L1=function(){function C(v,T){this.type=n.Syntax.NewExpression,this.callee=v,this.arguments=T}return C}();e.NewExpression=L1;var B1=function(){function C(v){this.type=n.Syntax.ObjectExpression,this.properties=v}return C}();e.ObjectExpression=B1;var H1=function(){function C(v){this.type=n.Syntax.ObjectPattern,this.properties=v}return C}();e.ObjectPattern=H1;var q1=function(){function C(v,T,ne,jt,Vh,lI){this.type=n.Syntax.Property,this.key=T,this.computed=ne,this.value=jt,this.kind=v,this.method=Vh,this.shorthand=lI}return C}();e.Property=q1;var U1=function(){function C(v,T,ne,jt){this.type=n.Syntax.Literal,this.value=v,this.raw=T,this.regex={pattern:ne,flags:jt}}return C}();e.RegexLiteral=U1;var z1=function(){function C(v){this.type=n.Syntax.RestElement,this.argument=v}return C}();e.RestElement=z1;var W1=function(){function C(v){this.type=n.Syntax.ReturnStatement,this.argument=v}return C}();e.ReturnStatement=W1;var j1=function(){function C(v){this.type=n.Syntax.Program,this.body=v,this.sourceType="script"}return C}();e.Script=j1;var J1=function(){function C(v){this.type=n.Syntax.SequenceExpression,this.expressions=v}return C}();e.SequenceExpression=J1;var G1=function(){function C(v){this.type=n.Syntax.SpreadElement,this.argument=v}return C}();e.SpreadElement=G1;var V1=function(){function C(v,T){this.type=n.Syntax.MemberExpression,this.computed=!1,this.object=v,this.property=T}return C}();e.StaticMemberExpression=V1;var K1=function(){function C(){this.type=n.Syntax.Super}return C}();e.Super=K1;var X1=function(){function C(v,T){this.type=n.Syntax.SwitchCase,this.test=v,this.consequent=T}return C}();e.SwitchCase=X1;var $1=function(){function C(v,T){this.type=n.Syntax.SwitchStatement,this.discriminant=v,this.cases=T}return C}();e.SwitchStatement=$1;var Y1=function(){function C(v,T){this.type=n.Syntax.TaggedTemplateExpression,this.tag=v,this.quasi=T}return C}();e.TaggedTemplateExpression=Y1;var Q1=function(){function C(v,T){this.type=n.Syntax.TemplateElement,this.value=v,this.tail=T}return C}();e.TemplateElement=Q1;var Z1=function(){function C(v,T){this.type=n.Syntax.TemplateLiteral,this.quasis=v,this.expressions=T}return C}();e.TemplateLiteral=Z1;var eI=function(){function C(){this.type=n.Syntax.ThisExpression}return C}();e.ThisExpression=eI;var tI=function(){function C(v){this.type=n.Syntax.ThrowStatement,this.argument=v}return C}();e.ThrowStatement=tI;var rI=function(){function C(v,T,ne){this.type=n.Syntax.TryStatement,this.block=v,this.handler=T,this.finalizer=ne}return C}();e.TryStatement=rI;var nI=function(){function C(v,T){this.type=n.Syntax.UnaryExpression,this.operator=v,this.argument=T,this.prefix=!0}return C}();e.UnaryExpression=nI;var oI=function(){function C(v,T,ne){this.type=n.Syntax.UpdateExpression,this.operator=v,this.argument=T,this.prefix=ne}return C}();e.UpdateExpression=oI;var sI=function(){function C(v,T){this.type=n.Syntax.VariableDeclaration,this.declarations=v,this.kind=T}return C}();e.VariableDeclaration=sI;var iI=function(){function C(v,T){this.type=n.Syntax.VariableDeclarator,this.id=v,this.init=T}return C}();e.VariableDeclarator=iI;var aI=function(){function C(v,T){this.type=n.Syntax.WhileStatement,this.test=v,this.body=T}return C}();e.WhileStatement=aI;var cI=function(){function C(v,T){this.type=n.Syntax.WithStatement,this.object=v,this.body=T}return C}();e.WithStatement=cI;var uI=function(){function C(v,T){this.type=n.Syntax.YieldExpression,this.argument=v,this.delegate=T}return C}();e.YieldExpression=uI},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(9),o=r(10),s=r(11),i=r(7),c=r(12),l=r(2),p=r(13),f="ArrowParameterPlaceHolder",g=function(){function m(a,u,h){u===void 0&&(u={}),this.config={range:typeof u.range=="boolean"&&u.range,loc:typeof u.loc=="boolean"&&u.loc,source:null,tokens:typeof u.tokens=="boolean"&&u.tokens,comment:typeof u.comment=="boolean"&&u.comment,tolerant:typeof u.tolerant=="boolean"&&u.tolerant},this.config.loc&&u.source&&u.source!==null&&(this.config.source=String(u.source)),this.delegate=h,this.errorHandler=new o.ErrorHandler,this.errorHandler.tolerant=this.config.tolerant,this.scanner=new c.Scanner(a,this.errorHandler),this.scanner.trackComment=this.config.comment,this.operatorPrecedence={")":0,";":0,",":0,"=":0,"]":0,"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":11,"/":11,"%":11},this.lookahead={type:2,value:"",lineNumber:this.scanner.lineNumber,lineStart:0,start:0,end:0},this.hasLineTerminator=!1,this.context={isModule:!1,await:!1,allowIn:!0,allowStrictDirective:!0,allowYield:!0,firstCoverInitializedNameError:null,isAssignmentTarget:!1,isBindingElement:!1,inFunctionBody:!1,inIteration:!1,inSwitch:!1,labelSet:{},strict:!1},this.tokens=[],this.startMarker={index:0,line:this.scanner.lineNumber,column:0},this.lastMarker={index:0,line:this.scanner.lineNumber,column:0},this.nextToken(),this.lastMarker={index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}return m.prototype.throwError=function(a){for(var u=[],h=1;h<arguments.length;h++)u[h-1]=arguments[h];var x=Array.prototype.slice.call(arguments,1),y=a.replace(/%(\d)/g,function(M,H){return n.assert(H<x.length,"Message reference must be in range"),x[H]}),b=this.lastMarker.index,F=this.lastMarker.line,O=this.lastMarker.column+1;throw this.errorHandler.createError(b,F,O,y)},m.prototype.tolerateError=function(a){for(var u=[],h=1;h<arguments.length;h++)u[h-1]=arguments[h];var x=Array.prototype.slice.call(arguments,1),y=a.replace(/%(\d)/g,function(M,H){return n.assert(H<x.length,"Message reference must be in range"),x[H]}),b=this.lastMarker.index,F=this.scanner.lineNumber,O=this.lastMarker.column+1;this.errorHandler.tolerateError(b,F,O,y)},m.prototype.unexpectedTokenError=function(a,u){var h=u||s.Messages.UnexpectedToken,x;if(a?(u||(h=a.type===2?s.Messages.UnexpectedEOS:a.type===3?s.Messages.UnexpectedIdentifier:a.type===6?s.Messages.UnexpectedNumber:a.type===8?s.Messages.UnexpectedString:a.type===10?s.Messages.UnexpectedTemplate:s.Messages.UnexpectedToken,a.type===4&&(this.scanner.isFutureReservedWord(a.value)?h=s.Messages.UnexpectedReserved:this.context.strict&&this.scanner.isStrictModeReservedWord(a.value)&&(h=s.Messages.StrictReservedWord))),x=a.value):x="ILLEGAL",h=h.replace("%0",x),a&&typeof a.lineNumber=="number"){var y=a.start,b=a.lineNumber,F=this.lastMarker.index-this.lastMarker.column,O=a.start-F+1;return this.errorHandler.createError(y,b,O,h)}else{var y=this.lastMarker.index,b=this.lastMarker.line,O=this.lastMarker.column+1;return this.errorHandler.createError(y,b,O,h)}},m.prototype.throwUnexpectedToken=function(a,u){throw this.unexpectedTokenError(a,u)},m.prototype.tolerateUnexpectedToken=function(a,u){this.errorHandler.tolerate(this.unexpectedTokenError(a,u))},m.prototype.collectComments=function(){if(!this.config.comment)this.scanner.scanComments();else{var a=this.scanner.scanComments();if(a.length>0&&this.delegate)for(var u=0;u<a.length;++u){var h=a[u],x=void 0;x={type:h.multiLine?"BlockComment":"LineComment",value:this.scanner.source.slice(h.slice[0],h.slice[1])},this.config.range&&(x.range=h.range),this.config.loc&&(x.loc=h.loc);var y={start:{line:h.loc.start.line,column:h.loc.start.column,offset:h.range[0]},end:{line:h.loc.end.line,column:h.loc.end.column,offset:h.range[1]}};this.delegate(x,y)}}},m.prototype.getTokenRaw=function(a){return this.scanner.source.slice(a.start,a.end)},m.prototype.convertToken=function(a){var u={type:p.TokenName[a.type],value:this.getTokenRaw(a)};if(this.config.range&&(u.range=[a.start,a.end]),this.config.loc&&(u.loc={start:{line:this.startMarker.line,column:this.startMarker.column},end:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}),a.type===9){var h=a.pattern,x=a.flags;u.regex={pattern:h,flags:x}}return u},m.prototype.nextToken=function(){var a=this.lookahead;this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.collectComments(),this.scanner.index!==this.startMarker.index&&(this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart);var u=this.scanner.lex();return this.hasLineTerminator=a.lineNumber!==u.lineNumber,u&&this.context.strict&&u.type===3&&this.scanner.isStrictModeReservedWord(u.value)&&(u.type=4),this.lookahead=u,this.config.tokens&&u.type!==2&&this.tokens.push(this.convertToken(u)),a},m.prototype.nextRegexToken=function(){this.collectComments();var a=this.scanner.scanRegExp();return this.config.tokens&&(this.tokens.pop(),this.tokens.push(this.convertToken(a))),this.lookahead=a,this.nextToken(),a},m.prototype.createNode=function(){return{index:this.startMarker.index,line:this.startMarker.line,column:this.startMarker.column}},m.prototype.startNode=function(a,u){u===void 0&&(u=0);var h=a.start-a.lineStart,x=a.lineNumber;return h<0&&(h+=u,x--),{index:a.start,line:x,column:h}},m.prototype.finalize=function(a,u){if(this.config.range&&(u.range=[a.index,this.lastMarker.index]),this.config.loc&&(u.loc={start:{line:a.line,column:a.column},end:{line:this.lastMarker.line,column:this.lastMarker.column}},this.config.source&&(u.loc.source=this.config.source)),this.delegate){var h={start:{line:a.line,column:a.column,offset:a.index},end:{line:this.lastMarker.line,column:this.lastMarker.column,offset:this.lastMarker.index}};this.delegate(u,h)}return u},m.prototype.expect=function(a){var u=this.nextToken();(u.type!==7||u.value!==a)&&this.throwUnexpectedToken(u)},m.prototype.expectCommaSeparator=function(){if(this.config.tolerant){var a=this.lookahead;a.type===7&&a.value===","?this.nextToken():a.type===7&&a.value===";"?(this.nextToken(),this.tolerateUnexpectedToken(a)):this.tolerateUnexpectedToken(a,s.Messages.UnexpectedToken)}else this.expect(",")},m.prototype.expectKeyword=function(a){var u=this.nextToken();(u.type!==4||u.value!==a)&&this.throwUnexpectedToken(u)},m.prototype.match=function(a){return this.lookahead.type===7&&this.lookahead.value===a},m.prototype.matchKeyword=function(a){return this.lookahead.type===4&&this.lookahead.value===a},m.prototype.matchContextualKeyword=function(a){return this.lookahead.type===3&&this.lookahead.value===a},m.prototype.matchAssign=function(){if(this.lookahead.type!==7)return!1;var a=this.lookahead.value;return a==="="||a==="*="||a==="**="||a==="/="||a==="%="||a==="+="||a==="-="||a==="<<="||a===">>="||a===">>>="||a==="&="||a==="^="||a==="|="},m.prototype.isolateCoverGrammar=function(a){var u=this.context.isBindingElement,h=this.context.isAssignmentTarget,x=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var y=a.call(this);return this.context.firstCoverInitializedNameError!==null&&this.throwUnexpectedToken(this.context.firstCoverInitializedNameError),this.context.isBindingElement=u,this.context.isAssignmentTarget=h,this.context.firstCoverInitializedNameError=x,y},m.prototype.inheritCoverGrammar=function(a){var u=this.context.isBindingElement,h=this.context.isAssignmentTarget,x=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var y=a.call(this);return this.context.isBindingElement=this.context.isBindingElement&&u,this.context.isAssignmentTarget=this.context.isAssignmentTarget&&h,this.context.firstCoverInitializedNameError=x||this.context.firstCoverInitializedNameError,y},m.prototype.consumeSemicolon=function(){this.match(";")?this.nextToken():this.hasLineTerminator||(this.lookahead.type!==2&&!this.match("}")&&this.throwUnexpectedToken(this.lookahead),this.lastMarker.index=this.startMarker.index,this.lastMarker.line=this.startMarker.line,this.lastMarker.column=this.startMarker.column)},m.prototype.parsePrimaryExpression=function(){var a=this.createNode(),u,h,x;switch(this.lookahead.type){case 3:(this.context.isModule||this.context.await)&&this.lookahead.value==="await"&&this.tolerateUnexpectedToken(this.lookahead),u=this.matchAsyncFunction()?this.parseFunctionExpression():this.finalize(a,new i.Identifier(this.nextToken().value));break;case 6:case 8:this.context.strict&&this.lookahead.octal&&this.tolerateUnexpectedToken(this.lookahead,s.Messages.StrictOctalLiteral),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,h=this.nextToken(),x=this.getTokenRaw(h),u=this.finalize(a,new i.Literal(h.value,x));break;case 1:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,h=this.nextToken(),x=this.getTokenRaw(h),u=this.finalize(a,new i.Literal(h.value==="true",x));break;case 5:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,h=this.nextToken(),x=this.getTokenRaw(h),u=this.finalize(a,new i.Literal(null,x));break;case 10:u=this.parseTemplateLiteral();break;case 7:switch(this.lookahead.value){case"(":this.context.isBindingElement=!1,u=this.inheritCoverGrammar(this.parseGroupExpression);break;case"[":u=this.inheritCoverGrammar(this.parseArrayInitializer);break;case"{":u=this.inheritCoverGrammar(this.parseObjectInitializer);break;case"/":case"/=":this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.scanner.index=this.startMarker.index,h=this.nextRegexToken(),x=this.getTokenRaw(h),u=this.finalize(a,new i.RegexLiteral(h.regex,x,h.pattern,h.flags));break;default:u=this.throwUnexpectedToken(this.nextToken())}break;case 4:!this.context.strict&&this.context.allowYield&&this.matchKeyword("yield")?u=this.parseIdentifierName():!this.context.strict&&this.matchKeyword("let")?u=this.finalize(a,new i.Identifier(this.nextToken().value)):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.matchKeyword("function")?u=this.parseFunctionExpression():this.matchKeyword("this")?(this.nextToken(),u=this.finalize(a,new i.ThisExpression)):this.matchKeyword("class")?u=this.parseClassExpression():u=this.throwUnexpectedToken(this.nextToken()));break;default:u=this.throwUnexpectedToken(this.nextToken())}return u},m.prototype.parseSpreadElement=function(){var a=this.createNode();this.expect("...");var u=this.inheritCoverGrammar(this.parseAssignmentExpression);return this.finalize(a,new i.SpreadElement(u))},m.prototype.parseArrayInitializer=function(){var a=this.createNode(),u=[];for(this.expect("[");!this.match("]");)if(this.match(","))this.nextToken(),u.push(null);else if(this.match("...")){var h=this.parseSpreadElement();this.match("]")||(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.expect(",")),u.push(h)}else u.push(this.inheritCoverGrammar(this.parseAssignmentExpression)),this.match("]")||this.expect(",");return this.expect("]"),this.finalize(a,new i.ArrayExpression(u))},m.prototype.parsePropertyMethod=function(a){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var u=this.context.strict,h=this.context.allowStrictDirective;this.context.allowStrictDirective=a.simple;var x=this.isolateCoverGrammar(this.parseFunctionSourceElements);return this.context.strict&&a.firstRestricted&&this.tolerateUnexpectedToken(a.firstRestricted,a.message),this.context.strict&&a.stricted&&this.tolerateUnexpectedToken(a.stricted,a.message),this.context.strict=u,this.context.allowStrictDirective=h,x},m.prototype.parsePropertyMethodFunction=function(){var a=!1,u=this.createNode(),h=this.context.allowYield;this.context.allowYield=!0;var x=this.parseFormalParameters(),y=this.parsePropertyMethod(x);return this.context.allowYield=h,this.finalize(u,new i.FunctionExpression(null,x.params,y,a))},m.prototype.parsePropertyMethodAsyncFunction=function(){var a=this.createNode(),u=this.context.allowYield,h=this.context.await;this.context.allowYield=!1,this.context.await=!0;var x=this.parseFormalParameters(),y=this.parsePropertyMethod(x);return this.context.allowYield=u,this.context.await=h,this.finalize(a,new i.AsyncFunctionExpression(null,x.params,y))},m.prototype.parseObjectPropertyKey=function(){var a=this.createNode(),u=this.nextToken(),h;switch(u.type){case 8:case 6:this.context.strict&&u.octal&&this.tolerateUnexpectedToken(u,s.Messages.StrictOctalLiteral);var x=this.getTokenRaw(u);h=this.finalize(a,new i.Literal(u.value,x));break;case 3:case 1:case 5:case 4:h=this.finalize(a,new i.Identifier(u.value));break;case 7:u.value==="["?(h=this.isolateCoverGrammar(this.parseAssignmentExpression),this.expect("]")):h=this.throwUnexpectedToken(u);break;default:h=this.throwUnexpectedToken(u)}return h},m.prototype.isPropertyKey=function(a,u){return a.type===l.Syntax.Identifier&&a.name===u||a.type===l.Syntax.Literal&&a.value===u},m.prototype.parseObjectProperty=function(a){var u=this.createNode(),h=this.lookahead,x,y=null,b=null,F=!1,O=!1,M=!1,H=!1;if(h.type===3){var X=h.value;this.nextToken(),F=this.match("["),H=!this.hasLineTerminator&&X==="async"&&!this.match(":")&&!this.match("(")&&!this.match("*")&&!this.match(","),y=H?this.parseObjectPropertyKey():this.finalize(u,new i.Identifier(X))}else this.match("*")?this.nextToken():(F=this.match("["),y=this.parseObjectPropertyKey());var $=this.qualifiedPropertyName(this.lookahead);if(h.type===3&&!H&&h.value==="get"&&$)x="get",F=this.match("["),y=this.parseObjectPropertyKey(),this.context.allowYield=!1,b=this.parseGetterMethod();else if(h.type===3&&!H&&h.value==="set"&&$)x="set",F=this.match("["),y=this.parseObjectPropertyKey(),b=this.parseSetterMethod();else if(h.type===7&&h.value==="*"&&$)x="init",F=this.match("["),y=this.parseObjectPropertyKey(),b=this.parseGeneratorMethod(),O=!0;else if(y||this.throwUnexpectedToken(this.lookahead),x="init",this.match(":")&&!H)!F&&this.isPropertyKey(y,"__proto__")&&(a.value&&this.tolerateError(s.Messages.DuplicateProtoProperty),a.value=!0),this.nextToken(),b=this.inheritCoverGrammar(this.parseAssignmentExpression);else if(this.match("("))b=H?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),O=!0;else if(h.type===3){var X=this.finalize(u,new i.Identifier(h.value));if(this.match("=")){this.context.firstCoverInitializedNameError=this.lookahead,this.nextToken(),M=!0;var ae=this.isolateCoverGrammar(this.parseAssignmentExpression);b=this.finalize(u,new i.AssignmentPattern(X,ae))}else M=!0,b=X}else this.throwUnexpectedToken(this.nextToken());return this.finalize(u,new i.Property(x,y,F,b,O,M))},m.prototype.parseObjectInitializer=function(){var a=this.createNode();this.expect("{");for(var u=[],h={value:!1};!this.match("}");)u.push(this.parseObjectProperty(h)),this.match("}")||this.expectCommaSeparator();return this.expect("}"),this.finalize(a,new i.ObjectExpression(u))},m.prototype.parseTemplateHead=function(){n.assert(this.lookahead.head,"Template literal must start with a template head");var a=this.createNode(),u=this.nextToken(),h=u.value,x=u.cooked;return this.finalize(a,new i.TemplateElement({raw:h,cooked:x},u.tail))},m.prototype.parseTemplateElement=function(){this.lookahead.type!==10&&this.throwUnexpectedToken();var a=this.createNode(),u=this.nextToken(),h=u.value,x=u.cooked;return this.finalize(a,new i.TemplateElement({raw:h,cooked:x},u.tail))},m.prototype.parseTemplateLiteral=function(){var a=this.createNode(),u=[],h=[],x=this.parseTemplateHead();for(h.push(x);!x.tail;)u.push(this.parseExpression()),x=this.parseTemplateElement(),h.push(x);return this.finalize(a,new i.TemplateLiteral(h,u))},m.prototype.reinterpretExpressionAsPattern=function(a){switch(a.type){case l.Syntax.Identifier:case l.Syntax.MemberExpression:case l.Syntax.RestElement:case l.Syntax.AssignmentPattern:break;case l.Syntax.SpreadElement:a.type=l.Syntax.RestElement,this.reinterpretExpressionAsPattern(a.argument);break;case l.Syntax.ArrayExpression:a.type=l.Syntax.ArrayPattern;for(var u=0;u<a.elements.length;u++)a.elements[u]!==null&&this.reinterpretExpressionAsPattern(a.elements[u]);break;case l.Syntax.ObjectExpression:a.type=l.Syntax.ObjectPattern;for(var u=0;u<a.properties.length;u++)this.reinterpretExpressionAsPattern(a.properties[u].value);break;case l.Syntax.AssignmentExpression:a.type=l.Syntax.AssignmentPattern,delete a.operator,this.reinterpretExpressionAsPattern(a.left);break;default:break}},m.prototype.parseGroupExpression=function(){var a;if(this.expect("("),this.match(")"))this.nextToken(),this.match("=>")||this.expect("=>"),a={type:f,params:[],async:!1};else{var u=this.lookahead,h=[];if(this.match("..."))a=this.parseRestElement(h),this.expect(")"),this.match("=>")||this.expect("=>"),a={type:f,params:[a],async:!1};else{var x=!1;if(this.context.isBindingElement=!0,a=this.inheritCoverGrammar(this.parseAssignmentExpression),this.match(",")){var y=[];for(this.context.isAssignmentTarget=!1,y.push(a);this.lookahead.type!==2&&this.match(",");){if(this.nextToken(),this.match(")")){this.nextToken();for(var b=0;b<y.length;b++)this.reinterpretExpressionAsPattern(y[b]);x=!0,a={type:f,params:y,async:!1}}else if(this.match("...")){this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),y.push(this.parseRestElement(h)),this.expect(")"),this.match("=>")||this.expect("=>"),this.context.isBindingElement=!1;for(var b=0;b<y.length;b++)this.reinterpretExpressionAsPattern(y[b]);x=!0,a={type:f,params:y,async:!1}}else y.push(this.inheritCoverGrammar(this.parseAssignmentExpression));if(x)break}x||(a=this.finalize(this.startNode(u),new i.SequenceExpression(y)))}if(!x){if(this.expect(")"),this.match("=>")&&(a.type===l.Syntax.Identifier&&a.name==="yield"&&(x=!0,a={type:f,params:[a],async:!1}),!x)){if(this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),a.type===l.Syntax.SequenceExpression)for(var b=0;b<a.expressions.length;b++)this.reinterpretExpressionAsPattern(a.expressions[b]);else this.reinterpretExpressionAsPattern(a);var F=a.type===l.Syntax.SequenceExpression?a.expressions:[a];a={type:f,params:F,async:!1}}this.context.isBindingElement=!1}}}return a},m.prototype.parseArguments=function(){this.expect("(");var a=[];if(!this.match(")"))for(;;){var u=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAssignmentExpression);if(a.push(u),this.match(")")||(this.expectCommaSeparator(),this.match(")")))break}return this.expect(")"),a},m.prototype.isIdentifierName=function(a){return a.type===3||a.type===4||a.type===1||a.type===5},m.prototype.parseIdentifierName=function(){var a=this.createNode(),u=this.nextToken();return this.isIdentifierName(u)||this.throwUnexpectedToken(u),this.finalize(a,new i.Identifier(u.value))},m.prototype.parseNewExpression=function(){var a=this.createNode(),u=this.parseIdentifierName();n.assert(u.name==="new","New expression must start with `new`");var h;if(this.match("."))if(this.nextToken(),this.lookahead.type===3&&this.context.inFunctionBody&&this.lookahead.value==="target"){var x=this.parseIdentifierName();h=new i.MetaProperty(u,x)}else this.throwUnexpectedToken(this.lookahead);else{var y=this.isolateCoverGrammar(this.parseLeftHandSideExpression),b=this.match("(")?this.parseArguments():[];h=new i.NewExpression(y,b),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return this.finalize(a,h)},m.prototype.parseAsyncArgument=function(){var a=this.parseAssignmentExpression();return this.context.firstCoverInitializedNameError=null,a},m.prototype.parseAsyncArguments=function(){this.expect("(");var a=[];if(!this.match(")"))for(;;){var u=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAsyncArgument);if(a.push(u),this.match(")")||(this.expectCommaSeparator(),this.match(")")))break}return this.expect(")"),a},m.prototype.parseLeftHandSideExpressionAllowCall=function(){var a=this.lookahead,u=this.matchContextualKeyword("async"),h=this.context.allowIn;this.context.allowIn=!0;var x;for(this.matchKeyword("super")&&this.context.inFunctionBody?(x=this.createNode(),this.nextToken(),x=this.finalize(x,new i.Super),!this.match("(")&&!this.match(".")&&!this.match("[")&&this.throwUnexpectedToken(this.lookahead)):x=this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match(".")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(".");var y=this.parseIdentifierName();x=this.finalize(this.startNode(a),new i.StaticMemberExpression(x,y))}else if(this.match("(")){var b=u&&a.lineNumber===this.lookahead.lineNumber;this.context.isBindingElement=!1,this.context.isAssignmentTarget=!1;var F=b?this.parseAsyncArguments():this.parseArguments();if(x=this.finalize(this.startNode(a),new i.CallExpression(x,F)),b&&this.match("=>")){for(var O=0;O<F.length;++O)this.reinterpretExpressionAsPattern(F[O]);x={type:f,params:F,async:!0}}}else if(this.match("[")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("[");var y=this.isolateCoverGrammar(this.parseExpression);this.expect("]"),x=this.finalize(this.startNode(a),new i.ComputedMemberExpression(x,y))}else if(this.lookahead.type===10&&this.lookahead.head){var M=this.parseTemplateLiteral();x=this.finalize(this.startNode(a),new i.TaggedTemplateExpression(x,M))}else break;return this.context.allowIn=h,x},m.prototype.parseSuper=function(){var a=this.createNode();return this.expectKeyword("super"),!this.match("[")&&!this.match(".")&&this.throwUnexpectedToken(this.lookahead),this.finalize(a,new i.Super)},m.prototype.parseLeftHandSideExpression=function(){n.assert(this.context.allowIn,"callee of new expression always allow in keyword.");for(var a=this.startNode(this.lookahead),u=this.matchKeyword("super")&&this.context.inFunctionBody?this.parseSuper():this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match("[")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("[");var h=this.isolateCoverGrammar(this.parseExpression);this.expect("]"),u=this.finalize(a,new i.ComputedMemberExpression(u,h))}else if(this.match(".")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(".");var h=this.parseIdentifierName();u=this.finalize(a,new i.StaticMemberExpression(u,h))}else if(this.lookahead.type===10&&this.lookahead.head){var x=this.parseTemplateLiteral();u=this.finalize(a,new i.TaggedTemplateExpression(u,x))}else break;return u},m.prototype.parseUpdateExpression=function(){var a,u=this.lookahead;if(this.match("++")||this.match("--")){var h=this.startNode(u),x=this.nextToken();a=this.inheritCoverGrammar(this.parseUnaryExpression),this.context.strict&&a.type===l.Syntax.Identifier&&this.scanner.isRestrictedWord(a.name)&&this.tolerateError(s.Messages.StrictLHSPrefix),this.context.isAssignmentTarget||this.tolerateError(s.Messages.InvalidLHSInAssignment);var y=!0;a=this.finalize(h,new i.UpdateExpression(x.value,a,y)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else if(a=this.inheritCoverGrammar(this.parseLeftHandSideExpressionAllowCall),!this.hasLineTerminator&&this.lookahead.type===7&&(this.match("++")||this.match("--"))){this.context.strict&&a.type===l.Syntax.Identifier&&this.scanner.isRestrictedWord(a.name)&&this.tolerateError(s.Messages.StrictLHSPostfix),this.context.isAssignmentTarget||this.tolerateError(s.Messages.InvalidLHSInAssignment),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var b=this.nextToken().value,y=!1;a=this.finalize(this.startNode(u),new i.UpdateExpression(b,a,y))}return a},m.prototype.parseAwaitExpression=function(){var a=this.createNode();this.nextToken();var u=this.parseUnaryExpression();return this.finalize(a,new i.AwaitExpression(u))},m.prototype.parseUnaryExpression=function(){var a;if(this.match("+")||this.match("-")||this.match("~")||this.match("!")||this.matchKeyword("delete")||this.matchKeyword("void")||this.matchKeyword("typeof")){var u=this.startNode(this.lookahead),h=this.nextToken();a=this.inheritCoverGrammar(this.parseUnaryExpression),a=this.finalize(u,new i.UnaryExpression(h.value,a)),this.context.strict&&a.operator==="delete"&&a.argument.type===l.Syntax.Identifier&&this.tolerateError(s.Messages.StrictDelete),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else this.context.await&&this.matchContextualKeyword("await")?a=this.parseAwaitExpression():a=this.parseUpdateExpression();return a},m.prototype.parseExponentiationExpression=function(){var a=this.lookahead,u=this.inheritCoverGrammar(this.parseUnaryExpression);if(u.type!==l.Syntax.UnaryExpression&&this.match("**")){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var h=u,x=this.isolateCoverGrammar(this.parseExponentiationExpression);u=this.finalize(this.startNode(a),new i.BinaryExpression("**",h,x))}return u},m.prototype.binaryPrecedence=function(a){var u=a.value,h;return a.type===7?h=this.operatorPrecedence[u]||0:a.type===4?h=u==="instanceof"||this.context.allowIn&&u==="in"?7:0:h=0,h},m.prototype.parseBinaryExpression=function(){var a=this.lookahead,u=this.inheritCoverGrammar(this.parseExponentiationExpression),h=this.lookahead,x=this.binaryPrecedence(h);if(x>0){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;for(var y=[a,this.lookahead],b=u,F=this.isolateCoverGrammar(this.parseExponentiationExpression),O=[b,h.value,F],M=[x];x=this.binaryPrecedence(this.lookahead),!(x<=0);){for(;O.length>2&&x<=M[M.length-1];){F=O.pop();var H=O.pop();M.pop(),b=O.pop(),y.pop();var X=this.startNode(y[y.length-1]);O.push(this.finalize(X,new i.BinaryExpression(H,b,F)))}O.push(this.nextToken().value),M.push(x),y.push(this.lookahead),O.push(this.isolateCoverGrammar(this.parseExponentiationExpression))}var $=O.length-1;u=O[$];for(var ae=y.pop();$>1;){var xe=y.pop(),ge=ae&&ae.lineStart,X=this.startNode(xe,ge),H=O[$-1];u=this.finalize(X,new i.BinaryExpression(H,O[$-2],u)),$-=2,ae=xe}}return u},m.prototype.parseConditionalExpression=function(){var a=this.lookahead,u=this.inheritCoverGrammar(this.parseBinaryExpression);if(this.match("?")){this.nextToken();var h=this.context.allowIn;this.context.allowIn=!0;var x=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowIn=h,this.expect(":");var y=this.isolateCoverGrammar(this.parseAssignmentExpression);u=this.finalize(this.startNode(a),new i.ConditionalExpression(u,x,y)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return u},m.prototype.checkPatternParam=function(a,u){switch(u.type){case l.Syntax.Identifier:this.validateParam(a,u,u.name);break;case l.Syntax.RestElement:this.checkPatternParam(a,u.argument);break;case l.Syntax.AssignmentPattern:this.checkPatternParam(a,u.left);break;case l.Syntax.ArrayPattern:for(var h=0;h<u.elements.length;h++)u.elements[h]!==null&&this.checkPatternParam(a,u.elements[h]);break;case l.Syntax.ObjectPattern:for(var h=0;h<u.properties.length;h++)this.checkPatternParam(a,u.properties[h].value);break;default:break}a.simple=a.simple&&u instanceof i.Identifier},m.prototype.reinterpretAsCoverFormalsList=function(a){var u=[a],h,x=!1;switch(a.type){case l.Syntax.Identifier:break;case f:u=a.params,x=a.async;break;default:return null}h={simple:!0,paramSet:{}};for(var y=0;y<u.length;++y){var b=u[y];b.type===l.Syntax.AssignmentPattern?b.right.type===l.Syntax.YieldExpression&&(b.right.argument&&this.throwUnexpectedToken(this.lookahead),b.right.type=l.Syntax.Identifier,b.right.name="yield",delete b.right.argument,delete b.right.delegate):x&&b.type===l.Syntax.Identifier&&b.name==="await"&&this.throwUnexpectedToken(this.lookahead),this.checkPatternParam(h,b),u[y]=b}if(this.context.strict||!this.context.allowYield)for(var y=0;y<u.length;++y){var b=u[y];b.type===l.Syntax.YieldExpression&&this.throwUnexpectedToken(this.lookahead)}if(h.message===s.Messages.StrictParamDupe){var F=this.context.strict?h.stricted:h.firstRestricted;this.throwUnexpectedToken(F,h.message)}return{simple:h.simple,params:u,stricted:h.stricted,firstRestricted:h.firstRestricted,message:h.message}},m.prototype.parseAssignmentExpression=function(){var a;if(!this.context.allowYield&&this.matchKeyword("yield"))a=this.parseYieldExpression();else{var u=this.lookahead,h=u;if(a=this.parseConditionalExpression(),h.type===3&&h.lineNumber===this.lookahead.lineNumber&&h.value==="async"&&(this.lookahead.type===3||this.matchKeyword("yield"))){var x=this.parsePrimaryExpression();this.reinterpretExpressionAsPattern(x),a={type:f,params:[x],async:!0}}if(a.type===f||this.match("=>")){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var y=a.async,b=this.reinterpretAsCoverFormalsList(a);if(b){this.hasLineTerminator&&this.tolerateUnexpectedToken(this.lookahead),this.context.firstCoverInitializedNameError=null;var F=this.context.strict,O=this.context.allowStrictDirective;this.context.allowStrictDirective=b.simple;var M=this.context.allowYield,H=this.context.await;this.context.allowYield=!0,this.context.await=y;var X=this.startNode(u);this.expect("=>");var $=void 0;if(this.match("{")){var ae=this.context.allowIn;this.context.allowIn=!0,$=this.parseFunctionSourceElements(),this.context.allowIn=ae}else $=this.isolateCoverGrammar(this.parseAssignmentExpression);var xe=$.type!==l.Syntax.BlockStatement;this.context.strict&&b.firstRestricted&&this.throwUnexpectedToken(b.firstRestricted,b.message),this.context.strict&&b.stricted&&this.tolerateUnexpectedToken(b.stricted,b.message),a=y?this.finalize(X,new i.AsyncArrowFunctionExpression(b.params,$,xe)):this.finalize(X,new i.ArrowFunctionExpression(b.params,$,xe)),this.context.strict=F,this.context.allowStrictDirective=O,this.context.allowYield=M,this.context.await=H}}else if(this.matchAssign()){if(this.context.isAssignmentTarget||this.tolerateError(s.Messages.InvalidLHSInAssignment),this.context.strict&&a.type===l.Syntax.Identifier){var ge=a;this.scanner.isRestrictedWord(ge.name)&&this.tolerateUnexpectedToken(h,s.Messages.StrictLHSAssignment),this.scanner.isStrictModeReservedWord(ge.name)&&this.tolerateUnexpectedToken(h,s.Messages.StrictReservedWord)}this.match("=")?this.reinterpretExpressionAsPattern(a):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1),h=this.nextToken();var ut=h.value,oo=this.isolateCoverGrammar(this.parseAssignmentExpression);a=this.finalize(this.startNode(u),new i.AssignmentExpression(ut,a,oo)),this.context.firstCoverInitializedNameError=null}}return a},m.prototype.parseExpression=function(){var a=this.lookahead,u=this.isolateCoverGrammar(this.parseAssignmentExpression);if(this.match(",")){var h=[];for(h.push(u);this.lookahead.type!==2&&this.match(",");)this.nextToken(),h.push(this.isolateCoverGrammar(this.parseAssignmentExpression));u=this.finalize(this.startNode(a),new i.SequenceExpression(h))}return u},m.prototype.parseStatementListItem=function(){var a;if(this.context.isAssignmentTarget=!0,this.context.isBindingElement=!0,this.lookahead.type===4)switch(this.lookahead.value){case"export":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,s.Messages.IllegalExportDeclaration),a=this.parseExportDeclaration();break;case"import":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,s.Messages.IllegalImportDeclaration),a=this.parseImportDeclaration();break;case"const":a=this.parseLexicalDeclaration({inFor:!1});break;case"function":a=this.parseFunctionDeclaration();break;case"class":a=this.parseClassDeclaration();break;case"let":a=this.isLexicalDeclaration()?this.parseLexicalDeclaration({inFor:!1}):this.parseStatement();break;default:a=this.parseStatement();break}else a=this.parseStatement();return a},m.prototype.parseBlock=function(){var a=this.createNode();this.expect("{");for(var u=[];!this.match("}");)u.push(this.parseStatementListItem());return this.expect("}"),this.finalize(a,new i.BlockStatement(u))},m.prototype.parseLexicalBinding=function(a,u){var h=this.createNode(),x=[],y=this.parsePattern(x,a);this.context.strict&&y.type===l.Syntax.Identifier&&this.scanner.isRestrictedWord(y.name)&&this.tolerateError(s.Messages.StrictVarName);var b=null;return a==="const"?!this.matchKeyword("in")&&!this.matchContextualKeyword("of")&&(this.match("=")?(this.nextToken(),b=this.isolateCoverGrammar(this.parseAssignmentExpression)):this.throwError(s.Messages.DeclarationMissingInitializer,"const")):(!u.inFor&&y.type!==l.Syntax.Identifier||this.match("="))&&(this.expect("="),b=this.isolateCoverGrammar(this.parseAssignmentExpression)),this.finalize(h,new i.VariableDeclarator(y,b))},m.prototype.parseBindingList=function(a,u){for(var h=[this.parseLexicalBinding(a,u)];this.match(",");)this.nextToken(),h.push(this.parseLexicalBinding(a,u));return h},m.prototype.isLexicalDeclaration=function(){var a=this.scanner.saveState();this.scanner.scanComments();var u=this.scanner.lex();return this.scanner.restoreState(a),u.type===3||u.type===7&&u.value==="["||u.type===7&&u.value==="{"||u.type===4&&u.value==="let"||u.type===4&&u.value==="yield"},m.prototype.parseLexicalDeclaration=function(a){var u=this.createNode(),h=this.nextToken().value;n.assert(h==="let"||h==="const","Lexical declaration must be either let or const");var x=this.parseBindingList(h,a);return this.consumeSemicolon(),this.finalize(u,new i.VariableDeclaration(x,h))},m.prototype.parseBindingRestElement=function(a,u){var h=this.createNode();this.expect("...");var x=this.parsePattern(a,u);return this.finalize(h,new i.RestElement(x))},m.prototype.parseArrayPattern=function(a,u){var h=this.createNode();this.expect("[");for(var x=[];!this.match("]");)if(this.match(","))this.nextToken(),x.push(null);else{if(this.match("...")){x.push(this.parseBindingRestElement(a,u));break}else x.push(this.parsePatternWithDefault(a,u));this.match("]")||this.expect(",")}return this.expect("]"),this.finalize(h,new i.ArrayPattern(x))},m.prototype.parsePropertyPattern=function(a,u){var h=this.createNode(),x=!1,y=!1,b=!1,F,O;if(this.lookahead.type===3){var M=this.lookahead;F=this.parseVariableIdentifier();var H=this.finalize(h,new i.Identifier(M.value));if(this.match("=")){a.push(M),y=!0,this.nextToken();var X=this.parseAssignmentExpression();O=this.finalize(this.startNode(M),new i.AssignmentPattern(H,X))}else this.match(":")?(this.expect(":"),O=this.parsePatternWithDefault(a,u)):(a.push(M),y=!0,O=H)}else x=this.match("["),F=this.parseObjectPropertyKey(),this.expect(":"),O=this.parsePatternWithDefault(a,u);return this.finalize(h,new i.Property("init",F,x,O,b,y))},m.prototype.parseObjectPattern=function(a,u){var h=this.createNode(),x=[];for(this.expect("{");!this.match("}");)x.push(this.parsePropertyPattern(a,u)),this.match("}")||this.expect(",");return this.expect("}"),this.finalize(h,new i.ObjectPattern(x))},m.prototype.parsePattern=function(a,u){var h;return this.match("[")?h=this.parseArrayPattern(a,u):this.match("{")?h=this.parseObjectPattern(a,u):(this.matchKeyword("let")&&(u==="const"||u==="let")&&this.tolerateUnexpectedToken(this.lookahead,s.Messages.LetInLexicalBinding),a.push(this.lookahead),h=this.parseVariableIdentifier(u)),h},m.prototype.parsePatternWithDefault=function(a,u){var h=this.lookahead,x=this.parsePattern(a,u);if(this.match("=")){this.nextToken();var y=this.context.allowYield;this.context.allowYield=!0;var b=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowYield=y,x=this.finalize(this.startNode(h),new i.AssignmentPattern(x,b))}return x},m.prototype.parseVariableIdentifier=function(a){var u=this.createNode(),h=this.nextToken();return h.type===4&&h.value==="yield"?this.context.strict?this.tolerateUnexpectedToken(h,s.Messages.StrictReservedWord):this.context.allowYield||this.throwUnexpectedToken(h):h.type!==3?this.context.strict&&h.type===4&&this.scanner.isStrictModeReservedWord(h.value)?this.tolerateUnexpectedToken(h,s.Messages.StrictReservedWord):(this.context.strict||h.value!=="let"||a!=="var")&&this.throwUnexpectedToken(h):(this.context.isModule||this.context.await)&&h.type===3&&h.value==="await"&&this.tolerateUnexpectedToken(h),this.finalize(u,new i.Identifier(h.value))},m.prototype.parseVariableDeclaration=function(a){var u=this.createNode(),h=[],x=this.parsePattern(h,"var");this.context.strict&&x.type===l.Syntax.Identifier&&this.scanner.isRestrictedWord(x.name)&&this.tolerateError(s.Messages.StrictVarName);var y=null;return this.match("=")?(this.nextToken(),y=this.isolateCoverGrammar(this.parseAssignmentExpression)):x.type!==l.Syntax.Identifier&&!a.inFor&&this.expect("="),this.finalize(u,new i.VariableDeclarator(x,y))},m.prototype.parseVariableDeclarationList=function(a){var u={inFor:a.inFor},h=[];for(h.push(this.parseVariableDeclaration(u));this.match(",");)this.nextToken(),h.push(this.parseVariableDeclaration(u));return h},m.prototype.parseVariableStatement=function(){var a=this.createNode();this.expectKeyword("var");var u=this.parseVariableDeclarationList({inFor:!1});return this.consumeSemicolon(),this.finalize(a,new i.VariableDeclaration(u,"var"))},m.prototype.parseEmptyStatement=function(){var a=this.createNode();return this.expect(";"),this.finalize(a,new i.EmptyStatement)},m.prototype.parseExpressionStatement=function(){var a=this.createNode(),u=this.parseExpression();return this.consumeSemicolon(),this.finalize(a,new i.ExpressionStatement(u))},m.prototype.parseIfClause=function(){return this.context.strict&&this.matchKeyword("function")&&this.tolerateError(s.Messages.StrictFunction),this.parseStatement()},m.prototype.parseIfStatement=function(){var a=this.createNode(),u,h=null;this.expectKeyword("if"),this.expect("(");var x=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),u=this.finalize(this.createNode(),new i.EmptyStatement)):(this.expect(")"),u=this.parseIfClause(),this.matchKeyword("else")&&(this.nextToken(),h=this.parseIfClause())),this.finalize(a,new i.IfStatement(x,u,h))},m.prototype.parseDoWhileStatement=function(){var a=this.createNode();this.expectKeyword("do");var u=this.context.inIteration;this.context.inIteration=!0;var h=this.parseStatement();this.context.inIteration=u,this.expectKeyword("while"),this.expect("(");var x=this.parseExpression();return!this.match(")")&&this.config.tolerant?this.tolerateUnexpectedToken(this.nextToken()):(this.expect(")"),this.match(";")&&this.nextToken()),this.finalize(a,new i.DoWhileStatement(h,x))},m.prototype.parseWhileStatement=function(){var a=this.createNode(),u;this.expectKeyword("while"),this.expect("(");var h=this.parseExpression();if(!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),u=this.finalize(this.createNode(),new i.EmptyStatement);else{this.expect(")");var x=this.context.inIteration;this.context.inIteration=!0,u=this.parseStatement(),this.context.inIteration=x}return this.finalize(a,new i.WhileStatement(h,u))},m.prototype.parseForStatement=function(){var a=null,u=null,h=null,x=!0,y,b,F=this.createNode();if(this.expectKeyword("for"),this.expect("("),this.match(";"))this.nextToken();else if(this.matchKeyword("var")){a=this.createNode(),this.nextToken();var O=this.context.allowIn;this.context.allowIn=!1;var M=this.parseVariableDeclarationList({inFor:!0});if(this.context.allowIn=O,M.length===1&&this.matchKeyword("in")){var H=M[0];H.init&&(H.id.type===l.Syntax.ArrayPattern||H.id.type===l.Syntax.ObjectPattern||this.context.strict)&&this.tolerateError(s.Messages.ForInOfLoopInitializer,"for-in"),a=this.finalize(a,new i.VariableDeclaration(M,"var")),this.nextToken(),y=a,b=this.parseExpression(),a=null}else M.length===1&&M[0].init===null&&this.matchContextualKeyword("of")?(a=this.finalize(a,new i.VariableDeclaration(M,"var")),this.nextToken(),y=a,b=this.parseAssignmentExpression(),a=null,x=!1):(a=this.finalize(a,new i.VariableDeclaration(M,"var")),this.expect(";"))}else if(this.matchKeyword("const")||this.matchKeyword("let")){a=this.createNode();var X=this.nextToken().value;if(!this.context.strict&&this.lookahead.value==="in")a=this.finalize(a,new i.Identifier(X)),this.nextToken(),y=a,b=this.parseExpression(),a=null;else{var O=this.context.allowIn;this.context.allowIn=!1;var M=this.parseBindingList(X,{inFor:!0});this.context.allowIn=O,M.length===1&&M[0].init===null&&this.matchKeyword("in")?(a=this.finalize(a,new i.VariableDeclaration(M,X)),this.nextToken(),y=a,b=this.parseExpression(),a=null):M.length===1&&M[0].init===null&&this.matchContextualKeyword("of")?(a=this.finalize(a,new i.VariableDeclaration(M,X)),this.nextToken(),y=a,b=this.parseAssignmentExpression(),a=null,x=!1):(this.consumeSemicolon(),a=this.finalize(a,new i.VariableDeclaration(M,X)))}}else{var $=this.lookahead,O=this.context.allowIn;if(this.context.allowIn=!1,a=this.inheritCoverGrammar(this.parseAssignmentExpression),this.context.allowIn=O,this.matchKeyword("in"))(!this.context.isAssignmentTarget||a.type===l.Syntax.AssignmentExpression)&&this.tolerateError(s.Messages.InvalidLHSInForIn),this.nextToken(),this.reinterpretExpressionAsPattern(a),y=a,b=this.parseExpression(),a=null;else if(this.matchContextualKeyword("of"))(!this.context.isAssignmentTarget||a.type===l.Syntax.AssignmentExpression)&&this.tolerateError(s.Messages.InvalidLHSInForLoop),this.nextToken(),this.reinterpretExpressionAsPattern(a),y=a,b=this.parseAssignmentExpression(),a=null,x=!1;else{if(this.match(",")){for(var ae=[a];this.match(",");)this.nextToken(),ae.push(this.isolateCoverGrammar(this.parseAssignmentExpression));a=this.finalize(this.startNode($),new i.SequenceExpression(ae))}this.expect(";")}}typeof y>"u"&&(this.match(";")||(u=this.parseExpression()),this.expect(";"),this.match(")")||(h=this.parseExpression()));var xe;if(!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),xe=this.finalize(this.createNode(),new i.EmptyStatement);else{this.expect(")");var ge=this.context.inIteration;this.context.inIteration=!0,xe=this.isolateCoverGrammar(this.parseStatement),this.context.inIteration=ge}return typeof y>"u"?this.finalize(F,new i.ForStatement(a,u,h,xe)):x?this.finalize(F,new i.ForInStatement(y,b,xe)):this.finalize(F,new i.ForOfStatement(y,b,xe))},m.prototype.parseContinueStatement=function(){var a=this.createNode();this.expectKeyword("continue");var u=null;if(this.lookahead.type===3&&!this.hasLineTerminator){var h=this.parseVariableIdentifier();u=h;var x="$"+h.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,x)||this.throwError(s.Messages.UnknownLabel,h.name)}return this.consumeSemicolon(),u===null&&!this.context.inIteration&&this.throwError(s.Messages.IllegalContinue),this.finalize(a,new i.ContinueStatement(u))},m.prototype.parseBreakStatement=function(){var a=this.createNode();this.expectKeyword("break");var u=null;if(this.lookahead.type===3&&!this.hasLineTerminator){var h=this.parseVariableIdentifier(),x="$"+h.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,x)||this.throwError(s.Messages.UnknownLabel,h.name),u=h}return this.consumeSemicolon(),u===null&&!this.context.inIteration&&!this.context.inSwitch&&this.throwError(s.Messages.IllegalBreak),this.finalize(a,new i.BreakStatement(u))},m.prototype.parseReturnStatement=function(){this.context.inFunctionBody||this.tolerateError(s.Messages.IllegalReturn);var a=this.createNode();this.expectKeyword("return");var u=!this.match(";")&&!this.match("}")&&!this.hasLineTerminator&&this.lookahead.type!==2||this.lookahead.type===8||this.lookahead.type===10,h=u?this.parseExpression():null;return this.consumeSemicolon(),this.finalize(a,new i.ReturnStatement(h))},m.prototype.parseWithStatement=function(){this.context.strict&&this.tolerateError(s.Messages.StrictModeWith);var a=this.createNode(),u;this.expectKeyword("with"),this.expect("(");var h=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),u=this.finalize(this.createNode(),new i.EmptyStatement)):(this.expect(")"),u=this.parseStatement()),this.finalize(a,new i.WithStatement(h,u))},m.prototype.parseSwitchCase=function(){var a=this.createNode(),u;this.matchKeyword("default")?(this.nextToken(),u=null):(this.expectKeyword("case"),u=this.parseExpression()),this.expect(":");for(var h=[];!(this.match("}")||this.matchKeyword("default")||this.matchKeyword("case"));)h.push(this.parseStatementListItem());return this.finalize(a,new i.SwitchCase(u,h))},m.prototype.parseSwitchStatement=function(){var a=this.createNode();this.expectKeyword("switch"),this.expect("(");var u=this.parseExpression();this.expect(")");var h=this.context.inSwitch;this.context.inSwitch=!0;var x=[],y=!1;for(this.expect("{");!this.match("}");){var b=this.parseSwitchCase();b.test===null&&(y&&this.throwError(s.Messages.MultipleDefaultsInSwitch),y=!0),x.push(b)}return this.expect("}"),this.context.inSwitch=h,this.finalize(a,new i.SwitchStatement(u,x))},m.prototype.parseLabelledStatement=function(){var a=this.createNode(),u=this.parseExpression(),h;if(u.type===l.Syntax.Identifier&&this.match(":")){this.nextToken();var x=u,y="$"+x.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,y)&&this.throwError(s.Messages.Redeclaration,"Label",x.name),this.context.labelSet[y]=!0;var b=void 0;if(this.matchKeyword("class"))this.tolerateUnexpectedToken(this.lookahead),b=this.parseClassDeclaration();else if(this.matchKeyword("function")){var F=this.lookahead,O=this.parseFunctionDeclaration();this.context.strict?this.tolerateUnexpectedToken(F,s.Messages.StrictFunction):O.generator&&this.tolerateUnexpectedToken(F,s.Messages.GeneratorInLegacyContext),b=O}else b=this.parseStatement();delete this.context.labelSet[y],h=new i.LabeledStatement(x,b)}else this.consumeSemicolon(),h=new i.ExpressionStatement(u);return this.finalize(a,h)},m.prototype.parseThrowStatement=function(){var a=this.createNode();this.expectKeyword("throw"),this.hasLineTerminator&&this.throwError(s.Messages.NewlineAfterThrow);var u=this.parseExpression();return this.consumeSemicolon(),this.finalize(a,new i.ThrowStatement(u))},m.prototype.parseCatchClause=function(){var a=this.createNode();this.expectKeyword("catch"),this.expect("("),this.match(")")&&this.throwUnexpectedToken(this.lookahead);for(var u=[],h=this.parsePattern(u),x={},y=0;y<u.length;y++){var b="$"+u[y].value;Object.prototype.hasOwnProperty.call(x,b)&&this.tolerateError(s.Messages.DuplicateBinding,u[y].value),x[b]=!0}this.context.strict&&h.type===l.Syntax.Identifier&&this.scanner.isRestrictedWord(h.name)&&this.tolerateError(s.Messages.StrictCatchVariable),this.expect(")");var F=this.parseBlock();return this.finalize(a,new i.CatchClause(h,F))},m.prototype.parseFinallyClause=function(){return this.expectKeyword("finally"),this.parseBlock()},m.prototype.parseTryStatement=function(){var a=this.createNode();this.expectKeyword("try");var u=this.parseBlock(),h=this.matchKeyword("catch")?this.parseCatchClause():null,x=this.matchKeyword("finally")?this.parseFinallyClause():null;return!h&&!x&&this.throwError(s.Messages.NoCatchOrFinally),this.finalize(a,new i.TryStatement(u,h,x))},m.prototype.parseDebuggerStatement=function(){var a=this.createNode();return this.expectKeyword("debugger"),this.consumeSemicolon(),this.finalize(a,new i.DebuggerStatement)},m.prototype.parseStatement=function(){var a;switch(this.lookahead.type){case 1:case 5:case 6:case 8:case 10:case 9:a=this.parseExpressionStatement();break;case 7:var u=this.lookahead.value;u==="{"?a=this.parseBlock():u==="("?a=this.parseExpressionStatement():u===";"?a=this.parseEmptyStatement():a=this.parseExpressionStatement();break;case 3:a=this.matchAsyncFunction()?this.parseFunctionDeclaration():this.parseLabelledStatement();break;case 4:switch(this.lookahead.value){case"break":a=this.parseBreakStatement();break;case"continue":a=this.parseContinueStatement();break;case"debugger":a=this.parseDebuggerStatement();break;case"do":a=this.parseDoWhileStatement();break;case"for":a=this.parseForStatement();break;case"function":a=this.parseFunctionDeclaration();break;case"if":a=this.parseIfStatement();break;case"return":a=this.parseReturnStatement();break;case"switch":a=this.parseSwitchStatement();break;case"throw":a=this.parseThrowStatement();break;case"try":a=this.parseTryStatement();break;case"var":a=this.parseVariableStatement();break;case"while":a=this.parseWhileStatement();break;case"with":a=this.parseWithStatement();break;default:a=this.parseExpressionStatement();break}break;default:a=this.throwUnexpectedToken(this.lookahead)}return a},m.prototype.parseFunctionSourceElements=function(){var a=this.createNode();this.expect("{");var u=this.parseDirectivePrologues(),h=this.context.labelSet,x=this.context.inIteration,y=this.context.inSwitch,b=this.context.inFunctionBody;for(this.context.labelSet={},this.context.inIteration=!1,this.context.inSwitch=!1,this.context.inFunctionBody=!0;this.lookahead.type!==2&&!this.match("}");)u.push(this.parseStatementListItem());return this.expect("}"),this.context.labelSet=h,this.context.inIteration=x,this.context.inSwitch=y,this.context.inFunctionBody=b,this.finalize(a,new i.BlockStatement(u))},m.prototype.validateParam=function(a,u,h){var x="$"+h;this.context.strict?(this.scanner.isRestrictedWord(h)&&(a.stricted=u,a.message=s.Messages.StrictParamName),Object.prototype.hasOwnProperty.call(a.paramSet,x)&&(a.stricted=u,a.message=s.Messages.StrictParamDupe)):a.firstRestricted||(this.scanner.isRestrictedWord(h)?(a.firstRestricted=u,a.message=s.Messages.StrictParamName):this.scanner.isStrictModeReservedWord(h)?(a.firstRestricted=u,a.message=s.Messages.StrictReservedWord):Object.prototype.hasOwnProperty.call(a.paramSet,x)&&(a.stricted=u,a.message=s.Messages.StrictParamDupe)),typeof Object.defineProperty=="function"?Object.defineProperty(a.paramSet,x,{value:!0,enumerable:!0,writable:!0,configurable:!0}):a.paramSet[x]=!0},m.prototype.parseRestElement=function(a){var u=this.createNode();this.expect("...");var h=this.parsePattern(a);return this.match("=")&&this.throwError(s.Messages.DefaultRestParameter),this.match(")")||this.throwError(s.Messages.ParameterAfterRestParameter),this.finalize(u,new i.RestElement(h))},m.prototype.parseFormalParameter=function(a){for(var u=[],h=this.match("...")?this.parseRestElement(u):this.parsePatternWithDefault(u),x=0;x<u.length;x++)this.validateParam(a,u[x],u[x].value);a.simple=a.simple&&h instanceof i.Identifier,a.params.push(h)},m.prototype.parseFormalParameters=function(a){var u;if(u={simple:!0,params:[],firstRestricted:a},this.expect("("),!this.match(")"))for(u.paramSet={};this.lookahead.type!==2&&(this.parseFormalParameter(u),!(this.match(")")||(this.expect(","),this.match(")")))););return this.expect(")"),{simple:u.simple,params:u.params,stricted:u.stricted,firstRestricted:u.firstRestricted,message:u.message}},m.prototype.matchAsyncFunction=function(){var a=this.matchContextualKeyword("async");if(a){var u=this.scanner.saveState();this.scanner.scanComments();var h=this.scanner.lex();this.scanner.restoreState(u),a=u.lineNumber===h.lineNumber&&h.type===4&&h.value==="function"}return a},m.prototype.parseFunctionDeclaration=function(a){var u=this.createNode(),h=this.matchContextualKeyword("async");h&&this.nextToken(),this.expectKeyword("function");var x=h?!1:this.match("*");x&&this.nextToken();var y,b=null,F=null;if(!a||!this.match("(")){var O=this.lookahead;b=this.parseVariableIdentifier(),this.context.strict?this.scanner.isRestrictedWord(O.value)&&this.tolerateUnexpectedToken(O,s.Messages.StrictFunctionName):this.scanner.isRestrictedWord(O.value)?(F=O,y=s.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(O.value)&&(F=O,y=s.Messages.StrictReservedWord)}var M=this.context.await,H=this.context.allowYield;this.context.await=h,this.context.allowYield=!x;var X=this.parseFormalParameters(F),$=X.params,ae=X.stricted;F=X.firstRestricted,X.message&&(y=X.message);var xe=this.context.strict,ge=this.context.allowStrictDirective;this.context.allowStrictDirective=X.simple;var ut=this.parseFunctionSourceElements();return this.context.strict&&F&&this.throwUnexpectedToken(F,y),this.context.strict&&ae&&this.tolerateUnexpectedToken(ae,y),this.context.strict=xe,this.context.allowStrictDirective=ge,this.context.await=M,this.context.allowYield=H,h?this.finalize(u,new i.AsyncFunctionDeclaration(b,$,ut)):this.finalize(u,new i.FunctionDeclaration(b,$,ut,x))},m.prototype.parseFunctionExpression=function(){var a=this.createNode(),u=this.matchContextualKeyword("async");u&&this.nextToken(),this.expectKeyword("function");var h=u?!1:this.match("*");h&&this.nextToken();var x,y=null,b,F=this.context.await,O=this.context.allowYield;if(this.context.await=u,this.context.allowYield=!h,!this.match("(")){var M=this.lookahead;y=!this.context.strict&&!h&&this.matchKeyword("yield")?this.parseIdentifierName():this.parseVariableIdentifier(),this.context.strict?this.scanner.isRestrictedWord(M.value)&&this.tolerateUnexpectedToken(M,s.Messages.StrictFunctionName):this.scanner.isRestrictedWord(M.value)?(b=M,x=s.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(M.value)&&(b=M,x=s.Messages.StrictReservedWord)}var H=this.parseFormalParameters(b),X=H.params,$=H.stricted;b=H.firstRestricted,H.message&&(x=H.message);var ae=this.context.strict,xe=this.context.allowStrictDirective;this.context.allowStrictDirective=H.simple;var ge=this.parseFunctionSourceElements();return this.context.strict&&b&&this.throwUnexpectedToken(b,x),this.context.strict&&$&&this.tolerateUnexpectedToken($,x),this.context.strict=ae,this.context.allowStrictDirective=xe,this.context.await=F,this.context.allowYield=O,u?this.finalize(a,new i.AsyncFunctionExpression(y,X,ge)):this.finalize(a,new i.FunctionExpression(y,X,ge,h))},m.prototype.parseDirective=function(){var a=this.lookahead,u=this.createNode(),h=this.parseExpression(),x=h.type===l.Syntax.Literal?this.getTokenRaw(a).slice(1,-1):null;return this.consumeSemicolon(),this.finalize(u,x?new i.Directive(h,x):new i.ExpressionStatement(h))},m.prototype.parseDirectivePrologues=function(){for(var a=null,u=[];;){var h=this.lookahead;if(h.type!==8)break;var x=this.parseDirective();u.push(x);var y=x.directive;if(typeof y!="string")break;y==="use strict"?(this.context.strict=!0,a&&this.tolerateUnexpectedToken(a,s.Messages.StrictOctalLiteral),this.context.allowStrictDirective||this.tolerateUnexpectedToken(h,s.Messages.IllegalLanguageModeDirective)):!a&&h.octal&&(a=h)}return u},m.prototype.qualifiedPropertyName=function(a){switch(a.type){case 3:case 8:case 1:case 5:case 6:case 4:return!0;case 7:return a.value==="[";default:break}return!1},m.prototype.parseGetterMethod=function(){var a=this.createNode(),u=!1,h=this.context.allowYield;this.context.allowYield=!u;var x=this.parseFormalParameters();x.params.length>0&&this.tolerateError(s.Messages.BadGetterArity);var y=this.parsePropertyMethod(x);return this.context.allowYield=h,this.finalize(a,new i.FunctionExpression(null,x.params,y,u))},m.prototype.parseSetterMethod=function(){var a=this.createNode(),u=!1,h=this.context.allowYield;this.context.allowYield=!u;var x=this.parseFormalParameters();x.params.length!==1?this.tolerateError(s.Messages.BadSetterArity):x.params[0]instanceof i.RestElement&&this.tolerateError(s.Messages.BadSetterRestParameter);var y=this.parsePropertyMethod(x);return this.context.allowYield=h,this.finalize(a,new i.FunctionExpression(null,x.params,y,u))},m.prototype.parseGeneratorMethod=function(){var a=this.createNode(),u=!0,h=this.context.allowYield;this.context.allowYield=!0;var x=this.parseFormalParameters();this.context.allowYield=!1;var y=this.parsePropertyMethod(x);return this.context.allowYield=h,this.finalize(a,new i.FunctionExpression(null,x.params,y,u))},m.prototype.isStartOfExpression=function(){var a=!0,u=this.lookahead.value;switch(this.lookahead.type){case 7:a=u==="["||u==="("||u==="{"||u==="+"||u==="-"||u==="!"||u==="~"||u==="++"||u==="--"||u==="/"||u==="/=";break;case 4:a=u==="class"||u==="delete"||u==="function"||u==="let"||u==="new"||u==="super"||u==="this"||u==="typeof"||u==="void"||u==="yield";break;default:break}return a},m.prototype.parseYieldExpression=function(){var a=this.createNode();this.expectKeyword("yield");var u=null,h=!1;if(!this.hasLineTerminator){var x=this.context.allowYield;this.context.allowYield=!1,h=this.match("*"),h?(this.nextToken(),u=this.parseAssignmentExpression()):this.isStartOfExpression()&&(u=this.parseAssignmentExpression()),this.context.allowYield=x}return this.finalize(a,new i.YieldExpression(u,h))},m.prototype.parseClassElement=function(a){var u=this.lookahead,h=this.createNode(),x="",y=null,b=null,F=!1,O=!1,M=!1,H=!1;if(this.match("*"))this.nextToken();else{F=this.match("["),y=this.parseObjectPropertyKey();var X=y;if(X.name==="static"&&(this.qualifiedPropertyName(this.lookahead)||this.match("*"))&&(u=this.lookahead,M=!0,F=this.match("["),this.match("*")?this.nextToken():y=this.parseObjectPropertyKey()),u.type===3&&!this.hasLineTerminator&&u.value==="async"){var $=this.lookahead.value;$!==":"&&$!=="("&&$!=="*"&&(H=!0,u=this.lookahead,y=this.parseObjectPropertyKey(),u.type===3&&u.value==="constructor"&&this.tolerateUnexpectedToken(u,s.Messages.ConstructorIsAsync))}}var ae=this.qualifiedPropertyName(this.lookahead);return u.type===3?u.value==="get"&&ae?(x="get",F=this.match("["),y=this.parseObjectPropertyKey(),this.context.allowYield=!1,b=this.parseGetterMethod()):u.value==="set"&&ae&&(x="set",F=this.match("["),y=this.parseObjectPropertyKey(),b=this.parseSetterMethod()):u.type===7&&u.value==="*"&&ae&&(x="init",F=this.match("["),y=this.parseObjectPropertyKey(),b=this.parseGeneratorMethod(),O=!0),!x&&y&&this.match("(")&&(x="init",b=H?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),O=!0),x||this.throwUnexpectedToken(this.lookahead),x==="init"&&(x="method"),F||(M&&this.isPropertyKey(y,"prototype")&&this.throwUnexpectedToken(u,s.Messages.StaticPrototype),!M&&this.isPropertyKey(y,"constructor")&&((x!=="method"||!O||b&&b.generator)&&this.throwUnexpectedToken(u,s.Messages.ConstructorSpecialMethod),a.value?this.throwUnexpectedToken(u,s.Messages.DuplicateConstructor):a.value=!0,x="constructor")),this.finalize(h,new i.MethodDefinition(y,F,b,x,M))},m.prototype.parseClassElementList=function(){var a=[],u={value:!1};for(this.expect("{");!this.match("}");)this.match(";")?this.nextToken():a.push(this.parseClassElement(u));return this.expect("}"),a},m.prototype.parseClassBody=function(){var a=this.createNode(),u=this.parseClassElementList();return this.finalize(a,new i.ClassBody(u))},m.prototype.parseClassDeclaration=function(a){var u=this.createNode(),h=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var x=a&&this.lookahead.type!==3?null:this.parseVariableIdentifier(),y=null;this.matchKeyword("extends")&&(this.nextToken(),y=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var b=this.parseClassBody();return this.context.strict=h,this.finalize(u,new i.ClassDeclaration(x,y,b))},m.prototype.parseClassExpression=function(){var a=this.createNode(),u=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var h=this.lookahead.type===3?this.parseVariableIdentifier():null,x=null;this.matchKeyword("extends")&&(this.nextToken(),x=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var y=this.parseClassBody();return this.context.strict=u,this.finalize(a,new i.ClassExpression(h,x,y))},m.prototype.parseModule=function(){this.context.strict=!0,this.context.isModule=!0,this.scanner.isModule=!0;for(var a=this.createNode(),u=this.parseDirectivePrologues();this.lookahead.type!==2;)u.push(this.parseStatementListItem());return this.finalize(a,new i.Module(u))},m.prototype.parseScript=function(){for(var a=this.createNode(),u=this.parseDirectivePrologues();this.lookahead.type!==2;)u.push(this.parseStatementListItem());return this.finalize(a,new i.Script(u))},m.prototype.parseModuleSpecifier=function(){var a=this.createNode();this.lookahead.type!==8&&this.throwError(s.Messages.InvalidModuleSpecifier);var u=this.nextToken(),h=this.getTokenRaw(u);return this.finalize(a,new i.Literal(u.value,h))},m.prototype.parseImportSpecifier=function(){var a=this.createNode(),u,h;return this.lookahead.type===3?(u=this.parseVariableIdentifier(),h=u,this.matchContextualKeyword("as")&&(this.nextToken(),h=this.parseVariableIdentifier())):(u=this.parseIdentifierName(),h=u,this.matchContextualKeyword("as")?(this.nextToken(),h=this.parseVariableIdentifier()):this.throwUnexpectedToken(this.nextToken())),this.finalize(a,new i.ImportSpecifier(h,u))},m.prototype.parseNamedImports=function(){this.expect("{");for(var a=[];!this.match("}");)a.push(this.parseImportSpecifier()),this.match("}")||this.expect(",");return this.expect("}"),a},m.prototype.parseImportDefaultSpecifier=function(){var a=this.createNode(),u=this.parseIdentifierName();return this.finalize(a,new i.ImportDefaultSpecifier(u))},m.prototype.parseImportNamespaceSpecifier=function(){var a=this.createNode();this.expect("*"),this.matchContextualKeyword("as")||this.throwError(s.Messages.NoAsAfterImportNamespace),this.nextToken();var u=this.parseIdentifierName();return this.finalize(a,new i.ImportNamespaceSpecifier(u))},m.prototype.parseImportDeclaration=function(){this.context.inFunctionBody&&this.throwError(s.Messages.IllegalImportDeclaration);var a=this.createNode();this.expectKeyword("import");var u,h=[];if(this.lookahead.type===8)u=this.parseModuleSpecifier();else{if(this.match("{")?h=h.concat(this.parseNamedImports()):this.match("*")?h.push(this.parseImportNamespaceSpecifier()):this.isIdentifierName(this.lookahead)&&!this.matchKeyword("default")?(h.push(this.parseImportDefaultSpecifier()),this.match(",")&&(this.nextToken(),this.match("*")?h.push(this.parseImportNamespaceSpecifier()):this.match("{")?h=h.concat(this.parseNamedImports()):this.throwUnexpectedToken(this.lookahead))):this.throwUnexpectedToken(this.nextToken()),!this.matchContextualKeyword("from")){var x=this.lookahead.value?s.Messages.UnexpectedToken:s.Messages.MissingFromClause;this.throwError(x,this.lookahead.value)}this.nextToken(),u=this.parseModuleSpecifier()}return this.consumeSemicolon(),this.finalize(a,new i.ImportDeclaration(h,u))},m.prototype.parseExportSpecifier=function(){var a=this.createNode(),u=this.parseIdentifierName(),h=u;return this.matchContextualKeyword("as")&&(this.nextToken(),h=this.parseIdentifierName()),this.finalize(a,new i.ExportSpecifier(u,h))},m.prototype.parseExportDeclaration=function(){this.context.inFunctionBody&&this.throwError(s.Messages.IllegalExportDeclaration);var a=this.createNode();this.expectKeyword("export");var u;if(this.matchKeyword("default"))if(this.nextToken(),this.matchKeyword("function")){var h=this.parseFunctionDeclaration(!0);u=this.finalize(a,new i.ExportDefaultDeclaration(h))}else if(this.matchKeyword("class")){var h=this.parseClassDeclaration(!0);u=this.finalize(a,new i.ExportDefaultDeclaration(h))}else if(this.matchContextualKeyword("async")){var h=this.matchAsyncFunction()?this.parseFunctionDeclaration(!0):this.parseAssignmentExpression();u=this.finalize(a,new i.ExportDefaultDeclaration(h))}else{this.matchContextualKeyword("from")&&this.throwError(s.Messages.UnexpectedToken,this.lookahead.value);var h=this.match("{")?this.parseObjectInitializer():this.match("[")?this.parseArrayInitializer():this.parseAssignmentExpression();this.consumeSemicolon(),u=this.finalize(a,new i.ExportDefaultDeclaration(h))}else if(this.match("*")){if(this.nextToken(),!this.matchContextualKeyword("from")){var x=this.lookahead.value?s.Messages.UnexpectedToken:s.Messages.MissingFromClause;this.throwError(x,this.lookahead.value)}this.nextToken();var y=this.parseModuleSpecifier();this.consumeSemicolon(),u=this.finalize(a,new i.ExportAllDeclaration(y))}else if(this.lookahead.type===4){var h=void 0;switch(this.lookahead.value){case"let":case"const":h=this.parseLexicalDeclaration({inFor:!1});break;case"var":case"class":case"function":h=this.parseStatementListItem();break;default:this.throwUnexpectedToken(this.lookahead)}u=this.finalize(a,new i.ExportNamedDeclaration(h,[],null))}else if(this.matchAsyncFunction()){var h=this.parseFunctionDeclaration();u=this.finalize(a,new i.ExportNamedDeclaration(h,[],null))}else{var b=[],F=null,O=!1;for(this.expect("{");!this.match("}");)O=O||this.matchKeyword("default"),b.push(this.parseExportSpecifier()),this.match("}")||this.expect(",");if(this.expect("}"),this.matchContextualKeyword("from"))this.nextToken(),F=this.parseModuleSpecifier(),this.consumeSemicolon();else if(O){var x=this.lookahead.value?s.Messages.UnexpectedToken:s.Messages.MissingFromClause;this.throwError(x,this.lookahead.value)}else this.consumeSemicolon();u=this.finalize(a,new i.ExportNamedDeclaration(null,b,F))}return u},m}();e.Parser=g},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});function r(n,o){if(!n)throw new Error("ASSERT: "+o)}e.assert=r},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function n(){this.errors=[],this.tolerant=!1}return n.prototype.recordError=function(o){this.errors.push(o)},n.prototype.tolerate=function(o){if(this.tolerant)this.recordError(o);else throw o},n.prototype.constructError=function(o,s){var i=new Error(o);try{throw i}catch(c){Object.create&&Object.defineProperty&&(i=Object.create(c),Object.defineProperty(i,"column",{value:s}))}return i},n.prototype.createError=function(o,s,i,c){var l="Line "+s+": "+c,p=this.constructError(l,i);return p.index=o,p.lineNumber=s,p.description=c,p},n.prototype.throwError=function(o,s,i,c){throw this.createError(o,s,i,c)},n.prototype.tolerateError=function(o,s,i,c){var l=this.createError(o,s,i,c);if(this.tolerant)this.recordError(l);else throw l},n}();e.ErrorHandler=r},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Messages={BadGetterArity:"Getter must not have any formal parameters",BadSetterArity:"Setter must have exactly one formal parameter",BadSetterRestParameter:"Setter function argument must not be a rest parameter",ConstructorIsAsync:"Class constructor may not be an async method",ConstructorSpecialMethod:"Class constructor may not be an accessor",DeclarationMissingInitializer:"Missing initializer in %0 declaration",DefaultRestParameter:"Unexpected token =",DuplicateBinding:"Duplicate binding %0",DuplicateConstructor:"A class may only have one constructor",DuplicateProtoProperty:"Duplicate __proto__ fields are not allowed in object literals",ForInOfLoopInitializer:"%0 loop variable declaration may not have an initializer",GeneratorInLegacyContext:"Generator declarations are not allowed in legacy contexts",IllegalBreak:"Illegal break statement",IllegalContinue:"Illegal continue statement",IllegalExportDeclaration:"Unexpected token",IllegalImportDeclaration:"Unexpected token",IllegalLanguageModeDirective:"Illegal 'use strict' directive in function with non-simple parameter list",IllegalReturn:"Illegal return statement",InvalidEscapedReservedWord:"Keyword must not contain escaped characters",InvalidHexEscapeSequence:"Invalid hexadecimal escape sequence",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",InvalidLHSInForLoop:"Invalid left-hand side in for-loop",InvalidModuleSpecifier:"Unexpected token",InvalidRegExp:"Invalid regular expression",LetInLexicalBinding:"let is disallowed as a lexically bound name",MissingFromClause:"Unexpected token",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NewlineAfterThrow:"Illegal newline after throw",NoAsAfterImportNamespace:"Unexpected token",NoCatchOrFinally:"Missing catch or finally after try",ParameterAfterRestParameter:"Rest parameter must be last formal parameter",Redeclaration:"%0 '%1' has already been declared",StaticPrototype:"Classes may not have static property named prototype",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictFunction:"In strict mode code, functions can only be declared at top level or inside a block",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictModeWith:"Strict mode code may not include a with statement",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictReservedWord:"Use of future reserved word in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",TemplateOctalLiteral:"Octal literals are not allowed in template strings.",UnexpectedEOS:"Unexpected end of input",UnexpectedIdentifier:"Unexpected identifier",UnexpectedNumber:"Unexpected number",UnexpectedReserved:"Unexpected reserved word",UnexpectedString:"Unexpected string",UnexpectedTemplate:"Unexpected quasi %0",UnexpectedToken:"Unexpected token %0",UnexpectedTokenIllegal:"Unexpected token ILLEGAL",UnknownLabel:"Undefined label '%0'",UnterminatedRegExp:"Invalid regular expression: missing /"}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(9),o=r(4),s=r(11);function i(p){return"0123456789abcdef".indexOf(p.toLowerCase())}function c(p){return"01234567".indexOf(p)}var l=function(){function p(f,g){this.source=f,this.errorHandler=g,this.trackComment=!1,this.isModule=!1,this.length=f.length,this.index=0,this.lineNumber=f.length>0?1:0,this.lineStart=0,this.curlyStack=[]}return p.prototype.saveState=function(){return{index:this.index,lineNumber:this.lineNumber,lineStart:this.lineStart}},p.prototype.restoreState=function(f){this.index=f.index,this.lineNumber=f.lineNumber,this.lineStart=f.lineStart},p.prototype.eof=function(){return this.index>=this.length},p.prototype.throwUnexpectedToken=function(f){return f===void 0&&(f=s.Messages.UnexpectedTokenIllegal),this.errorHandler.throwError(this.index,this.lineNumber,this.index-this.lineStart+1,f)},p.prototype.tolerateUnexpectedToken=function(f){f===void 0&&(f=s.Messages.UnexpectedTokenIllegal),this.errorHandler.tolerateError(this.index,this.lineNumber,this.index-this.lineStart+1,f)},p.prototype.skipSingleLineComment=function(f){var g=[],m,a;for(this.trackComment&&(g=[],m=this.index-f,a={start:{line:this.lineNumber,column:this.index-this.lineStart-f},end:{}});!this.eof();){var u=this.source.charCodeAt(this.index);if(++this.index,o.Character.isLineTerminator(u)){if(this.trackComment){a.end={line:this.lineNumber,column:this.index-this.lineStart-1};var h={multiLine:!1,slice:[m+f,this.index-1],range:[m,this.index-1],loc:a};g.push(h)}return u===13&&this.source.charCodeAt(this.index)===10&&++this.index,++this.lineNumber,this.lineStart=this.index,g}}if(this.trackComment){a.end={line:this.lineNumber,column:this.index-this.lineStart};var h={multiLine:!1,slice:[m+f,this.index],range:[m,this.index],loc:a};g.push(h)}return g},p.prototype.skipMultiLineComment=function(){var f=[],g,m;for(this.trackComment&&(f=[],g=this.index-2,m={start:{line:this.lineNumber,column:this.index-this.lineStart-2},end:{}});!this.eof();){var a=this.source.charCodeAt(this.index);if(o.Character.isLineTerminator(a))a===13&&this.source.charCodeAt(this.index+1)===10&&++this.index,++this.lineNumber,++this.index,this.lineStart=this.index;else if(a===42){if(this.source.charCodeAt(this.index+1)===47){if(this.index+=2,this.trackComment){m.end={line:this.lineNumber,column:this.index-this.lineStart};var u={multiLine:!0,slice:[g+2,this.index-2],range:[g,this.index],loc:m};f.push(u)}return f}++this.index}else++this.index}if(this.trackComment){m.end={line:this.lineNumber,column:this.index-this.lineStart};var u={multiLine:!0,slice:[g+2,this.index],range:[g,this.index],loc:m};f.push(u)}return this.tolerateUnexpectedToken(),f},p.prototype.scanComments=function(){var f;this.trackComment&&(f=[]);for(var g=this.index===0;!this.eof();){var m=this.source.charCodeAt(this.index);if(o.Character.isWhiteSpace(m))++this.index;else if(o.Character.isLineTerminator(m))++this.index,m===13&&this.source.charCodeAt(this.index)===10&&++this.index,++this.lineNumber,this.lineStart=this.index,g=!0;else if(m===47)if(m=this.source.charCodeAt(this.index+1),m===47){this.index+=2;var a=this.skipSingleLineComment(2);this.trackComment&&(f=f.concat(a)),g=!0}else if(m===42){this.index+=2;var a=this.skipMultiLineComment();this.trackComment&&(f=f.concat(a))}else break;else if(g&&m===45)if(this.source.charCodeAt(this.index+1)===45&&this.source.charCodeAt(this.index+2)===62){this.index+=3;var a=this.skipSingleLineComment(3);this.trackComment&&(f=f.concat(a))}else break;else if(m===60&&!this.isModule)if(this.source.slice(this.index+1,this.index+4)==="!--"){this.index+=4;var a=this.skipSingleLineComment(4);this.trackComment&&(f=f.concat(a))}else break;else break}return f},p.prototype.isFutureReservedWord=function(f){switch(f){case"enum":case"export":case"import":case"super":return!0;default:return!1}},p.prototype.isStrictModeReservedWord=function(f){switch(f){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}},p.prototype.isRestrictedWord=function(f){return f==="eval"||f==="arguments"},p.prototype.isKeyword=function(f){switch(f.length){case 2:return f==="if"||f==="in"||f==="do";case 3:return f==="var"||f==="for"||f==="new"||f==="try"||f==="let";case 4:return f==="this"||f==="else"||f==="case"||f==="void"||f==="with"||f==="enum";case 5:return f==="while"||f==="break"||f==="catch"||f==="throw"||f==="const"||f==="yield"||f==="class"||f==="super";case 6:return f==="return"||f==="typeof"||f==="delete"||f==="switch"||f==="export"||f==="import";case 7:return f==="default"||f==="finally"||f==="extends";case 8:return f==="function"||f==="continue"||f==="debugger";case 10:return f==="instanceof";default:return!1}},p.prototype.codePointAt=function(f){var g=this.source.charCodeAt(f);if(g>=55296&&g<=56319){var m=this.source.charCodeAt(f+1);if(m>=56320&&m<=57343){var a=g;g=(a-55296)*1024+m-56320+65536}}return g},p.prototype.scanHexEscape=function(f){for(var g=f==="u"?4:2,m=0,a=0;a<g;++a)if(!this.eof()&&o.Character.isHexDigit(this.source.charCodeAt(this.index)))m=m*16+i(this.source[this.index++]);else return null;return String.fromCharCode(m)},p.prototype.scanUnicodeCodePointEscape=function(){var f=this.source[this.index],g=0;for(f==="}"&&this.throwUnexpectedToken();!this.eof()&&(f=this.source[this.index++],!!o.Character.isHexDigit(f.charCodeAt(0)));)g=g*16+i(f);return(g>1114111||f!=="}")&&this.throwUnexpectedToken(),o.Character.fromCodePoint(g)},p.prototype.getIdentifier=function(){for(var f=this.index++;!this.eof();){var g=this.source.charCodeAt(this.index);if(g===92)return this.index=f,this.getComplexIdentifier();if(g>=55296&&g<57343)return this.index=f,this.getComplexIdentifier();if(o.Character.isIdentifierPart(g))++this.index;else break}return this.source.slice(f,this.index)},p.prototype.getComplexIdentifier=function(){var f=this.codePointAt(this.index),g=o.Character.fromCodePoint(f);this.index+=g.length;var m;for(f===92&&(this.source.charCodeAt(this.index)!==117&&this.throwUnexpectedToken(),++this.index,this.source[this.index]==="{"?(++this.index,m=this.scanUnicodeCodePointEscape()):(m=this.scanHexEscape("u"),(m===null||m==="\\"||!o.Character.isIdentifierStart(m.charCodeAt(0)))&&this.throwUnexpectedToken()),g=m);!this.eof()&&(f=this.codePointAt(this.index),!!o.Character.isIdentifierPart(f));)m=o.Character.fromCodePoint(f),g+=m,this.index+=m.length,f===92&&(g=g.substr(0,g.length-1),this.source.charCodeAt(this.index)!==117&&this.throwUnexpectedToken(),++this.index,this.source[this.index]==="{"?(++this.index,m=this.scanUnicodeCodePointEscape()):(m=this.scanHexEscape("u"),(m===null||m==="\\"||!o.Character.isIdentifierPart(m.charCodeAt(0)))&&this.throwUnexpectedToken()),g+=m);return g},p.prototype.octalToDecimal=function(f){var g=f!=="0",m=c(f);return!this.eof()&&o.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(g=!0,m=m*8+c(this.source[this.index++]),"0123".indexOf(f)>=0&&!this.eof()&&o.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(m=m*8+c(this.source[this.index++]))),{code:m,octal:g}},p.prototype.scanIdentifier=function(){var f,g=this.index,m=this.source.charCodeAt(g)===92?this.getComplexIdentifier():this.getIdentifier();if(m.length===1?f=3:this.isKeyword(m)?f=4:m==="null"?f=5:m==="true"||m==="false"?f=1:f=3,f!==3&&g+m.length!==this.index){var a=this.index;this.index=g,this.tolerateUnexpectedToken(s.Messages.InvalidEscapedReservedWord),this.index=a}return{type:f,value:m,lineNumber:this.lineNumber,lineStart:this.lineStart,start:g,end:this.index}},p.prototype.scanPunctuator=function(){var f=this.index,g=this.source[this.index];switch(g){case"(":case"{":g==="{"&&this.curlyStack.push("{"),++this.index;break;case".":++this.index,this.source[this.index]==="."&&this.source[this.index+1]==="."&&(this.index+=2,g="...");break;case"}":++this.index,this.curlyStack.pop();break;case")":case";":case",":case"[":case"]":case":":case"?":case"~":++this.index;break;default:g=this.source.substr(this.index,4),g===">>>="?this.index+=4:(g=g.substr(0,3),g==="==="||g==="!=="||g===">>>"||g==="<<="||g===">>="||g==="**="?this.index+=3:(g=g.substr(0,2),g==="&&"||g==="||"||g==="=="||g==="!="||g==="+="||g==="-="||g==="*="||g==="/="||g==="++"||g==="--"||g==="<<"||g===">>"||g==="&="||g==="|="||g==="^="||g==="%="||g==="<="||g===">="||g==="=>"||g==="**"?this.index+=2:(g=this.source[this.index],"<>=!+-*%&|^/".indexOf(g)>=0&&++this.index)))}return this.index===f&&this.throwUnexpectedToken(),{type:7,value:g,lineNumber:this.lineNumber,lineStart:this.lineStart,start:f,end:this.index}},p.prototype.scanHexLiteral=function(f){for(var g="";!this.eof()&&o.Character.isHexDigit(this.source.charCodeAt(this.index));)g+=this.source[this.index++];return g.length===0&&this.throwUnexpectedToken(),o.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseInt("0x"+g,16),lineNumber:this.lineNumber,lineStart:this.lineStart,start:f,end:this.index}},p.prototype.scanBinaryLiteral=function(f){for(var g="",m;!this.eof()&&(m=this.source[this.index],!(m!=="0"&&m!=="1"));)g+=this.source[this.index++];return g.length===0&&this.throwUnexpectedToken(),this.eof()||(m=this.source.charCodeAt(this.index),(o.Character.isIdentifierStart(m)||o.Character.isDecimalDigit(m))&&this.throwUnexpectedToken()),{type:6,value:parseInt(g,2),lineNumber:this.lineNumber,lineStart:this.lineStart,start:f,end:this.index}},p.prototype.scanOctalLiteral=function(f,g){var m="",a=!1;for(o.Character.isOctalDigit(f.charCodeAt(0))?(a=!0,m="0"+this.source[this.index++]):++this.index;!this.eof()&&o.Character.isOctalDigit(this.source.charCodeAt(this.index));)m+=this.source[this.index++];return!a&&m.length===0&&this.throwUnexpectedToken(),(o.Character.isIdentifierStart(this.source.charCodeAt(this.index))||o.Character.isDecimalDigit(this.source.charCodeAt(this.index)))&&this.throwUnexpectedToken(),{type:6,value:parseInt(m,8),octal:a,lineNumber:this.lineNumber,lineStart:this.lineStart,start:g,end:this.index}},p.prototype.isImplicitOctalLiteral=function(){for(var f=this.index+1;f<this.length;++f){var g=this.source[f];if(g==="8"||g==="9")return!1;if(!o.Character.isOctalDigit(g.charCodeAt(0)))return!0}return!0},p.prototype.scanNumericLiteral=function(){var f=this.index,g=this.source[f];n.assert(o.Character.isDecimalDigit(g.charCodeAt(0))||g===".","Numeric literal must start with a decimal digit or a decimal point");var m="";if(g!=="."){if(m=this.source[this.index++],g=this.source[this.index],m==="0"){if(g==="x"||g==="X")return++this.index,this.scanHexLiteral(f);if(g==="b"||g==="B")return++this.index,this.scanBinaryLiteral(f);if(g==="o"||g==="O")return this.scanOctalLiteral(g,f);if(g&&o.Character.isOctalDigit(g.charCodeAt(0))&&this.isImplicitOctalLiteral())return this.scanOctalLiteral(g,f)}for(;o.Character.isDecimalDigit(this.source.charCodeAt(this.index));)m+=this.source[this.index++];g=this.source[this.index]}if(g==="."){for(m+=this.source[this.index++];o.Character.isDecimalDigit(this.source.charCodeAt(this.index));)m+=this.source[this.index++];g=this.source[this.index]}if(g==="e"||g==="E")if(m+=this.source[this.index++],g=this.source[this.index],(g==="+"||g==="-")&&(m+=this.source[this.index++]),o.Character.isDecimalDigit(this.source.charCodeAt(this.index)))for(;o.Character.isDecimalDigit(this.source.charCodeAt(this.index));)m+=this.source[this.index++];else this.throwUnexpectedToken();return o.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseFloat(m),lineNumber:this.lineNumber,lineStart:this.lineStart,start:f,end:this.index}},p.prototype.scanStringLiteral=function(){var f=this.index,g=this.source[f];n.assert(g==="'"||g==='"',"String literal must starts with a quote"),++this.index;for(var m=!1,a="";!this.eof();){var u=this.source[this.index++];if(u===g){g="";break}else if(u==="\\")if(u=this.source[this.index++],!u||!o.Character.isLineTerminator(u.charCodeAt(0)))switch(u){case"u":if(this.source[this.index]==="{")++this.index,a+=this.scanUnicodeCodePointEscape();else{var h=this.scanHexEscape(u);h===null&&this.throwUnexpectedToken(),a+=h}break;case"x":var x=this.scanHexEscape(u);x===null&&this.throwUnexpectedToken(s.Messages.InvalidHexEscapeSequence),a+=x;break;case"n":a+=`
`;break;case"r":a+="\r";break;case"t":a+="	";break;case"b":a+="\b";break;case"f":a+="\f";break;case"v":a+="\v";break;case"8":case"9":a+=u,this.tolerateUnexpectedToken();break;default:if(u&&o.Character.isOctalDigit(u.charCodeAt(0))){var y=this.octalToDecimal(u);m=y.octal||m,a+=String.fromCharCode(y.code)}else a+=u;break}else++this.lineNumber,u==="\r"&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index;else{if(o.Character.isLineTerminator(u.charCodeAt(0)))break;a+=u}}return g!==""&&(this.index=f,this.throwUnexpectedToken()),{type:8,value:a,octal:m,lineNumber:this.lineNumber,lineStart:this.lineStart,start:f,end:this.index}},p.prototype.scanTemplate=function(){var f="",g=!1,m=this.index,a=this.source[m]==="`",u=!1,h=2;for(++this.index;!this.eof();){var x=this.source[this.index++];if(x==="`"){h=1,u=!0,g=!0;break}else if(x==="$"){if(this.source[this.index]==="{"){this.curlyStack.push("${"),++this.index,g=!0;break}f+=x}else if(x==="\\")if(x=this.source[this.index++],o.Character.isLineTerminator(x.charCodeAt(0)))++this.lineNumber,x==="\r"&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index;else switch(x){case"n":f+=`
`;break;case"r":f+="\r";break;case"t":f+="	";break;case"u":if(this.source[this.index]==="{")++this.index,f+=this.scanUnicodeCodePointEscape();else{var y=this.index,b=this.scanHexEscape(x);b!==null?f+=b:(this.index=y,f+=x)}break;case"x":var F=this.scanHexEscape(x);F===null&&this.throwUnexpectedToken(s.Messages.InvalidHexEscapeSequence),f+=F;break;case"b":f+="\b";break;case"f":f+="\f";break;case"v":f+="\v";break;default:x==="0"?(o.Character.isDecimalDigit(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(s.Messages.TemplateOctalLiteral),f+="\0"):o.Character.isOctalDigit(x.charCodeAt(0))?this.throwUnexpectedToken(s.Messages.TemplateOctalLiteral):f+=x;break}else o.Character.isLineTerminator(x.charCodeAt(0))?(++this.lineNumber,x==="\r"&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index,f+=`
`):f+=x}return g||this.throwUnexpectedToken(),a||this.curlyStack.pop(),{type:10,value:this.source.slice(m+1,this.index-h),cooked:f,head:a,tail:u,lineNumber:this.lineNumber,lineStart:this.lineStart,start:m,end:this.index}},p.prototype.testRegExp=function(f,g){var m="\uFFFF",a=f,u=this;g.indexOf("u")>=0&&(a=a.replace(/\\u\{([0-9a-fA-F]+)\}|\\u([a-fA-F0-9]{4})/g,function(h,x,y){var b=parseInt(x||y,16);return b>1114111&&u.throwUnexpectedToken(s.Messages.InvalidRegExp),b<=65535?String.fromCharCode(b):m}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,m));try{RegExp(a)}catch{this.throwUnexpectedToken(s.Messages.InvalidRegExp)}try{return new RegExp(f,g)}catch{return null}},p.prototype.scanRegExpBody=function(){var f=this.source[this.index];n.assert(f==="/","Regular expression literal must start with a slash");for(var g=this.source[this.index++],m=!1,a=!1;!this.eof();)if(f=this.source[this.index++],g+=f,f==="\\")f=this.source[this.index++],o.Character.isLineTerminator(f.charCodeAt(0))&&this.throwUnexpectedToken(s.Messages.UnterminatedRegExp),g+=f;else if(o.Character.isLineTerminator(f.charCodeAt(0)))this.throwUnexpectedToken(s.Messages.UnterminatedRegExp);else if(m)f==="]"&&(m=!1);else if(f==="/"){a=!0;break}else f==="["&&(m=!0);return a||this.throwUnexpectedToken(s.Messages.UnterminatedRegExp),g.substr(1,g.length-2)},p.prototype.scanRegExpFlags=function(){for(var f="",g="";!this.eof();){var m=this.source[this.index];if(!o.Character.isIdentifierPart(m.charCodeAt(0)))break;if(++this.index,m==="\\"&&!this.eof())if(m=this.source[this.index],m==="u"){++this.index;var a=this.index,u=this.scanHexEscape("u");if(u!==null)for(g+=u,f+="\\u";a<this.index;++a)f+=this.source[a];else this.index=a,g+="u",f+="\\u";this.tolerateUnexpectedToken()}else f+="\\",this.tolerateUnexpectedToken();else g+=m,f+=m}return g},p.prototype.scanRegExp=function(){var f=this.index,g=this.scanRegExpBody(),m=this.scanRegExpFlags(),a=this.testRegExp(g,m);return{type:9,value:"",pattern:g,flags:m,regex:a,lineNumber:this.lineNumber,lineStart:this.lineStart,start:f,end:this.index}},p.prototype.lex=function(){if(this.eof())return{type:2,value:"",lineNumber:this.lineNumber,lineStart:this.lineStart,start:this.index,end:this.index};var f=this.source.charCodeAt(this.index);return o.Character.isIdentifierStart(f)?this.scanIdentifier():f===40||f===41||f===59?this.scanPunctuator():f===39||f===34?this.scanStringLiteral():f===46?o.Character.isDecimalDigit(this.source.charCodeAt(this.index+1))?this.scanNumericLiteral():this.scanPunctuator():o.Character.isDecimalDigit(f)?this.scanNumericLiteral():f===96||f===125&&this.curlyStack[this.curlyStack.length-1]==="${"?this.scanTemplate():f>=55296&&f<57343&&o.Character.isIdentifierStart(this.codePointAt(this.index))?this.scanIdentifier():this.scanPunctuator()},p}();e.Scanner=l},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenName={},e.TokenName[1]="Boolean",e.TokenName[2]="<end>",e.TokenName[3]="Identifier",e.TokenName[4]="Keyword",e.TokenName[5]="Null",e.TokenName[6]="Numeric",e.TokenName[7]="Punctuator",e.TokenName[8]="String",e.TokenName[9]="RegularExpression",e.TokenName[10]="Template"},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.XHTMLEntities={quot:'"',amp:"&",apos:"'",gt:">",nbsp:"\xA0",iexcl:"\xA1",cent:"\xA2",pound:"\xA3",curren:"\xA4",yen:"\xA5",brvbar:"\xA6",sect:"\xA7",uml:"\xA8",copy:"\xA9",ordf:"\xAA",laquo:"\xAB",not:"\xAC",shy:"\xAD",reg:"\xAE",macr:"\xAF",deg:"\xB0",plusmn:"\xB1",sup2:"\xB2",sup3:"\xB3",acute:"\xB4",micro:"\xB5",para:"\xB6",middot:"\xB7",cedil:"\xB8",sup1:"\xB9",ordm:"\xBA",raquo:"\xBB",frac14:"\xBC",frac12:"\xBD",frac34:"\xBE",iquest:"\xBF",Agrave:"\xC0",Aacute:"\xC1",Acirc:"\xC2",Atilde:"\xC3",Auml:"\xC4",Aring:"\xC5",AElig:"\xC6",Ccedil:"\xC7",Egrave:"\xC8",Eacute:"\xC9",Ecirc:"\xCA",Euml:"\xCB",Igrave:"\xCC",Iacute:"\xCD",Icirc:"\xCE",Iuml:"\xCF",ETH:"\xD0",Ntilde:"\xD1",Ograve:"\xD2",Oacute:"\xD3",Ocirc:"\xD4",Otilde:"\xD5",Ouml:"\xD6",times:"\xD7",Oslash:"\xD8",Ugrave:"\xD9",Uacute:"\xDA",Ucirc:"\xDB",Uuml:"\xDC",Yacute:"\xDD",THORN:"\xDE",szlig:"\xDF",agrave:"\xE0",aacute:"\xE1",acirc:"\xE2",atilde:"\xE3",auml:"\xE4",aring:"\xE5",aelig:"\xE6",ccedil:"\xE7",egrave:"\xE8",eacute:"\xE9",ecirc:"\xEA",euml:"\xEB",igrave:"\xEC",iacute:"\xED",icirc:"\xEE",iuml:"\xEF",eth:"\xF0",ntilde:"\xF1",ograve:"\xF2",oacute:"\xF3",ocirc:"\xF4",otilde:"\xF5",ouml:"\xF6",divide:"\xF7",oslash:"\xF8",ugrave:"\xF9",uacute:"\xFA",ucirc:"\xFB",uuml:"\xFC",yacute:"\xFD",thorn:"\xFE",yuml:"\xFF",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",fnof:"\u0192",circ:"\u02C6",tilde:"\u02DC",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039A",Lambda:"\u039B",Mu:"\u039C",Nu:"\u039D",Xi:"\u039E",Omicron:"\u039F",Pi:"\u03A0",Rho:"\u03A1",Sigma:"\u03A3",Tau:"\u03A4",Upsilon:"\u03A5",Phi:"\u03A6",Chi:"\u03A7",Psi:"\u03A8",Omega:"\u03A9",alpha:"\u03B1",beta:"\u03B2",gamma:"\u03B3",delta:"\u03B4",epsilon:"\u03B5",zeta:"\u03B6",eta:"\u03B7",theta:"\u03B8",iota:"\u03B9",kappa:"\u03BA",lambda:"\u03BB",mu:"\u03BC",nu:"\u03BD",xi:"\u03BE",omicron:"\u03BF",pi:"\u03C0",rho:"\u03C1",sigmaf:"\u03C2",sigma:"\u03C3",tau:"\u03C4",upsilon:"\u03C5",phi:"\u03C6",chi:"\u03C7",psi:"\u03C8",omega:"\u03C9",thetasym:"\u03D1",upsih:"\u03D2",piv:"\u03D6",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200C",zwj:"\u200D",lrm:"\u200E",rlm:"\u200F",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201A",ldquo:"\u201C",rdquo:"\u201D",bdquo:"\u201E",dagger:"\u2020",Dagger:"\u2021",bull:"\u2022",hellip:"\u2026",permil:"\u2030",prime:"\u2032",Prime:"\u2033",lsaquo:"\u2039",rsaquo:"\u203A",oline:"\u203E",frasl:"\u2044",euro:"\u20AC",image:"\u2111",weierp:"\u2118",real:"\u211C",trade:"\u2122",alefsym:"\u2135",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21B5",lArr:"\u21D0",uArr:"\u21D1",rArr:"\u21D2",dArr:"\u21D3",hArr:"\u21D4",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220B",prod:"\u220F",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221A",prop:"\u221D",infin:"\u221E",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222A",int:"\u222B",there4:"\u2234",sim:"\u223C",cong:"\u2245",asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22A5",sdot:"\u22C5",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230A",rfloor:"\u230B",loz:"\u25CA",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666",lang:"\u27E8",rang:"\u27E9"}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(10),o=r(12),s=r(13),i=function(){function l(){this.values=[],this.curly=this.paren=-1}return l.prototype.beforeFunctionExpression=function(p){return["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","**=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","**","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="].indexOf(p)>=0},l.prototype.isRegexStart=function(){var p=this.values[this.values.length-1],f=p!==null;switch(p){case"this":case"]":f=!1;break;case")":var g=this.values[this.paren-1];f=g==="if"||g==="while"||g==="for"||g==="with";break;case"}":if(f=!1,this.values[this.curly-3]==="function"){var m=this.values[this.curly-4];f=m?!this.beforeFunctionExpression(m):!1}else if(this.values[this.curly-4]==="function"){var m=this.values[this.curly-5];f=m?!this.beforeFunctionExpression(m):!0}break;default:break}return f},l.prototype.push=function(p){p.type===7||p.type===4?(p.value==="{"?this.curly=this.values.length:p.value==="("&&(this.paren=this.values.length),this.values.push(p.value)):this.values.push(null)},l}(),c=function(){function l(p,f){this.errorHandler=new n.ErrorHandler,this.errorHandler.tolerant=f?typeof f.tolerant=="boolean"&&f.tolerant:!1,this.scanner=new o.Scanner(p,this.errorHandler),this.scanner.trackComment=f?typeof f.comment=="boolean"&&f.comment:!1,this.trackRange=f?typeof f.range=="boolean"&&f.range:!1,this.trackLoc=f?typeof f.loc=="boolean"&&f.loc:!1,this.buffer=[],this.reader=new i}return l.prototype.errors=function(){return this.errorHandler.errors},l.prototype.getNextToken=function(){if(this.buffer.length===0){var p=this.scanner.scanComments();if(this.scanner.trackComment)for(var f=0;f<p.length;++f){var g=p[f],m=this.scanner.source.slice(g.slice[0],g.slice[1]),a={type:g.multiLine?"BlockComment":"LineComment",value:m};this.trackRange&&(a.range=g.range),this.trackLoc&&(a.loc=g.loc),this.buffer.push(a)}if(!this.scanner.eof()){var u=void 0;this.trackLoc&&(u={start:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},end:{}});var h=this.scanner.source[this.scanner.index]==="/"&&this.reader.isRegexStart(),x=h?this.scanner.scanRegExp():this.scanner.lex();this.reader.push(x);var y={type:s.TokenName[x.type],value:this.scanner.source.slice(x.start,x.end)};if(this.trackRange&&(y.range=[x.start,x.end]),this.trackLoc&&(u.end={line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},y.loc=u),x.type===9){var b=x.pattern,F=x.flags;y.regex={pattern:b,flags:F}}this.buffer.push(y)}}return this.buffer.shift()},l}();e.Tokenizer=c}])})});var qh=Ne(Et=>{function G4(t){return Array.isArray?Array.isArray(t):Hh(t)==="[object Array]"}Et.isArray=G4;function V4(t){return typeof t=="boolean"}Et.isBoolean=V4;function K4(t){return t===null}Et.isNull=K4;function X4(t){return t==null}Et.isNullOrUndefined=X4;function $4(t){return typeof t=="number"}Et.isNumber=$4;function Y4(t){return typeof t=="string"}Et.isString=Y4;function Q4(t){return typeof t=="symbol"}Et.isSymbol=Q4;function Z4(t){return t===void 0}Et.isUndefined=Z4;function e5(t){return Hh(t)==="[object RegExp]"}Et.isRegExp=e5;function t5(t){return typeof t=="object"&&t!==null}Et.isObject=t5;function r5(t){return Hh(t)==="[object Date]"}Et.isDate=r5;function n5(t){return Hh(t)==="[object Error]"||t instanceof Error}Et.isError=n5;function o5(t){return typeof t=="function"}Et.isFunction=o5;function s5(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t>"u"}Et.isPrimitive=s5;Et.isBuffer=require("buffer").Buffer.isBuffer;function Hh(t){return Object.prototype.toString.call(t)}});var AT=Ne((ire,DT)=>{var ST=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9],J,bT=t=>t<1e5?t<100?t<10?0:1:t<1e4?t<1e3?2:3:4:t<1e7?t<1e6?5:6:t<1e9?t<1e8?7:8:9;function ET(t,e){if(t===e)return 0;if(~~t===t&&~~e===e){if(t===0||e===0)return t<e?-1:1;if(t<0||e<0){if(e>=0)return-1;if(t>=0)return 1;t=-t,e=-e}let o=bT(t),s=bT(e),i=0;return o<s?(t*=ST[s-o-1],e/=10,i=-1):o>s&&(e*=ST[o-s-1],t/=10,i=1),t===e?i:t<e?-1:1}let r=String(t),n=String(e);return r===n?0:r<n?-1:1}function i5(t){let e=0;for(;t>=32;)e|=t&1,t>>=1;return t+e}function CT(t,e,r,n){let o=e+1;if(o===r)return 1;if(n(t[o++],t[e])<0){for(;o<r&&n(t[o],t[o-1])<0;)o++;vT(t,e,o),vT(J,e,o)}else for(;o<r&&n(t[o],t[o-1])>=0;)o++;return o-e}function vT(t,e,r){for(r--;e<r;){let n=t[e];t[e++]=t[r],t[r--]=n}}function _T(t,e,r,n,o){for(n===e&&n++;n<r;n++){let s=t[n],i=J[n],c=e,l=n;for(;c<l;){let f=c+l>>>1;o(s,t[f])<0?l=f:c=f+1}let p=n-c;switch(p){case 3:t[c+3]=t[c+2],J[c+3]=J[c+2];case 2:t[c+2]=t[c+1],J[c+2]=J[c+1];case 1:t[c+1]=t[c],J[c+1]=J[c];break;default:for(;p>0;)t[c+p]=t[c+p-1],J[c+p]=J[c+p-1],p--}t[c]=s,J[c]=i}}function $S(t,e,r,n,o,s){let i=0,c=0,l=1;if(s(t,e[r+o])>0){for(c=n-o;l<c&&s(t,e[r+o+l])>0;)i=l,l=(l<<1)+1,l<=0&&(l=c);l>c&&(l=c),i+=o,l+=o}else{for(c=o+1;l<c&&s(t,e[r+o-l])<=0;)i=l,l=(l<<1)+1,l<=0&&(l=c);l>c&&(l=c);let p=i;i=o-l,l=o-p}for(i++;i<l;){let p=i+(l-i>>>1);s(t,e[r+p])>0?i=p+1:l=p}return l}function YS(t,e,r,n,o,s){let i=0,c=0,l=1;if(s(t,e[r+o])<0){for(c=o+1;l<c&&s(t,e[r+o-l])<0;)i=l,l=(l<<1)+1,l<=0&&(l=c);l>c&&(l=c);let p=i;i=o-l,l=o-p}else{for(c=n-o;l<c&&s(t,e[r+o+l])>=0;)i=l,l=(l<<1)+1,l<=0&&(l=c);l>c&&(l=c),i+=o,l+=o}for(i++;i<l;){let p=i+(l-i>>>1);s(t,e[r+p])<0?l=p:i=p+1}return l}var QS=class{constructor(e,r){this.array=e,this.compare=r;let{length:n}=e;this.length=n,this.minGallop=7,this.tmpStorageLength=n<2*256?n>>>1:256,this.tmp=new Array(this.tmpStorageLength),this.tmpIndex=new Array(this.tmpStorageLength),this.stackLength=n<120?5:n<1542?10:n<119151?19:40,this.runStart=new Array(this.stackLength),this.runLength=new Array(this.stackLength),this.stackSize=0}pushRun(e,r){this.runStart[this.stackSize]=e,this.runLength[this.stackSize]=r,this.stackSize+=1}mergeRuns(){for(;this.stackSize>1;){let e=this.stackSize-2;if(e>=1&&this.runLength[e-1]<=this.runLength[e]+this.runLength[e+1]||e>=2&&this.runLength[e-2]<=this.runLength[e]+this.runLength[e-1])this.runLength[e-1]<this.runLength[e+1]&&e--;else if(this.runLength[e]>this.runLength[e+1])break;this.mergeAt(e)}}forceMergeRuns(){for(;this.stackSize>1;){let e=this.stackSize-2;e>0&&this.runLength[e-1]<this.runLength[e+1]&&e--,this.mergeAt(e)}}mergeAt(e){let{compare:r}=this,{array:n}=this,o=this.runStart[e],s=this.runLength[e],i=this.runStart[e+1],c=this.runLength[e+1];this.runLength[e]=s+c,e===this.stackSize-3&&(this.runStart[e+1]=this.runStart[e+2],this.runLength[e+1]=this.runLength[e+2]),this.stackSize--;let l=YS(n[i],n,o,s,0,r);o+=l,s-=l,s!==0&&(c=$S(n[o+s-1],n,i,c,c-1,r),c!==0&&(s<=c?this.mergeLow(o,s,i,c):this.mergeHigh(o,s,i,c)))}mergeLow(e,r,n,o){let{compare:s}=this,{array:i}=this,{tmp:c}=this,{tmpIndex:l}=this,p=0;for(p=0;p<r;p++)c[p]=i[e+p],l[p]=J[e+p];let f=0,g=n,m=e;if(i[m]=i[g],J[m]=J[g],m++,g++,--o===0){for(p=0;p<r;p++)i[m+p]=c[f+p],J[m+p]=l[f+p];return}if(r===1){for(p=0;p<o;p++)i[m+p]=i[g+p],J[m+p]=J[g+p];i[m+o]=c[f],J[m+o]=l[f];return}let{minGallop:a}=this;for(;;){let u=0,h=0,x=!1;do if(s(i[g],c[f])<0){if(i[m]=i[g],J[m]=J[g],m++,g++,h++,u=0,--o===0){x=!0;break}}else if(i[m]=c[f],J[m]=l[f],m++,f++,u++,h=0,--r===1){x=!0;break}while((u|h)<a);if(x)break;do{if(u=YS(i[g],c,f,r,0,s),u!==0){for(p=0;p<u;p++)i[m+p]=c[f+p],J[m+p]=l[f+p];if(m+=u,f+=u,r-=u,r<=1){x=!0;break}}if(i[m]=i[g],J[m]=J[g],m++,g++,--o===0){x=!0;break}if(h=$S(c[f],i,g,o,0,s),h!==0){for(p=0;p<h;p++)i[m+p]=i[g+p],J[m+p]=J[g+p];if(m+=h,g+=h,o-=h,o===0){x=!0;break}}if(i[m]=c[f],J[m]=l[f],m++,f++,--r===1){x=!0;break}a--}while(u>=7||h>=7);if(x)break;a<0&&(a=0),a+=2}if(this.minGallop=a,a<1&&(this.minGallop=1),r===1){for(p=0;p<o;p++)i[m+p]=i[g+p],J[m+p]=J[g+p];i[m+o]=c[f],J[m+o]=l[f]}else{if(r===0)throw new Error("mergeLow preconditions were not respected");for(p=0;p<r;p++)i[m+p]=c[f+p],J[m+p]=l[f+p]}}mergeHigh(e,r,n,o){let{compare:s}=this,{array:i}=this,{tmp:c}=this,{tmpIndex:l}=this,p=0;for(p=0;p<o;p++)c[p]=i[n+p],l[p]=J[n+p];let f=e+r-1,g=o-1,m=n+o-1,a=0,u=0;if(i[m]=i[f],J[m]=J[f],m--,f--,--r===0){for(a=m-(o-1),p=0;p<o;p++)i[a+p]=c[p],J[a+p]=l[p];return}if(o===1){for(m-=r,f-=r,u=m+1,a=f+1,p=r-1;p>=0;p--)i[u+p]=i[a+p],J[u+p]=J[a+p];i[m]=c[g],J[m]=l[g];return}let{minGallop:h}=this;for(;;){let x=0,y=0,b=!1;do if(s(c[g],i[f])<0){if(i[m]=i[f],J[m]=J[f],m--,f--,x++,y=0,--r===0){b=!0;break}}else if(i[m]=c[g],J[m]=l[g],m--,g--,y++,x=0,--o===1){b=!0;break}while((x|y)<h);if(b)break;do{if(x=r-YS(c[g],i,e,r,r-1,s),x!==0){for(m-=x,f-=x,r-=x,u=m+1,a=f+1,p=x-1;p>=0;p--)i[u+p]=i[a+p],J[u+p]=J[a+p];if(r===0){b=!0;break}}if(i[m]=c[g],J[m]=l[g],m--,g--,--o===1){b=!0;break}if(y=o-$S(i[f],c,0,o,o-1,s),y!==0){for(m-=y,g-=y,o-=y,u=m+1,a=g+1,p=0;p<y;p++)i[u+p]=c[a+p],J[u+p]=l[a+p];if(o<=1){b=!0;break}}if(i[m]=i[f],J[m]=J[f],m--,f--,--r===0){b=!0;break}h--}while(x>=7||y>=7);if(b)break;h<0&&(h=0),h+=2}if(this.minGallop=h,h<1&&(this.minGallop=1),o===1){for(m-=r,f-=r,u=m+1,a=f+1,p=r-1;p>=0;p--)i[u+p]=i[a+p],J[u+p]=J[a+p];i[m]=c[g],J[m]=l[g]}else{if(o===0)throw new Error("mergeHigh preconditions were not respected");for(a=m-(o-1),p=0;p<o;p++)i[a+p]=c[p],J[a+p]=l[p]}}};function a5(t,e,r,n){if(!Array.isArray(t))throw new TypeError(`The "array" argument must be an array. Received ${t}`);J=[];let{length:o}=t,s=0;for(;s<o;)J[s]=s++;e?typeof e!="function"&&(n=r,r=e,e=ET):e=ET,r||(r=0),n||(n=o);let i=n-r;if(i<2)return J;let c=0;if(i<32)return c=CT(t,r,n,e),_T(t,r,n,r+c,e),J;let l=new QS(t,e),p=i5(i);do{if(c=CT(t,r,n,e),c<p){let f=i;f>p&&(f=p),_T(t,r,r+f,r+c,e),c=f}l.pushRun(r,c),l.mergeRuns(),i-=c,r+=c}while(i!==0);return l.forceMergeRuns(),J}DT.exports={sort:a5}});var FT=Ne((are,kT)=>{"use strict";var c5=Object.prototype.hasOwnProperty;kT.exports=(t,e)=>c5.call(t,e)});var Ou=Ne((cre,HT)=>{var tb=FT(),{isObject:OT,isArray:u5,isString:l5,isNumber:p5}=qh(),rb="before",MT="after-prop",RT="after-colon",TT="after-value",IT="after",NT="before-all",PT="after-all",f5="[",h5="]",m5="{",d5="}",x5=",",g5="",y5="-",nb=[rb,MT,RT,TT,IT],S5=[rb,NT,PT].map(Symbol.for),LT=":",wT=void 0,Fu=(t,e)=>Symbol.for(t+LT+e),Uh=(t,e,r)=>Object.defineProperty(t,e,{value:r,writable:!0,configurable:!0}),eb=(t,e,r,n,o,s)=>{let i=Fu(o,n);if(!tb(e,i))return;let c=r===n?i:Fu(o,r);Uh(t,c,e[i]),s&&delete e[i]},BT=(t,e,r,n,o)=>{nb.forEach(s=>{eb(t,e,r,n,s,o)})},b5=(t,e,r)=>{e!==r&&nb.forEach(n=>{let o=Fu(n,r);if(!tb(t,o)){eb(t,t,r,e,n,!0);return}let s=t[o];delete t[o],eb(t,t,r,e,n,!0),Uh(t,Fu(n,e),s)})},ZS=(t,e)=>{S5.forEach(r=>{let n=e[r];n&&Uh(t,r,n)})},E5=(t,e,r)=>(r.forEach(n=>{!l5(n)&&!p5(n)||tb(e,n)&&(t[n]=e[n],BT(t,e,n,n))}),t);HT.exports={SYMBOL_PREFIXES:nb,PREFIX_BEFORE:rb,PREFIX_AFTER_PROP:MT,PREFIX_AFTER_COLON:RT,PREFIX_AFTER_VALUE:TT,PREFIX_AFTER:IT,PREFIX_BEFORE_ALL:NT,PREFIX_AFTER_ALL:PT,BRACKET_OPEN:f5,BRACKET_CLOSE:h5,CURLY_BRACKET_OPEN:m5,CURLY_BRACKET_CLOSE:d5,COLON:LT,COMMA:x5,MINUS:y5,EMPTY:g5,UNDEFINED:wT,symbol:Fu,define:Uh,copy_comments:BT,swap_comments:b5,assign_non_prop_comments:ZS,assign(t,e,r){if(!OT(t))throw new TypeError("Cannot convert undefined or null to object");if(!OT(e))return t;if(r===wT)r=Object.keys(e),ZS(t,e);else if(u5(r))r.length===0&&ZS(t,e);else throw new TypeError("keys must be array or undefined");return E5(t,e,r)}}});var sb=Ne((ure,jT)=>{var{isArray:C5}=qh(),{sort:v5}=AT(),{SYMBOL_PREFIXES:_5,UNDEFINED:qT,symbol:D5,copy_comments:A5,swap_comments:WT}=Ou(),k5=t=>{let{length:e}=t,r=0,n=e/2;for(;r<n;r++)WT(t,r,e-r-1)},UT=(t,e,r,n,o)=>{A5(t,e,r+n,r,o)},Ba=(t,e,r,n,o,s)=>{if(o>0){let c=n;for(;c-- >0;)UT(t,e,r+c,o,s);return}let i=0;for(;i<n;){let c=i++;UT(t,e,r+c,o,s)}},zT=(t,e)=>{_5.forEach(r=>{let n=D5(r,e);delete t[n]})},F5=(t,e)=>{let r=e;for(;r in t;)r=t[r];return r},ob=class t extends Array{splice(...e){let{length:r}=this,n=super.splice(...e),[o,s,...i]=e;o<0&&(o+=r),arguments.length===1?s=r-o:s=Math.min(r-o,s);let{length:c}=i,l=c-s,p=o+s,f=r-p;return Ba(this,this,p,f,l,!0),n}slice(...e){let{length:r}=this,n=super.slice(...e);if(!n.length)return new t;let[o,s]=e;return s===qT?s=r:s<0&&(s+=r),o<0?o+=r:o===qT&&(o=0),Ba(n,this,o,s-o,-o),n}unshift(...e){let{length:r}=this,n=super.unshift(...e),{length:o}=e;return o>0&&Ba(this,this,0,r,o,!0),n}shift(){let e=super.shift(),{length:r}=this;return zT(this,0),Ba(this,this,1,r,-1,!0),e}reverse(){return super.reverse(),k5(this),this}pop(){let e=super.pop();return zT(this,this.length),e}concat(...e){let{length:r}=this,n=super.concat(...e);return e.length&&(Ba(n,this,0,this.length,0),e.forEach(o=>{let s=r;r+=C5(o)?o.length:1,o instanceof t&&Ba(n,o,0,o.length,s)})),n}sort(...e){let r=v5(this,...e.slice(0,1)),n=Object.create(null);return r.forEach((o,s)=>{if(o===s)return;let i=F5(n,o);i!==s&&(n[s]=i,WT(this,s,i))}),this}};jT.exports={CommentArray:ob}});var a1=Ne((lre,i1)=>{var O5=yT(),{CommentArray:w5}=sb(),{PREFIX_BEFORE:Wh,PREFIX_AFTER_PROP:M5,PREFIX_AFTER_COLON:R5,PREFIX_AFTER_VALUE:KT,PREFIX_AFTER:ab,PREFIX_BEFORE_ALL:T5,PREFIX_AFTER_ALL:I5,BRACKET_OPEN:N5,BRACKET_CLOSE:JT,CURLY_BRACKET_OPEN:P5,CURLY_BRACKET_CLOSE:GT,COLON:XT,COMMA:$T,MINUS:VT,EMPTY:L5,UNDEFINED:Gh,define:cb,assign_non_prop_comments:B5}=Ou(),YT=t=>O5.tokenize(t,{comment:!0,loc:!0}),ub=[],Ko=null,ln=null,lb=[],Xo,QT=!1,ZT=!1,wu=null,Mu=null,Ct=null,e1,jh=null,t1=()=>{lb.length=ub.length=0,Mu=null,Xo=Gh},H5=()=>{t1(),wu.length=0,ln=Ko=wu=Mu=Ct=jh=null},pb=t=>Symbol.for(Xo!==Gh?t+XT+Xo:t),fb=(t,e)=>jh?jh(t,e):e,r1=()=>{let t=new SyntaxError(`Unexpected token ${Ct.value.slice(0,1)}`);throw Object.assign(t,Ct.loc.start),t},n1=()=>{let t=new SyntaxError("Unexpected end of JSON input");throw Object.assign(t,Mu?Mu.loc.end:{line:1,column:0}),t},Er=()=>{let t=wu[++e1];ZT=Ct&&t&&Ct.loc.end.line===t.loc.start.line||!1,Mu=Ct,Ct=t},ib=()=>(Ct||n1(),Ct.type==="Punctuator"?Ct.value:Ct.type),di=t=>ib()===t,zh=t=>{di(t)||r1()},hb=t=>{ub.push(Ko),Ko=t},mb=()=>{Ko=ub.pop()},o1=()=>{if(!ln)return;let t=[];for(let r of ln)if(r.inline)t.push(r);else break;let{length:e}=t;e&&(e===ln.length?ln=null:ln.splice(0,e),cb(Ko,pb(ab),t))},Vo=t=>{ln&&(cb(Ko,pb(t),ln),ln=null)},pn=t=>{let e=[];for(;Ct&&(di("LineComment")||di("BlockComment"));){let r={...Ct,inline:ZT};e.push(r),Er()}if(!QT&&e.length){if(t){cb(Ko,pb(t),e);return}ln=e}},Jh=(t,e)=>{e&&lb.push(Xo),Xo=t},s1=()=>{Xo=lb.pop()},q5=()=>{let t={};hb(t),Jh(Gh,!0);let e=!1,r;for(pn();!di(GT)&&!(e&&(Vo(KT),zh($T),Er(),pn(),o1(),di(GT)));)e=!0,zh("String"),r=JSON.parse(Ct.value),Jh(r),Vo(Wh),Er(),pn(M5),zh(XT),Er(),pn(R5),t[r]=fb(r,db()),pn();return e&&Vo(ab),Er(),Xo=void 0,e||Vo(Wh),mb(),s1(),t},U5=()=>{let t=new w5;hb(t),Jh(Gh,!0);let e=!1,r=0;for(pn();!di(JT)&&!(e&&(Vo(KT),zh($T),Er(),pn(),o1(),di(JT)));)e=!0,Jh(r),Vo(Wh),t[r]=fb(r,db()),r++,pn();return e&&Vo(ab),Er(),Xo=void 0,e||Vo(Wh),mb(),s1(),t};function db(){let t=ib();if(t===P5)return Er(),q5();if(t===N5)return Er(),U5();let e=L5;t===VT&&(Er(),t=ib(),e=VT);let r;switch(t){case"String":case"Boolean":case"Null":case"Numeric":return r=Ct.value,Er(),JSON.parse(e+r);default:}}var z5=t=>Object(t)===t,W5=(t,e,r)=>{t1(),wu=YT(t),jh=e,QT=r,wu.length||n1(),e1=-1,Er(),hb({}),pn(T5);let n=db();return pn(I5),Ct&&r1(),!r&&n!==null&&(z5(n)||(n=new Object(n)),B5(n,Ko)),mb(),n=fb("",n),H5(),n};i1.exports={parse:W5,tokenize:YT}});var u1=Ne((pre,c1)=>{"use strict";var no="",xb;c1.exports=j5;function j5(t,e){if(typeof t!="string")throw new TypeError("expected a string");if(e===1)return t;if(e===2)return t+t;var r=t.length*e;if(xb!==t||typeof xb>"u")xb=t,no="";else if(no.length>=r)return no.substr(0,r);for(;r>no.length&&e>1;)e&1&&(no+=t),e>>=1,t+=t;return no+=t,no=no.substr(0,r),no}});var b1=Ne((fre,S1)=>{var{isArray:Sb,isObject:l1,isFunction:yb,isNumber:J5,isString:G5}=qh(),V5=u1(),{PREFIX_BEFORE_ALL:K5,PREFIX_BEFORE:p1,PREFIX_AFTER_PROP:X5,PREFIX_AFTER_COLON:$5,PREFIX_AFTER_VALUE:Y5,PREFIX_AFTER:bb,PREFIX_AFTER_ALL:Q5,BRACKET_OPEN:Z5,BRACKET_CLOSE:e7,CURLY_BRACKET_OPEN:t7,CURLY_BRACKET_CLOSE:r7,COLON:n7,COMMA:f1,EMPTY:rr,UNDEFINED:o7}=Ou(),gb=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,Eb=" ",xi=`
`,h1="null",m1=t=>`${p1}:${t}`,s7=t=>`${X5}:${t}`,i7=t=>`${$5}:${t}`,d1=t=>`${Y5}:${t}`,x1=t=>`${bb}:${t}`,a7={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},c7=t=>(gb.lastIndex=0,gb.test(t)?t.replace(gb,e=>{let r=a7[e];return typeof r=="string"?r:e}):t),g1=t=>`"${c7(t)}"`,u7=(t,e)=>e?`//${t}`:`/*${t}*/`,tr=(t,e,r,n)=>{let o=t[Symbol.for(e)];if(!o||!o.length)return rr;let s=!1,i=o.reduce((c,{inline:l,type:p,value:f})=>{let g=l?Eb:xi+r;return s=p==="LineComment",c+g+u7(f,s)},rr);return n||s?i+xi+r:i},Ha=null,Tu=rr,l7=()=>{Ha=null,Tu=rr},Ru=(t,e,r)=>t?e?t+e.trim()+xi+r:t.trimRight()+xi+r:e?e.trimRight()+xi+r:rr,y1=(t,e,r)=>{let n=tr(e,p1,r+Tu,!0);return Ru(n,t,r)},p7=(t,e)=>{let r=e+Tu,{length:n}=t,o=rr,s=rr;for(let i=0;i<n;i++){i!==0&&(o+=f1);let c=Ru(s,tr(t,m1(i),r),r);o+=c||xi+r,o+=Cb(i,t,r)||h1,o+=tr(t,d1(i),r),s=tr(t,x1(i),r)}return o+=Ru(s,tr(t,bb,r),r),Z5+y1(o,t,e)+e7},f7=(t,e)=>{if(!t)return"null";let r=e+Tu,n=rr,o=rr,s=!0,i=Sb(Ha)?Ha:Object.keys(t),c=l=>{let p=Cb(l,t,r);if(p===o7)return;s||(n+=f1),s=!1;let f=Ru(o,tr(t,m1(l),r),r);n+=f||xi+r,n+=g1(l)+tr(t,s7(l),r)+n7+tr(t,i7(l),r)+Eb+p+tr(t,d1(l),r),o=tr(t,x1(l),r)};return i.forEach(c),n+=Ru(o,tr(t,bb,r),r),t7+y1(n,t,e)+r7};function Cb(t,e,r){let n=e[t];switch(l1(n)&&yb(n.toJSON)&&(n=n.toJSON(t)),yb(Ha)&&(n=Ha.call(e,t,n)),typeof n){case"string":return g1(n);case"number":return Number.isFinite(n)?String(n):h1;case"boolean":case"null":return String(n);case"object":return Sb(n)?p7(n,r):f7(n,r);default:}}var h7=t=>G5(t)?t:J5(t)?V5(Eb,t):rr,{toString:m7}=Object.prototype,d7=["[object Number]","[object String]","[object Boolean]"],x7=t=>{if(typeof t!="object")return!1;let e=m7.call(t);return d7.includes(e)};S1.exports=(t,e,r)=>{let n=h7(r);if(!n)return JSON.stringify(t,e);!yb(e)&&!Sb(e)&&(e=null),Ha=e,Tu=n;let o=x7(t)?JSON.stringify(t):Cb("",{"":t},rr);return l7(),l1(t)?tr(t,K5,rr).trimLeft()+o+tr(t,Q5,rr).trimRight():o}});var C1=Ne((hre,E1)=>{var{parse:g7,tokenize:y7}=a1(),S7=b1(),{CommentArray:b7}=sb(),{assign:E7}=Ou();E1.exports={parse:g7,stringify:S7,tokenize:y7,CommentArray:b7,assign:E7}});var yi=t=>typeof t=="function",d=function(t,e){if(typeof t=="function")return function(){return t(arguments)?e.apply(this,arguments):r=>e(r,...arguments)};switch(t){case 0:case 1:throw new RangeError(`Invalid arity ${t}`);case 2:return function(r,n){return arguments.length>=2?e(r,n):function(o){return e(o,r)}};case 3:return function(r,n,o){return arguments.length>=3?e(r,n,o):function(s){return e(s,r,n)}};case 4:return function(r,n,o,s){return arguments.length>=4?e(r,n,o,s):function(i){return e(i,r,n,o)}};case 5:return function(r,n,o,s,i){return arguments.length>=5?e(r,n,o,s,i):function(c){return e(c,r,n,o,s)}};default:return function(){if(arguments.length>=t)return e.apply(this,arguments);let r=arguments;return function(n){return e(n,...r)}}}};var j=t=>t;var Si=t=>()=>t,so=Si(!0),hn=Si(!1),Xh=Si(null),Nu=Si(void 0),mn=Nu;function S(t,e,r,n,o,s,i,c,l){switch(arguments.length){case 1:return t;case 2:return e(t);case 3:return r(e(t));case 4:return n(r(e(t)));case 5:return o(n(r(e(t))));case 6:return s(o(n(r(e(t)))));case 7:return i(s(o(n(r(e(t))))));case 8:return c(i(s(o(n(r(e(t)))))));case 9:return l(c(i(s(o(n(r(e(t))))))));default:{let p=arguments[0];for(let f=1;f<arguments.length;f++)p=arguments[f](p);return p}}}var bi=t=>(e,r)=>e===r||t(e,r);var _b=d(2,(t,e)=>bi((r,n)=>t(e(r),e(n))));var Db=t=>bi((e,r)=>{if(e.length!==r.length)return!1;for(let n=0;n<e.length;n++)if(!t(e[n],r[n]))return!1;return!0});var Pu=t=>d(3,(e,r,n)=>t(e,o=>Object.assign({},o,{[r]:n(o)}))),Lu=t=>d(2,(e,r)=>t(e,n=>({[r]:n}))),Bu=(t,e)=>d(3,(r,n,o)=>e(r,s=>t(o(s),i=>Object.assign({},s,{[n]:i}))));var gI="3.11.4",Qo=()=>gI;var Qh=Symbol.for(`effect/GlobalValue/globalStoreId/${Qo()}`);Qh in globalThis||(globalThis[Qh]=new Map);var Yh=globalThis[Qh],V=(t,e)=>(Yh.has(t)||Yh.set(t,e()),Yh.get(t));var Ei=t=>typeof t=="string",Zo=t=>typeof t=="number",kb=t=>typeof t=="boolean",Hu=t=>typeof t=="bigint",Fb=t=>typeof t=="symbol",io=yi,Ob=t=>t===void 0;var wb=t=>t===null;var Mb=t=>typeof t=="object"&&t!==null,ao=t=>Mb(t)||io(t),R=d(2,(t,e)=>ao(t)&&e in t),co=d(2,(t,e)=>R(t,"_tag")&&t._tag===e),es=t=>t==null;var Rb=t=>t instanceof Date,sr=t=>R(t,Symbol.iterator),Tb=t=>Mb(t)&&!Array.isArray(t);var Zh=t=>R(t,"then")&&io(t.then);var ts=t=>`BUG: ${t} - please report an issue at https://github.com/Effect-TS/effect/issues`;var em=Symbol.for("effect/Gen/GenKind"),nm=t=>ao(t)&&em in t,tm=class{value;constructor(e){this.value=e}get _F(){return j}get _R(){return e=>e}get _O(){return e=>e}get _E(){return e=>e}[em]=em;[Symbol.iterator](){return new rs(this)}},rs=class t{self;called=!1;constructor(e){this.self=e}next(e){return this.called?{value:e,done:!0}:(this.called=!0,{value:this.self,done:!1})}return(e){return{value:e,done:!0}}throw(e){throw e}[Symbol.iterator](){return new t(this.self)}};var Nb=()=>function(){let t=arguments[0];for(let e=1;e<arguments.length;e++)t=arguments[e](t);return new tm(t)},SI=335903614,bI=4150755663,EI=1481765933,CI=1284865837,vI=9007199254740992,_I=134217728,qu=class{_state;constructor(e,r,n,o){return es(r)&&es(e)?(r=Math.random()*4294967295>>>0,e=0):es(r)&&(r=e,e=0),es(o)&&es(n)?(o=this._state?this._state[3]:bI,n=this._state?this._state[2]:SI):es(o)&&(o=n,n=0),this._state=new Int32Array([0,0,n>>>0,((o||0)|1)>>>0]),this._next(),Ib(this._state,this._state[0],this._state[1],e>>>0,r>>>0),this._next(),this}getState(){return[this._state[0],this._state[1],this._state[2],this._state[3]]}setState(e){this._state[0]=e[0],this._state[1]=e[1],this._state[2]=e[2],this._state[3]=e[3]|1}integer(e){return Math.round(this.number()*Number.MAX_SAFE_INTEGER)%e}number(){let e=(this._next()&67108863)*1,r=(this._next()&134217727)*1;return(e*_I+r)/vI}_next(){let e=this._state[0]>>>0,r=this._state[1]>>>0;DI(this._state,e,r,EI,CI),Ib(this._state,this._state[0],this._state[1],this._state[2],this._state[3]);let n=e>>>18,o=(r>>>18|e<<14)>>>0;n=(n^e)>>>0,o=(o^r)>>>0;let s=(o>>>27|n<<5)>>>0,i=e>>>27,c=(-i>>>0&31)>>>0;return(s>>>i|s<<c)>>>0}};function DI(t,e,r,n,o){let s=(r>>>16)*(o&65535)>>>0,i=(r&65535)*(o>>>16)>>>0,c=(r&65535)*(o&65535)>>>0,l=(r>>>16)*(o>>>16)+((i>>>16)+(s>>>16))>>>0;i=i<<16>>>0,c=c+i>>>0,c>>>0<i>>>0&&(l=l+1>>>0),s=s<<16>>>0,c=c+s>>>0,c>>>0<s>>>0&&(l=l+1>>>0),l=l+Math.imul(r,n)>>>0,l=l+Math.imul(e,o)>>>0,t[0]=l,t[1]=c}function Ib(t,e,r,n,o){let s=e+n>>>0,i=r+o>>>0;i>>>0<r>>>0&&(s=s+1|0),t[0]=s,t[1]=i}var rm=Symbol.for("effect/Utils/YieldWrap"),Lr=class{#e;constructor(e){this.#e=e}[rm](){return this.#e}};function Ci(t){if(typeof t=="object"&&t!==null&&rm in t)return t[rm]();throw new Error(ts("yieldWrapGet"))}var Rt=V("effect/Utils/isStructuralRegion",()=>({enabled:!1,tester:void 0}));var AI=t=>{let e={[t](r){return r()}};return function(r){return e[t](r)}},Me=AI("effect_internal_function"),kI=function*(){}.constructor,Pb=t=>ao(t)&&t.constructor===kI;var sm=V(Symbol.for("effect/Hash/randomHashCache"),()=>new WeakMap),B=Symbol.for("effect/Hash"),P=t=>{if(Rt.enabled===!0)return 0;switch(typeof t){case"number":return zu(t);case"bigint":return pe(t.toString(10));case"boolean":return pe(String(t));case"symbol":return pe(String(t));case"string":return pe(t);case"undefined":return pe("undefined");case"function":case"object":return t===null?pe("null"):t instanceof Date?P(t.toISOString()):FI(t)?t[B]():vi(t);default:throw new Error(`BUG: unhandled typeof ${typeof t} - please report an issue at https://github.com/Effect-TS/effect/issues`)}},vi=t=>(sm.has(t)||sm.set(t,zu(Math.floor(Math.random()*Number.MAX_SAFE_INTEGER))),sm.get(t)),z=t=>e=>e*53^t,Uu=t=>t&3221225471|t>>>1&1073741824,FI=t=>R(t,B),zu=t=>{if(t!==t||t===1/0)return 0;let e=t|0;for(e!==t&&(e^=t*4294967295);t>4294967295;)e^=t/=4294967295;return Uu(e)},pe=t=>{let e=5381,r=t.length;for(;r;)e=e*33^t.charCodeAt(--r);return Uu(e)},OI=(t,e)=>{let r=12289;for(let n=0;n<e.length;n++)r^=S(pe(e[n]),z(P(t[e[n]])));return Uu(r)},Wu=t=>OI(t,Object.keys(t)),Tt=t=>{let e=6151;for(let r=0;r<t.length;r++)e=S(e,z(P(t[r])));return Uu(e)},Y=function(){if(arguments.length===1){let r=arguments[0];return function(n){return Object.defineProperty(r,B,{value(){return n},enumerable:!1}),n}}let t=arguments[0],e=arguments[1];return Object.defineProperty(t,B,{value(){return e},enumerable:!1}),e};var L=Symbol.for("effect/Equal");function I(){return arguments.length===1?t=>ju(t,arguments[0]):ju(arguments[0],arguments[1])}function ju(t,e){if(t===e)return!0;let r=typeof t;if(r!==typeof e)return!1;if(r==="object"||r==="function"){if(t!==null&&e!==null){if(_i(t)&&_i(e))return P(t)===P(e)&&t[L](e)?!0:Rt.enabled&&Rt.tester?Rt.tester(t,e):!1;if(t instanceof Date&&e instanceof Date)return t.toISOString()===e.toISOString()}if(Rt.enabled){if(Array.isArray(t)&&Array.isArray(e))return t.length===e.length&&t.every((n,o)=>ju(n,e[o]));if(Object.getPrototypeOf(t)===Object.prototype&&Object.getPrototypeOf(t)===Object.prototype){let n=Object.keys(t),o=Object.keys(e);if(n.length===o.length){for(let s of n)if(!(s in e&&ju(t[s],e[s])))return Rt.tester?Rt.tester(t,e):!1;return!0}}return Rt.tester?Rt.tester(t,e):!1}}return Rt.enabled&&Rt.tester?Rt.tester(t,e):!1}var _i=t=>R(t,L),ja=()=>I;var Q=Symbol.for("nodejs.util.inspect.custom"),re=t=>{try{if(R(t,"toJSON")&&io(t.toJSON)&&t.toJSON.length===0)return t.toJSON();if(Array.isArray(t))return t.map(re)}catch{return{}}return qb(t)},oe=t=>JSON.stringify(t,null,2),j7={toJSON(){return re(this)},[Q](){return this.toJSON()},toString(){return oe(this.toJSON())}},Lb=class{[Q](){return this.toJSON()}toString(){return oe(this.toJSON())}},xn=(t,e=2)=>{if(typeof t=="string")return t;try{return typeof t=="object"?Ju(t,e):String(t)}catch{return String(t)}},Ju=(t,e)=>{let r=[],n=JSON.stringify(t,(o,s)=>typeof s=="object"&&s!==null?r.includes(s)?void 0:r.push(s)&&(ns.fiberRefs!==void 0&&Bb(s)?s[im](ns.fiberRefs):s):s,e);return r=void 0,n},im=Symbol.for("effect/Inspectable/Redactable"),Bb=t=>typeof t=="object"&&t!==null&&im in t,ns=V("effect/Inspectable/redactableState",()=>({fiberRefs:void 0})),Hb=(t,e)=>{let r=ns.fiberRefs;ns.fiberRefs=t;try{return e()}finally{ns.fiberRefs=r}},qb=t=>Bb(t)&&ns.fiberRefs!==void 0?t[im](ns.fiberRefs):t;var N=(t,e)=>{switch(e.length){case 0:return t;case 1:return e[0](t);case 2:return e[1](e[0](t));case 3:return e[2](e[1](e[0](t)));case 4:return e[3](e[2](e[1](e[0](t))));case 5:return e[4](e[3](e[2](e[1](e[0](t)))));case 6:return e[5](e[4](e[3](e[2](e[1](e[0](t))))));case 7:return e[6](e[5](e[4](e[3](e[2](e[1](e[0](t)))))));case 8:return e[7](e[6](e[5](e[4](e[3](e[2](e[1](e[0](t))))))));case 9:return e[8](e[7](e[6](e[5](e[4](e[3](e[2](e[1](e[0](t)))))))));default:{let r=t;for(let n=0,o=e.length;n<o;n++)r=e[n](r);return r}}};var os="Async",ss="Commit",Pe="Failure",Di="OnFailure",Ai="OnSuccess",ki="OnSuccessAndFailure",Le="Success",Vu="Sync",Ub="Tag",gn="UpdateRuntimeFlags",Fi="While",is="Iterator",Ku="WithRuntime",Oi="Yield",Ja="RevertFlags";var zb=Symbol.for("effect/Effect"),Wb=Symbol.for("effect/Stream"),jb=Symbol.for("effect/Sink"),Jb=Symbol.for("effect/Channel"),uo={_R:t=>t,_E:t=>t,_A:t=>t,_V:Qo()},MI={_A:t=>t,_In:t=>t,_L:t=>t,_E:t=>t,_R:t=>t},RI={_Env:t=>t,_InErr:t=>t,_InElem:t=>t,_InDone:t=>t,_OutErr:t=>t,_OutElem:t=>t,_OutDone:t=>t},yn={[zb]:uo,[Wb]:uo,[jb]:MI,[Jb]:RI,[L](t){return this===t},[B](){return Y(this,vi(this))},[Symbol.iterator](){return new rs(new Lr(this))},pipe(){return N(this,arguments)}},wi={[B](){return Y(this,Wu(this))},[L](t){let e=Object.keys(this),r=Object.keys(t);if(e.length!==r.length)return!1;for(let n of e)if(!(n in t&&I(this[n],t[n])))return!1;return!0}},Sn={...yn,_op:ss},am={...Sn,...wi},Gb=function(){function t(){}return t.prototype=Sn,t}();var Kb=Symbol.for("effect/Option"),Xb={...yn,[Kb]:{_A:t=>t},[Q](){return this.toJSON()},toString(){return oe(this.toJSON())}},TI=Object.assign(Object.create(Xb),{_tag:"Some",_op:"Some",[L](t){return Xu(t)&&cm(t)&&I(this.value,t.value)},[B](){return Y(this,z(P(this._tag))(P(this.value)))},toJSON(){return{_id:"Option",_tag:this._tag,value:re(this.value)}}}),II=P("None"),NI=Object.assign(Object.create(Xb),{_tag:"None",_op:"None",[L](t){return Xu(t)&&$u(t)},[B](){return II},toJSON(){return{_id:"Option",_tag:this._tag}}}),Xu=t=>R(t,Kb),$u=t=>t._tag==="None",cm=t=>t._tag==="Some",lo=Object.create(NI),bn=t=>{let e=Object.create(TI);return e.value=t,e};var lm=Symbol.for("effect/Either"),$b={...yn,[lm]:{_R:t=>t},[Q](){return this.toJSON()},toString(){return oe(this.toJSON())}},PI=Object.assign(Object.create($b),{_tag:"Right",_op:"Right",[L](t){return Yu(t)&&Qu(t)&&I(this.right,t.right)},[B](){return z(P(this._tag))(P(this.right))},toJSON(){return{_id:"Either",_tag:this._tag,right:re(this.right)}}}),LI=Object.assign(Object.create($b),{_tag:"Left",_op:"Left",[L](t){return Yu(t)&&Mi(t)&&I(this.left,t.left)},[B](){return z(P(this._tag))(P(this.left))},toJSON(){return{_id:"Either",_tag:this._tag,left:re(this.left)}}}),Yu=t=>R(t,lm),Mi=t=>t._tag==="Left",Qu=t=>t._tag==="Right",Zu=t=>{let e=Object.create(LI);return e.left=t,e},el=t=>{let e=Object.create(PI);return e.right=t,e},pm=t=>Qu(t)?lo:bn(t.left),fm=t=>Mi(t)?lo:bn(t.right);var Be=el,dt=Zu;var tl=Yu,po=Mi,Ri=Qu;var rl=d(2,(t,{onLeft:e,onRight:r})=>po(t)?e(t.left):r(t.right));var nl=rl({onLeft:j,onRight:j});var hm=t=>t.length>0;var ye={};Ua(ye,{Do:()=>y2,TypeId:()=>HI,all:()=>s0,andThen:()=>QI,ap:()=>s2,as:()=>r0,asVoid:()=>$I,bind:()=>g2,bindTo:()=>d2,composeK:()=>r2,contains:()=>gm,containsWith:()=>c0,exists:()=>m2,filter:()=>c2,filterMap:()=>a0,firstSomeOf:()=>GI,flatMap:()=>vr,flatMapNullable:()=>ZI,flatten:()=>e2,fromIterable:()=>UI,fromNullable:()=>Cr,gen:()=>b2,getEquivalence:()=>u2,getLeft:()=>WI,getOrElse:()=>qe,getOrNull:()=>KI,getOrThrow:()=>Va,getOrThrowWith:()=>t0,getOrUndefined:()=>lt,getOrder:()=>l2,getRight:()=>zI,isNone:()=>ee,isOption:()=>e0,isSome:()=>Z,let:()=>x2,lift2:()=>p2,liftNullable:()=>VI,liftPredicate:()=>f2,liftThrowable:()=>XI,map:()=>He,match:()=>Je,none:()=>D,orElse:()=>jI,orElseEither:()=>JI,orElseSome:()=>dm,partitionMap:()=>a2,product:()=>o0,productMany:()=>o2,reduceCompact:()=>i2,some:()=>A,tap:()=>n0,toArray:()=>i0,toRefinement:()=>qI,void:()=>YI,zipLeft:()=>n2,zipRight:()=>t2,zipWith:()=>xm});var ol=t=>(e,r)=>e===r?0:t(e,r);var Qb=ol((t,e)=>t<e?-1:1);var Zb=d(2,(t,e)=>ol((r,n)=>t(e(r),e(n))));var mm=t=>d(2,(e,r)=>t(e,r)===1);var HI=Symbol.for("effect/Option"),D=()=>lo,A=bn,e0=Xu,ee=$u,Z=cm,Je=d(2,(t,{onNone:e,onSome:r})=>ee(t)?e():r(t.value)),qI=t=>e=>Z(t(e)),UI=t=>{for(let e of t)return A(e);return D()},zI=fm,WI=pm,qe=d(2,(t,e)=>ee(t)?e():t.value),jI=d(2,(t,e)=>ee(t)?e():t),dm=d(2,(t,e)=>ee(t)?A(e()):t),JI=d(2,(t,e)=>ee(t)?He(e(),el):He(t,Zu)),GI=t=>{let e=D();for(e of t)if(Z(e))return e;return e},Cr=t=>t==null?D():A(t),VI=t=>(...e)=>Cr(t(...e)),KI=qe(Xh),lt=qe(Nu),XI=t=>(...e)=>{try{return A(t(...e))}catch{return D()}},t0=d(2,(t,e)=>{if(Z(t))return t.value;throw e()}),Va=t0(()=>new Error("getOrThrow called on a None")),He=d(2,(t,e)=>ee(t)?D():A(e(t.value))),r0=d(2,(t,e)=>He(t,()=>e)),$I=r0(void 0),YI=A(void 0);var vr=d(2,(t,e)=>ee(t)?D():e(t.value)),QI=d(2,(t,e)=>vr(t,r=>{let n=yi(e)?e(r):e;return e0(n)?n:A(n)})),ZI=d(2,(t,e)=>ee(t)?D():Cr(e(t.value))),e2=vr(j),t2=d(2,(t,e)=>vr(t,()=>e)),r2=d(2,(t,e)=>r=>vr(t(r),e)),n2=d(2,(t,e)=>n0(t,()=>e)),n0=d(2,(t,e)=>vr(t,r=>He(e(r),()=>r))),o0=(t,e)=>Z(t)&&Z(e)?A([t.value,e.value]):D(),o2=(t,e)=>{if(ee(t))return D();let r=[t.value];for(let n of e){if(ee(n))return D();r.push(n.value)}return A(r)},s0=t=>{if(Symbol.iterator in t){let r=[];for(let n of t){if(ee(n))return D();r.push(n.value)}return A(r)}let e={};for(let r of Object.keys(t)){let n=t[r];if(ee(n))return D();e[r]=n.value}return A(e)},xm=d(3,(t,e,r)=>He(o0(t,e),([n,o])=>r(n,o))),s2=d(2,(t,e)=>xm(t,e,(r,n)=>r(n))),i2=d(3,(t,e,r)=>{let n=e;for(let o of t)Z(o)&&(n=r(n,o.value));return n}),i0=t=>ee(t)?[]:[t.value],a2=d(2,(t,e)=>{if(ee(t))return[D(),D()];let r=e(t.value);return Mi(r)?[A(r.left),D()]:[D(),A(r.right)]}),a0=d(2,(t,e)=>ee(t)?D():e(t.value)),c2=d(2,(t,e)=>a0(t,r=>e(r)?bn(r):lo)),u2=t=>bi((e,r)=>ee(e)?ee(r):ee(r)?!1:t(e.value,r.value)),l2=t=>ol((e,r)=>Z(e)?Z(r)?t(e.value,r.value):1:-1),p2=t=>d(2,(e,r)=>xm(e,r,t)),f2=d(2,(t,e)=>e(t)?A(t):D()),c0=t=>d(2,(e,r)=>ee(e)?!1:t(e.value,r)),h2=ja(),gm=c0(h2),m2=d(2,(t,e)=>ee(t)?!1:e(t.value)),d2=Lu(He),x2=Pu(He);var g2=Bu(He,vr),y2=A({}),S2=Nb(),b2=(...t)=>{let e;t.length===1?e=t[0]:e=t[1].bind(t[0]);let r=e(S2),n=r.next();if(n.done)return A(n.value);{let o=n.value;if(nm(o)?o=o.value:o=Ci(o),ee(o))return o;for(;!n.done;)if(n=r.next(o.value),!n.done&&(o=n.value,nm(o)?o=o.value:o=Ci(o),ee(o)))return o;return A(n.value)}};var u0=(...t)=>t;var Ka=t=>new Array(t),ym=(t,e)=>{let r=Math.max(1,Math.floor(t)),n=new Array(r);for(let o=0;o<r;o++)n[o]=e(o);return n};var se=t=>Array.isArray(t)?t:Array.from(t),p0=t=>Array.isArray(t)?t:[t];var Ti=d(2,(t,e)=>[e,...t]);var f0=d(2,(t,e)=>[...t,e]),Sm=d(2,(t,e)=>se(t).concat(se(e)));var E2=Array.isArray,C2=t=>t.length===0,h0=C2,m0=hm,xt=hm;var d0=(t,e)=>t<0||t>=e.length,v2=(t,e)=>Math.floor(Math.min(Math.max(0,t),e.length)),_2=d(2,(t,e)=>{let r=Math.floor(e);return d0(r,t)?D():A(t[r])}),bm=d(2,(t,e)=>{let r=Math.floor(e);if(d0(r,t))throw new Error(`Index ${r} out of bounds`);return t[r]});var ho=_2(0),gt=bm(0),il=t=>xt(t)?A(Em(t)):D(),Em=t=>t[t.length-1];var Br=t=>t.slice(1);var D2=(t,e)=>{let r=0;for(let n of t){if(!e(n,r))break;r++}return r},x0=d(2,(t,e)=>k2(t,D2(t,e))),g0=d(2,(t,e)=>{let r=se(t);return r.slice(v2(e,r),r.length)});var Cm=t=>Array.from(t).reverse(),as=d(2,(t,e)=>{let r=Array.from(t);return r.sort(e),r});var vm=d(2,(t,e)=>y0(t,e,u0)),y0=d(3,(t,e,r)=>{let n=se(t),o=se(e);if(xt(n)&&xt(o)){let s=[r(gt(n),gt(o))],i=Math.min(n.length,o.length);for(let c=1;c<i;c++)s[c]=r(n[c],o[c]);return s}return[]});var A2=ja();var k2=d(2,(t,e)=>{let r=Array.from(t),n=Math.floor(e);return xt(r)?n>=1?F2(r,n):[[],r]:[r,[]]}),F2=d(2,(t,e)=>{let r=Math.max(1,Math.floor(e));return r>=t.length?[O2(t),[]]:[Ti(t.slice(1,r),gt(t)),t.slice(r)]});var O2=t=>t.slice();var w2=d(3,(t,e,r)=>{let n=se(t),o=se(e);return xt(n)?xt(o)?E0(r)(Sm(n,o)):n:o}),_r=d(2,(t,e)=>w2(t,e,A2));var Dr=()=>[],_t=t=>[t],Hr=d(2,(t,e)=>t.map(e)),S0=d(2,(t,e)=>{if(h0(t))return[];let r=[];for(let n=0;n<t.length;n++){let o=e(t[n],n);for(let s=0;s<o.length;s++)r.push(o[s])}return r}),al=S0(j),Ii=d(2,(t,e)=>{let r=se(t),n=[];for(let o=0;o<r.length;o++){let s=e(r[o],o);Z(s)&&n.push(s.value)}return n});var _m=d(2,(t,e)=>{let r=[],n=[],o=se(t);for(let s=0;s<o.length;s++){let i=e(o[s],s);po(i)?r.push(i.left):n.push(i.right)}return[r,n]}),b0=Ii(j);var ir=d(3,(t,e,r)=>se(t).reduce((n,o,s)=>r(n,o,s),e)),cl=d(3,(t,e,r)=>se(t).reduceRight((n,o,s)=>r(n,o,s),e));var Dm=(t,e)=>{let r=[],n=t,o;for(;Z(o=e(n));){let[s,i]=o.value;r.push(s),n=i}return r};var Ni=Db;var E0=d(2,(t,e)=>{let r=se(t);if(xt(r)){let n=[gt(r)],o=Br(r);for(let s of o)n.every(i=>!e(s,i))&&n.push(s);return n}return[]}),Am=t=>E0(t,ja());var En=d(2,(t,e)=>se(t).join(e));var mo=Qb;var C0=t=>t.replace(/[/\\^$*+?.()|[\]{}]/g,"\\$&");var _0=t=>!t;var Ge={};Ua(Ge,{GenericTag:()=>Qe,Reference:()=>$a,Tag:()=>J2,add:()=>Ee,empty:()=>ot,get:()=>st,getOption:()=>ar,getOrElse:()=>z2,isContext:()=>Tm,isReference:()=>U2,isTag:()=>Li,make:()=>It,merge:()=>cr,omit:()=>j2,pick:()=>W2,unsafeGet:()=>qr,unsafeMake:()=>q2});var Fm=Symbol.for("effect/Context/Tag"),Xa=Symbol.for("effect/Context/Reference"),I2="effect/STM",N2=Symbol.for(I2),Pi={...yn,_op:"Tag",[N2]:uo,[Fm]:{_Service:t=>t,_Identifier:t=>t},toString(){return oe(this.toJSON())},toJSON(){return{_id:"Tag",key:this.key,stack:this.stack}},[Q](){return this.toJSON()},of(t){return t},context(t){return Mm(this,t)}},P2={...Pi,[Xa]:Xa},A0=t=>{let e=Error.stackTraceLimit;Error.stackTraceLimit=2;let r=new Error;Error.stackTraceLimit=e;let n=Object.create(Pi);return Object.defineProperty(n,"stack",{get(){return r.stack}}),n.key=t,n},k0=t=>()=>{let e=Error.stackTraceLimit;Error.stackTraceLimit=2;let r=new Error;Error.stackTraceLimit=e;function n(){}return Object.setPrototypeOf(n,Pi),n.key=t,Object.defineProperty(n,"stack",{get(){return r.stack}}),n},F0=()=>(t,e)=>{let r=Error.stackTraceLimit;Error.stackTraceLimit=2;let n=new Error;Error.stackTraceLimit=r;function o(){}return Object.setPrototypeOf(o,P2),o.key=t,o.defaultValue=e.defaultValue,Object.defineProperty(o,"stack",{get(){return n.stack}}),o},Om=Symbol.for("effect/Context"),L2={[Om]:{_Services:t=>t},[L](t){if(wm(t)&&this.unsafeMap.size===t.unsafeMap.size){for(let e of this.unsafeMap.keys())if(!t.unsafeMap.has(e)||!I(this.unsafeMap.get(e),t.unsafeMap.get(e)))return!1;return!0}return!1},[B](){return Y(this,zu(this.unsafeMap.size))},pipe(){return N(this,arguments)},toString(){return oe(this.toJSON())},toJSON(){return{_id:"Context",services:Array.from(this.unsafeMap).map(re)}},[Q](){return this.toJSON()}},Ar=t=>{let e=Object.create(L2);return e.unsafeMap=t,e},B2=t=>{let e=new Error(`Service not found${t.key?`: ${String(t.key)}`:""}`);if(t.stack){let r=t.stack.split(`
`);if(r.length>2){let n=r[2].match(/at (.*)/);n&&(e.message=e.message+` (defined at ${n[1]})`)}}if(e.stack){let r=e.stack.split(`
`);r.splice(1,3),e.stack=r.join(`
`)}return e},wm=t=>R(t,Om),O0=t=>R(t,Fm),ll=t=>R(t,Xa),H2=Ar(new Map),w0=()=>H2,Mm=(t,e)=>Ar(new Map([[t.key,e]])),M0=d(3,(t,e,r)=>{let n=new Map(t.unsafeMap);return n.set(e.key,r),Ar(n)}),km=V("effect/Context/defaultValueCache",()=>new Map),pl=t=>{if(km.has(t.key))return km.get(t.key);let e=t.defaultValue();return km.set(t.key,e),e},R0=(t,e)=>t.unsafeMap.has(e.key)?t.unsafeMap.get(e.key):pl(e),Rm=d(2,(t,e)=>{if(!t.unsafeMap.has(e.key)){if(Xa in e)return pl(e);throw B2(e)}return t.unsafeMap.get(e.key)}),T0=Rm,I0=d(3,(t,e,r)=>t.unsafeMap.has(e.key)?t.unsafeMap.get(e.key):ll(e)?pl(e):r()),N0=d(2,(t,e)=>t.unsafeMap.has(e.key)?bn(t.unsafeMap.get(e.key)):ll(e)?bn(pl(e)):lo),P0=d(2,(t,e)=>{let r=new Map(t.unsafeMap);for(let[n,o]of e.unsafeMap)r.set(n,o);return Ar(r)}),L0=(...t)=>e=>{let r=new Set(t.map(o=>o.key)),n=new Map;for(let[o,s]of e.unsafeMap.entries())r.has(o)&&n.set(o,s);return Ar(n)},B0=(...t)=>e=>{let r=new Map(e.unsafeMap);for(let n of t)r.delete(n.key);return Ar(r)};var Qe=A0;var q2=Ar,Tm=wm,Li=O0,U2=ll,ot=w0,It=Mm,Ee=M0,st=T0,z2=I0,qr=Rm,ar=N0,cr=P0,W2=L0,j2=B0,J2=k0,$a=F0;var q0=Symbol.for("effect/Chunk");function G2(t,e,r,n,o){for(let s=e;s<Math.min(t.length,e+o);s++)r[n+s-e]=t[s];return r}var U0=[],V2=t=>bi((e,r)=>e.length===r.length&&ur(e).every((n,o)=>t(n,cs(r,o)))),K2=V2(I),X2={[q0]:{_A:t=>t},toString(){return oe(this.toJSON())},toJSON(){return{_id:"Chunk",values:ur(this).map(re)}},[Q](){return this.toJSON()},[L](t){return z0(t)&&K2(this,t)},[B](){return Y(this,Tt(ur(this)))},[Symbol.iterator](){switch(this.backing._tag){case"IArray":return this.backing.array[Symbol.iterator]();case"IEmpty":return U0[Symbol.iterator]();default:return ur(this)[Symbol.iterator]()}},pipe(){return N(this,arguments)}},Ve=t=>{let e=Object.create(X2);switch(e.backing=t,t._tag){case"IEmpty":{e.length=0,e.depth=0,e.left=e,e.right=e;break}case"IConcat":{e.length=t.left.length+t.right.length,e.depth=1+Math.max(t.left.depth,t.right.depth),e.left=t.left,e.right=t.right;break}case"IArray":{e.length=t.array.length,e.depth=0,e.left=Ur,e.right=Ur;break}case"ISingleton":{e.length=1,e.depth=0,e.left=Ur,e.right=Ur;break}case"ISlice":{e.length=t.length,e.depth=t.chunk.depth+1,e.left=Ur,e.right=Ur;break}}return e},z0=t=>R(t,q0),Ur=Ve({_tag:"IEmpty"}),Nt=()=>Ur,Ya=(...t)=>t.length===1?Re(t[0]):Z2(t),Re=t=>Ve({_tag:"ISingleton",a:t}),Wr=t=>z0(t)?t:Ve({_tag:"IArray",array:se(t)}),Im=(t,e,r)=>{switch(t.backing._tag){case"IArray":{G2(t.backing.array,0,e,r,t.length);break}case"IConcat":{Im(t.left,e,r),Im(t.right,e,r+t.left.length);break}case"ISingleton":{e[r]=t.backing.a;break}case"ISlice":{let n=0,o=r;for(;n<t.length;)e[o]=cs(t,n),n+=1,o+=1;break}}};var $2=t=>{switch(t.backing._tag){case"IEmpty":return U0;case"IArray":return t.backing.array;default:{let e=new Array(t.length);return Im(t,e,0),t.backing={_tag:"IArray",array:e},t.left=Ur,t.right=Ur,t.depth=0,e}}},ur=$2,Y2=t=>{switch(t.backing._tag){case"IEmpty":case"ISingleton":return t;case"IArray":return Ve({_tag:"IArray",array:Cm(t.backing.array)});case"IConcat":return Ve({_tag:"IConcat",left:zr(t.backing.right),right:zr(t.backing.left)});case"ISlice":return Bi(Cm(ur(t)))}},zr=Y2,Q2=d(2,(t,e)=>e<0||e>=t.length?D():A(cs(t,e))),Bi=t=>Ve({_tag:"IArray",array:t}),Z2=t=>Bi(t),cs=d(2,(t,e)=>{switch(t.backing._tag){case"IEmpty":throw new Error("Index out of bounds");case"ISingleton":{if(e!==0)throw new Error("Index out of bounds");return t.backing.a}case"IArray":{if(e>=t.length||e<0)throw new Error("Index out of bounds");return t.backing.array[e]}case"IConcat":return e<t.left.length?cs(t.left,e):cs(t.right,e-t.left.length);case"ISlice":return cs(t.backing.chunk,e+t.backing.offset)}}),fl=d(2,(t,e)=>Jt(t,Re(e))),Ke=d(2,(t,e)=>Jt(Re(e),t));var Nm=d(2,(t,e)=>{if(e<=0)return t;if(e>=t.length)return Ur;switch(t.backing._tag){case"ISlice":return Ve({_tag:"ISlice",chunk:t.backing.chunk,offset:t.backing.offset+e,length:t.backing.length-e});case"IConcat":return e>t.left.length?Nm(t.right,e-t.left.length):Ve({_tag:"IConcat",left:Nm(t.left,e),right:t.right});default:return Ve({_tag:"ISlice",chunk:t,offset:e,length:t.length-e})}});var Jt=d(2,(t,e)=>{if(t.backing._tag==="IEmpty")return e;if(e.backing._tag==="IEmpty")return t;let r=e.depth-t.depth;if(Math.abs(r)<=1)return Ve({_tag:"IConcat",left:t,right:e});if(r<-1)if(t.left.depth>=t.right.depth){let n=Jt(t.right,e);return Ve({_tag:"IConcat",left:t.left,right:n})}else{let n=Jt(t.right.right,e);if(n.depth===t.depth-3){let o=Ve({_tag:"IConcat",left:t.right.left,right:n});return Ve({_tag:"IConcat",left:t.left,right:o})}else{let o=Ve({_tag:"IConcat",left:t.left,right:t.right.left});return Ve({_tag:"IConcat",left:o,right:n})}}else if(e.right.depth>=e.left.depth){let n=Jt(t,e.left);return Ve({_tag:"IConcat",left:n,right:e.right})}else{let n=Jt(t,e.left.left);if(n.depth===e.depth-3){let o=Ve({_tag:"IConcat",left:n,right:e.left.right});return Ve({_tag:"IConcat",left:o,right:e.right})}else{let o=Ve({_tag:"IConcat",left:e.left.right,right:e.right});return Ve({_tag:"IConcat",left:n,right:o})}}});var Pm=t=>t.length===0,Ze=t=>t.length>0,hl=Q2(0),Lm=t=>cs(t,0),Xe=Lm;var it=t=>Nm(t,1);var Bm=Symbol.for("effect/Duration"),eN=BigInt(0),W0=BigInt(24),ml=BigInt(60),Hm=BigInt(1e3),j0=BigInt(1e6),qm=BigInt(1e9),J0=/^(-?\d+(?:\.\d+)?)\s+(nanos?|micros?|millis?|seconds?|minutes?|hours?|days?|weeks?)$/,et=t=>{if(V0(t))return t;if(Zo(t))return xo(t);if(Hu(t))return Qa(t);if(Array.isArray(t)){if(t.length===2&&Zo(t[0])&&Zo(t[1]))return Qa(BigInt(t[0])*qm+BigInt(t[1]))}else if(Ei(t)){J0.lastIndex=0;let e=J0.exec(t);if(e){let[r,n,o]=e,s=Number(n);switch(o){case"nano":case"nanos":return Qa(BigInt(n));case"micro":case"micros":return nN(BigInt(n));case"milli":case"millis":return xo(s);case"second":case"seconds":return zm(s);case"minute":case"minutes":return oN(s);case"hour":case"hours":return sN(s);case"day":case"days":return iN(s);case"week":case"weeks":return aN(s)}}}throw new Error("Invalid DurationInput")};var G0={_tag:"Millis",millis:0},tN={_tag:"Infinity"},rN={[Bm]:Bm,[B](){return Y(this,Wu(this.value))},[L](t){return V0(t)&&fN(this,t)},toString(){return`Duration(${jm(this)})`},toJSON(){switch(this.value._tag){case"Millis":return{_id:"Duration",_tag:"Millis",millis:this.value.millis};case"Nanos":return{_id:"Duration",_tag:"Nanos",hrtime:uN(this)};case"Infinity":return{_id:"Duration",_tag:"Infinity"}}},[Q](){return this.toJSON()},pipe(){return N(this,arguments)}},Cn=t=>{let e=Object.create(rN);return Zo(t)?isNaN(t)||t<=0?e.value=G0:Number.isFinite(t)?Number.isInteger(t)?e.value={_tag:"Millis",millis:t}:e.value={_tag:"Nanos",nanos:BigInt(Math.round(t*1e6))}:e.value=tN:t<=eN?e.value=G0:e.value={_tag:"Nanos",nanos:t},e},V0=t=>R(t,Bm);var Um=Cn(0);var Qa=t=>Cn(t),nN=t=>Cn(t*Hm),xo=t=>Cn(t),zm=t=>Cn(t*1e3),oN=t=>Cn(t*6e4),sN=t=>Cn(t*36e5),iN=t=>Cn(t*864e5),aN=t=>Cn(t*6048e5),jr=t=>lN(t,{onMillis:e=>e,onNanos:e=>Number(e)/1e6});var cN=t=>{let e=et(t);switch(e.value._tag){case"Infinity":throw new Error("Cannot convert infinite duration to nanos");case"Nanos":return e.value.nanos;case"Millis":return BigInt(Math.round(e.value.millis*1e6))}},uN=t=>{let e=et(t);switch(e.value._tag){case"Infinity":return[1/0,0];case"Nanos":return[Number(e.value.nanos/qm),Number(e.value.nanos%qm)];case"Millis":return[Math.floor(e.value.millis/1e3),Math.round(e.value.millis%1e3*1e6)]}},lN=d(2,(t,e)=>{let r=et(t);switch(r.value._tag){case"Nanos":return e.onNanos(r.value.nanos);case"Infinity":return e.onMillis(1/0);case"Millis":return e.onMillis(r.value.millis)}}),K0=d(3,(t,e,r)=>{let n=et(t),o=et(e);if(n.value._tag==="Infinity"||o.value._tag==="Infinity")return r.onMillis(jr(n),jr(o));if(n.value._tag==="Nanos"||o.value._tag==="Nanos"){let s=n.value._tag==="Nanos"?n.value.nanos:BigInt(Math.round(n.value.millis*1e6)),i=o.value._tag==="Nanos"?o.value.nanos:BigInt(Math.round(o.value.millis*1e6));return r.onNanos(s,i)}return r.onMillis(n.value.millis,o.value.millis)});var pN=(t,e)=>K0(t,e,{onMillis:(r,n)=>r===n,onNanos:(r,n)=>r===n});var Wm=d(2,(t,e)=>K0(t,e,{onMillis:(r,n)=>r>=n,onNanos:(r,n)=>r>=n})),fN=d(2,(t,e)=>pN(et(t),et(e))),hN=t=>{let e=et(t);if(e.value._tag==="Infinity")return{days:1/0,hours:1/0,minutes:1/0,seconds:1/0,millis:1/0,nanos:1/0};let r=cN(e),n=r/j0,o=n/Hm,s=o/ml,i=s/ml,c=i/W0;return{days:Number(c),hours:Number(i%W0),minutes:Number(s%ml),seconds:Number(o%ml),millis:Number(n%Hm),nanos:Number(r%j0)}},jm=t=>{let e=et(t);if(e.value._tag==="Infinity")return"Infinity";let r=hN(e),n=[];return r.days!==0&&n.push(`${r.days}d`),r.hours!==0&&n.push(`${r.hours}h`),r.minutes!==0&&n.push(`${r.minutes}m`),r.seconds!==0&&n.push(`${r.seconds}s`),r.millis!==0&&n.push(`${r.millis}ms`),r.nanos!==0&&n.push(`${r.nanos}ns`),n.join(" ")};var Jm=Math.pow(2,5),X0=Jm-1,$0=Jm/2,Y0=Jm/4;function mN(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),t=t+(t>>4)&252645135,t+=t>>8,t+=t>>16,t&127}function go(t,e){return e>>>t&X0}function yo(t){return 1<<t}function dl(t,e){return mN(t&e-1)}var Q0=(t,e)=>({value:t,previous:e});function us(t,e,r,n){let o=n;if(!t){let s=n.length;o=new Array(s);for(let i=0;i<s;++i)o[i]=n[i]}return o[e]=r,o}function Gm(t,e,r){let n=r.length-1,o=0,s=0,i=r;if(t)o=s=e;else for(i=new Array(n);o<e;)i[s++]=r[o++];for(++o;o<=n;)i[s++]=r[o++];return t&&(i.length=n),i}function Z0(t,e,r,n){let o=n.length;if(t){let l=o;for(;l>=e;)n[l--]=n[l];return n[e]=r,n}let s=0,i=0,c=new Array(o+1);for(;s<e;)c[i++]=n[s++];for(c[e]=r;s<o;)c[++i]=n[s++];return c}var vn=class t{_tag="EmptyNode";modify(e,r,n,o,s,i){let c=n(D());return ee(c)?new t:(++i.value,new Hi(e,o,s,c))}};function lr(t){return co(t,"EmptyNode")}function xN(t){return lr(t)||t._tag==="LeafNode"||t._tag==="CollisionNode"}function xl(t,e){return lr(t)?!1:e===t.edit}var Hi=class t{edit;hash;key;value;_tag="LeafNode";constructor(e,r,n,o){this.edit=e,this.hash=r,this.key=n,this.value=o}modify(e,r,n,o,s,i){if(I(s,this.key)){let l=n(this.value);return l===this.value?this:ee(l)?(--i.value,new vn):xl(this,e)?(this.value=l,this):new t(e,o,s,l)}let c=n(D());return ee(c)?this:(++i.value,eE(e,r,this.hash,this,o,new t(e,o,s,c)))}},Vm=class t{edit;hash;children;_tag="CollisionNode";constructor(e,r,n){this.edit=e,this.hash=r,this.children=n}modify(e,r,n,o,s,i){if(o===this.hash){let l=xl(this,e),p=this.updateCollisionList(l,e,this.hash,this.children,n,s,i);return p===this.children?this:p.length>1?new t(e,this.hash,p):p[0]}let c=n(D());return ee(c)?this:(++i.value,eE(e,r,this.hash,this,o,new Hi(e,o,s,c)))}updateCollisionList(e,r,n,o,s,i,c){let l=o.length;for(let f=0;f<l;++f){let g=o[f];if("key"in g&&I(i,g.key)){let m=g.value,a=s(m);return a===m?o:ee(a)?(--c.value,Gm(e,f,o)):us(e,f,new Hi(r,n,i,a),o)}}let p=s(D());return ee(p)?o:(++c.value,us(e,l,new Hi(r,n,i,p),o))}},Za=class t{edit;mask;children;_tag="IndexedNode";constructor(e,r,n){this.edit=e,this.mask=r,this.children=n}modify(e,r,n,o,s,i){let c=this.mask,l=this.children,p=go(r,o),f=yo(p),g=dl(c,f),m=c&f,a=xl(this,e);if(!m){let b=new vn().modify(e,r+5,n,o,s,i);return b?l.length>=$0?yN(e,p,b,c,l):new t(e,c|f,Z0(a,g,b,l)):this}let u=l[g],h=u.modify(e,r+5,n,o,s,i);if(u===h)return this;let x=c,y;if(lr(h)){if(x&=~f,!x)return new vn;if(l.length<=2&&xN(l[g^1]))return l[g^1];y=Gm(a,g,l)}else y=us(a,g,h,l);return a?(this.mask=x,this.children=y,this):new t(e,x,y)}},Km=class t{edit;size;children;_tag="ArrayNode";constructor(e,r,n){this.edit=e,this.size=r,this.children=n}modify(e,r,n,o,s,i){let c=this.size,l=this.children,p=go(r,o),f=l[p],g=(f||new vn).modify(e,r+5,n,o,s,i);if(f===g)return this;let m=xl(this,e),a;if(lr(f)&&!lr(g))++c,a=us(m,p,g,l);else if(!lr(f)&&lr(g)){if(--c,c<=Y0)return gN(e,c,p,l);a=us(m,p,new vn,l)}else a=us(m,p,g,l);return m?(this.size=c,this.children=a,this):new t(e,c,a)}};function gN(t,e,r,n){let o=new Array(e-1),s=0,i=0;for(let c=0,l=n.length;c<l;++c)if(c!==r){let p=n[c];p&&!lr(p)&&(o[s++]=p,i|=1<<c)}return new Za(t,i,o)}function yN(t,e,r,n,o){let s=[],i=n,c=0;for(let l=0;i;++l)i&1&&(s[l]=o[c++]),i>>>=1;return s[e]=r,new Km(t,c+1,s)}function SN(t,e,r,n,o,s){if(r===o)return new Vm(t,r,[s,n]);let i=go(e,r),c=go(e,o);if(i===c)return l=>new Za(t,yo(i)|yo(c),[l]);{let l=i<c?[n,s]:[s,n];return new Za(t,yo(i)|yo(c),l)}}function eE(t,e,r,n,o,s){let i,c=e;for(;;){let l=SN(t,c,r,n,o,s);if(typeof l=="function")i=Q0(l,i),c=c+5;else{let p=l;for(;i!=null;)p=i.value(p),i=i.previous;return p}}}var tE="effect/HashMap",gl=Symbol.for(tE),EN={[gl]:gl,[Symbol.iterator](){return new yl(this,(t,e)=>[t,e])},[B](){let t=P(tE);for(let e of this)t^=S(P(e[0]),z(P(e[1])));return Y(this,t)},[L](t){if(sE(t)){if(t._size!==this._size)return!1;for(let e of this){let r=S(t,bl(e[0],P(e[0])));if(ee(r))return!1;if(!I(e[1],r.value))return!1}return!0}return!1},toString(){return oe(this.toJSON())},toJSON(){return{_id:"HashMap",values:Array.from(this).map(re)}},[Q](){return this.toJSON()},pipe(){return N(this,arguments)}},Xm=(t,e,r,n)=>{let o=Object.create(EN);return o._editable=t,o._edit=e,o._root=r,o._size=n,o},yl=class t{map;f;v;constructor(e,r){this.map=e,this.f=r,this.v=rE(this.map._root,this.f,void 0)}next(){if(ee(this.v))return{done:!0,value:void 0};let e=this.v.value;return this.v=Sl(e.cont),{done:!1,value:e.value}}[Symbol.iterator](){return new t(this.map,this.f)}},Sl=t=>t?nE(t[0],t[1],t[2],t[3],t[4]):D(),rE=(t,e,r=void 0)=>{switch(t._tag){case"LeafNode":return Z(t.value)?A({value:e(t.key,t.value.value),cont:r}):Sl(r);case"CollisionNode":case"ArrayNode":case"IndexedNode":{let n=t.children;return nE(n.length,n,0,e,r)}default:return Sl(r)}},nE=(t,e,r,n,o)=>{for(;r<t;){let s=e[r++];if(s&&!lr(s))return rE(s,n,[t,e,r,n,o])}return Sl(o)},CN=Xm(!1,0,new vn,0),Ui=()=>CN;var oE=t=>{let e=ec(Ui());for(let r of t)ls(e,r[0],r[1]);return Ym(e)},sE=t=>R(t,gl),iE=t=>t&&lr(t._root),aE=d(2,(t,e)=>bl(t,e,P(e))),bl=d(3,(t,e,r)=>{let n=t._root,o=0;for(;;)switch(n._tag){case"LeafNode":return I(e,n.key)?n.value:D();case"CollisionNode":{if(r===n.hash){let s=n.children;for(let i=0,c=s.length;i<c;++i){let l=s[i];if("key"in l&&I(e,l.key))return l.value}}return D()}case"IndexedNode":{let s=go(o,r),i=yo(s);if(n.mask&i){n=n.children[dl(n.mask,i)],o+=5;break}return D()}case"ArrayNode":{if(n=n.children[go(o,r)],n){o+=5;break}return D()}default:return D()}});var $m=d(2,(t,e)=>Z(bl(t,e,P(e))));var ls=d(3,(t,e,r)=>Cl(t,e,()=>A(r))),vN=d(3,(t,e,r)=>t._editable?(t._root=e,t._size=r,t):e===t._root?t:Xm(t._editable,t._edit,e,r)),El=t=>new yl(t,e=>e);var zi=t=>t._size,ec=t=>Xm(!0,t._edit+1,t._root,t._size),Ym=t=>(t._editable=!1,t),cE=d(2,(t,e)=>{let r=ec(t);return e(r),Ym(r)}),Cl=d(3,(t,e,r)=>uE(t,e,P(e),r)),uE=d(4,(t,e,r,n)=>{let o={value:t._size},s=t._root.modify(t._editable?t._edit:NaN,0,n,r,e,o);return S(t,vN(s,o.value))});var vl=d(2,(t,e)=>Cl(t,e,D));var lE=d(2,(t,e)=>Wi(t,Ui(),(r,n,o)=>ls(r,o,e(n,o))));var _l=d(2,(t,e)=>Wi(t,void 0,(r,n,o)=>e(n,o))),Wi=d(3,(t,e,r)=>{let n=t._root;if(n._tag==="LeafNode")return Z(n.value)?r(e,n.value.value,n.key):e;if(n._tag==="EmptyNode")return e;let o=[n.children],s;for(;s=o.pop();)for(let i=0,c=s.length;i<c;){let l=s[i++];l&&!lr(l)&&(l._tag==="LeafNode"?Z(l.value)&&(e=r(e,l.value.value,l.key)):o.push(l.children))}return e});var fE="effect/HashSet",Dl=Symbol.for(fE),_N={[Dl]:Dl,[Symbol.iterator](){return El(this._keyMap)},[B](){return Y(this,z(P(this._keyMap))(P(fE)))},[L](t){return hE(t)?zi(this._keyMap)===zi(t._keyMap)&&I(this._keyMap,t._keyMap):!1},toString(){return oe(this.toJSON())},toJSON(){return{_id:"HashSet",values:Array.from(this).map(re)}},[Q](){return this.toJSON()},pipe(){return N(this,arguments)}},Al=t=>{let e=Object.create(_N);return e._keyMap=t,e},hE=t=>R(t,Dl),DN=Al(Ui()),tc=()=>DN,mE=t=>{let e=kl(tc());for(let r of t)ji(e,r);return Fl(e)},dE=(...t)=>{let e=kl(tc());for(let r of t)ji(e,r);return Fl(e)},xE=d(2,(t,e)=>$m(t._keyMap,e));var gE=t=>zi(t._keyMap),kl=t=>Al(ec(t._keyMap)),Fl=t=>(t._keyMap._editable=!1,t),Qm=d(2,(t,e)=>{let r=kl(t);return e(r),Fl(r)}),ji=d(2,(t,e)=>t._keyMap._editable?(ls(e,!0)(t._keyMap),t):Al(ls(e,!0)(t._keyMap))),Zm=d(2,(t,e)=>t._keyMap._editable?(vl(e)(t._keyMap),t):Al(vl(e)(t._keyMap))),yE=d(2,(t,e)=>Qm(t,r=>{for(let n of e)Zm(r,n)}));var SE=d(2,(t,e)=>Qm(tc(),r=>{bE(t,n=>ji(r,n));for(let n of e)ji(r,n)}));var bE=d(2,(t,e)=>_l(t._keyMap,(r,n)=>e(n))),EE=d(3,(t,e,r)=>Wi(t._keyMap,e,(n,o,s)=>r(n,s)));var Gr=tc,Ol=mE,ps=dE,CE=xE;var fs=gE;var hs=ji,ed=Zm,td=yE;var _n=SE;var ms=EE;var vE=Symbol.for("effect/MutableRef"),kN={[vE]:vE,toString(){return oe(this.toJSON())},toJSON(){return{_id:"MutableRef",current:re(this.current)}},[Q](){return this.toJSON()},pipe(){return N(this,arguments)}},Vr=t=>{let e=Object.create(kN);return e.current=t,e},wl=d(3,(t,e,r)=>I(e,t.current)?(t.current=r,!0):!1);var Pt=t=>t.current;var pr=d(2,(t,e)=>(t.current=e,t));var Rl="effect/FiberId",So=Symbol.for(Rl),Ji="None",rd="Runtime",nd="Composite",FN=pe(`${Rl}-${Ji}`),od=class{[So]=So;_tag=Ji;id=-1;startTimeMillis=-1;[B](){return FN}[L](e){return Il(e)&&e._tag===Ji}toString(){return oe(this.toJSON())}toJSON(){return{_id:"FiberId",_tag:this._tag}}[Q](){return this.toJSON()}},sd=class{id;startTimeMillis;[So]=So;_tag=rd;constructor(e,r){this.id=e,this.startTimeMillis=r}[B](){return Y(this,pe(`${Rl}-${this._tag}-${this.id}-${this.startTimeMillis}`))}[L](e){return Il(e)&&e._tag===rd&&this.id===e.id&&this.startTimeMillis===e.startTimeMillis}toString(){return oe(this.toJSON())}toJSON(){return{_id:"FiberId",_tag:this._tag,id:this.id,startTimeMillis:this.startTimeMillis}}[Q](){return this.toJSON()}},id=class{left;right;[So]=So;_tag=nd;constructor(e,r){this.left=e,this.right=r}_hash;[B](){return S(pe(`${Rl}-${this._tag}`),z(P(this.left)),z(P(this.right)),Y(this))}[L](e){return Il(e)&&e._tag===nd&&I(this.left,e.left)&&I(this.right,e.right)}toString(){return oe(this.toJSON())}toJSON(){return{_id:"FiberId",_tag:this._tag,left:re(this.left),right:re(this.right)}}[Q](){return this.toJSON()}},Tl=new od;var Il=t=>R(t,So);var DE=d(2,(t,e)=>t._tag===Ji?e:e._tag===Ji?t:new id(t,e));var Ml=t=>{switch(t._tag){case Ji:return Gr();case rd:return ps(t.id);case nd:return S(Ml(t.left),_n(Ml(t.right)))}},_E=V(Symbol.for("effect/Fiber/Id/_fiberCounter"),()=>Vr(0));var Nl=t=>Array.from(Ml(t)).map(r=>`#${r}`).join(",");var AE=()=>{let t=Pt(_E);return S(_E,pr(t+1)),new sd(t,Date.now())};var Lt=Tl;var ad=DE;var FE=Nl;var Pl=AE;var xs=Ui;var OE=oE,wE=iE,cd=aE;var yt=ls,ud=El;var ME=zi;var RE=cE,TE=Cl;var IE=lE;var NE=_l,ld=Wi;var rc=Symbol.for("effect/List"),pd=t=>se(t),wN=t=>_b(Ni(t),pd),MN=wN(I),RN={[rc]:rc,_tag:"Cons",toString(){return oe(this.toJSON())},toJSON(){return{_id:"List",_tag:"Cons",values:pd(this).map(re)}},[Q](){return this.toJSON()},[L](t){return LE(t)&&this._tag===t._tag&&MN(this,t)},[B](){return Y(this,Tt(pd(this)))},[Symbol.iterator](){let t=!1,e=this;return{next(){if(t)return this.return();if(e._tag==="Nil")return t=!0,this.return();let r=e.head;return e=e.tail,{done:t,value:r}},return(r){return t||(t=!0),{done:!0,value:r}}}},pipe(){return N(this,arguments)}},Ll=(t,e)=>{let r=Object.create(RN);return r.head=t,r.tail=e,r},TN=pe("Nil"),IN={[rc]:rc,_tag:"Nil",toString(){return oe(this.toJSON())},toJSON(){return{_id:"List",_tag:"Nil"}},[Q](){return this.toJSON()},[B](){return TN},[L](t){return LE(t)&&this._tag===t._tag},[Symbol.iterator](){return{next(){return{done:!0,value:void 0}}}},pipe(){return N(this,arguments)}},PE=Object.create(IN),LE=t=>R(t,rc),Kr=t=>t._tag==="Nil",nc=t=>t._tag==="Cons";var NN=()=>PE,An=(t,e)=>Ll(t,e),Xr=NN,oc=t=>Ll(t,PE);var BE=d(2,(t,e)=>PN(e,t)),Bl=d(2,(t,e)=>An(e,t)),PN=d(2,(t,e)=>{if(Kr(t))return e;if(Kr(e))return t;{let r=Ll(e.head,t),n=r,o=e.tail;for(;!Kr(o);){let s=Ll(o.head,t);n.tail=s,n=s,o=o.tail}return r}});var HE=d(3,(t,e,r)=>{let n=e,o=t;for(;!Kr(o);)n=r(n,o.head),o=o.tail;return n});var qE=t=>{let e=Xr(),r=t;for(;!Kr(r);)e=Bl(e,r.head),r=r.tail;return e};var XG=Object.assign(Object.create(Array.prototype),{[B](){return Y(this,Tt(this))},[L](t){return Array.isArray(t)&&this.length===t.length?this.every((e,r)=>I(e,t[r])):!1}}),Ki=function(){function t(e){e&&Object.assign(this,e)}return t.prototype=wi,t}(),Hl=t=>Object.assign(Object.create(wi),t);var LN=Symbol.for("effect/DifferContextPatch");function zE(t){return t}var ic={...Ki.prototype,[LN]:{_Value:zE,_Patch:zE}},BN=Object.assign(Object.create(ic),{_tag:"Empty"}),HN=Object.create(BN),fd=()=>HN,qN=Object.assign(Object.create(ic),{_tag:"AndThen"}),UN=(t,e)=>{let r=Object.create(qN);return r.first=t,r.second=e,r},zN=Object.assign(Object.create(ic),{_tag:"AddService"}),WN=(t,e)=>{let r=Object.create(zN);return r.key=t,r.service=e,r},jN=Object.assign(Object.create(ic),{_tag:"RemoveService"}),JN=t=>{let e=Object.create(jN);return e.key=t,e},GN=Object.assign(Object.create(ic),{_tag:"UpdateService"}),VN=(t,e)=>{let r=Object.create(GN);return r.key=t,r.update=e,r},WE=(t,e)=>{let r=new Map(t.unsafeMap),n=fd();for(let[o,s]of e.unsafeMap.entries())if(r.has(o)){let i=r.get(o);r.delete(o),I(i,s)||(n=sc(VN(o,()=>s))(n))}else r.delete(o),n=sc(WN(o,s))(n);for(let[o]of r.entries())n=sc(JN(o))(n);return n},sc=d(2,(t,e)=>UN(t,e)),jE=d(2,(t,e)=>{if(t._tag==="Empty")return e;let r=!1,n=Re(t),o=new Map(e.unsafeMap);for(;Ze(n);){let i=Xe(n),c=it(n);switch(i._tag){case"Empty":{n=c;break}case"AddService":{o.set(i.key,i.service),n=c;break}case"AndThen":{n=Ke(Ke(c,i.second),i.first);break}case"RemoveService":{o.delete(i.key),n=c;break}case"UpdateService":{o.set(i.key,i.update(o.get(i.key))),r=!0,n=c;break}}}if(!r)return Ar(o);let s=new Map;for(let[i]of e.unsafeMap)o.has(i)&&(s.set(i,o.get(i)),o.delete(i));for(let[i,c]of o)s.set(i,c);return Ar(s)});var XN=Symbol.for("effect/DifferHashSetPatch");function hd(t){return t}var Ul={...Ki.prototype,[XN]:{_Value:hd,_Key:hd,_Patch:hd}},$N=Object.assign(Object.create(Ul),{_tag:"Empty"}),YN=Object.create($N),md=()=>YN,QN=Object.assign(Object.create(Ul),{_tag:"AndThen"}),ZN=(t,e)=>{let r=Object.create(QN);return r.first=t,r.second=e,r},eP=Object.assign(Object.create(Ul),{_tag:"Add"}),tP=t=>{let e=Object.create(eP);return e.value=t,e},rP=Object.assign(Object.create(Ul),{_tag:"Remove"}),nP=t=>{let e=Object.create(rP);return e.value=t,e},JE=(t,e)=>{let[r,n]=ms([t,md()],([o,s],i)=>CE(i)(o)?[ed(i)(o),s]:[o,ql(tP(i))(s)])(e);return ms(n,(o,s)=>ql(nP(s))(o))(r)},ql=d(2,(t,e)=>ZN(t,e)),GE=d(2,(t,e)=>{if(t._tag==="Empty")return e;let r=e,n=Re(t);for(;Ze(n);){let o=Xe(n),s=it(n);switch(o._tag){case"Empty":{n=s;break}case"AndThen":{n=Ke(o.first)(Ke(o.second)(s));break}case"Add":{r=hs(o.value)(r),n=s;break}case"Remove":r=ed(o.value)(r),n=s}}return r});var sP=Symbol.for("effect/DifferReadonlyArrayPatch");function VE(t){return t}var cc={...Ki.prototype,[sP]:{_Value:VE,_Patch:VE}},iP=Object.assign(Object.create(cc),{_tag:"Empty"}),aP=Object.create(iP),dd=()=>aP,cP=Object.assign(Object.create(cc),{_tag:"AndThen"}),uP=(t,e)=>{let r=Object.create(cP);return r.first=t,r.second=e,r},lP=Object.assign(Object.create(cc),{_tag:"Append"}),pP=t=>{let e=Object.create(lP);return e.values=t,e},fP=Object.assign(Object.create(cc),{_tag:"Slice"}),hP=(t,e)=>{let r=Object.create(fP);return r.from=t,r.until=e,r},mP=Object.assign(Object.create(cc),{_tag:"Update"}),dP=(t,e)=>{let r=Object.create(mP);return r.index=t,r.patch=e,r},KE=t=>{let e=0,r=dd();for(;e<t.oldValue.length&&e<t.newValue.length;){let n=t.oldValue[e],o=t.newValue[e],s=t.differ.diff(n,o);I(s,t.differ.empty)||(r=ac(r,dP(e,s))),e=e+1}return e<t.oldValue.length&&(r=ac(r,hP(0,e))),e<t.newValue.length&&(r=ac(r,pP(g0(e)(t.newValue)))),r},ac=d(2,(t,e)=>uP(t,e)),XE=d(3,(t,e,r)=>{if(t._tag==="Empty")return e;let n=e.slice(),o=_t(t);for(;m0(o);){let s=gt(o),i=Br(o);switch(s._tag){case"Empty":{o=i;break}case"AndThen":{i.unshift(s.first,s.second),o=i;break}case"Append":{for(let c of s.values)n.push(c);o=i;break}case"Slice":{n=n.slice(s.from,s.until),o=i;break}case"Update":{n[s.index]=r.patch(s.patch,n[s.index]),o=i;break}}}return n});var $E=Symbol.for("effect/Differ"),gP={[$E]:{_P:j,_V:j}},Eo=t=>{let e=Object.create(gP);return e.empty=t.empty,e.diff=t.diff,e.combine=t.combine,e.patch=t.patch,e},xd=()=>Eo({empty:fd(),combine:(t,e)=>sc(e)(t),diff:(t,e)=>WE(t,e),patch:(t,e)=>jE(e)(t)});var gd=()=>Eo({empty:md(),combine:(t,e)=>ql(e)(t),diff:(t,e)=>JE(t,e),patch:(t,e)=>GE(e)(t)});var yd=t=>Eo({empty:dd(),combine:(e,r)=>ac(e,r),diff:(e,r)=>KE({oldValue:e,newValue:r,differ:t}),patch:(e,r)=>XE(e,r,t)});var zl=()=>YE((t,e)=>e),YE=t=>Eo({empty:j,combine:(e,r)=>e===j?r:r===j?e:n=>r(e(n)),diff:(e,r)=>I(e,r)?j:Si(r),patch:(e,r)=>t(r,e(r))});var uc=255,QE=8,Wl=t=>t&uc,jl=t=>t>>QE&uc,gs=(t,e)=>(t&uc)+((e&t&uc)<<QE),Jl=gs(0,0),ZE=t=>gs(t,t),eC=t=>gs(t,0);var tC=d(2,(t,e)=>gs(Wl(t)&~e,jl(t)));var bd=d(2,(t,e)=>t|e);var rC=t=>~t>>>0&uc;var yP=0,$r=1,oC=2,Ed=4,Gl=16,Cd=32;var sC=t=>Vl(t,Cd);var vd=d(2,(t,e)=>t|e);var kn=t=>lc(t)&&!SP(t),lc=t=>Vl(t,$r);var Vl=d(2,(t,e)=>(t&e)!==0),_d=(...t)=>t.reduce((e,r)=>e|r,0),iC=_d(yP);var Dd=t=>Vl(t,Ed);var SP=t=>Vl(t,Gl);var fr=d(2,(t,e)=>gs(t^e,e)),Fn=d(2,(t,e)=>t&(rC(Wl(e))|jl(e))|Wl(e)&jl(e));var Ad=Eo({empty:Jl,diff:(t,e)=>fr(t,e),combine:(t,e)=>bd(e)(t),patch:(t,e)=>Fn(e,t)});var aC=Jl;var kd=ZE,Fd=eC;var Od=tC;var cC={_tag:"Empty"},Td=(t,e)=>({_tag:"Par",left:t,right:e}),Kl=(t,e)=>({_tag:"Seq",left:t,right:e}),Id=(t,e)=>({_tag:"Single",dataSource:t,blockedRequest:e});var uC=t=>{let e=oc(t),r=Xr();for(;;){let[n,o]=HE(e,[lC(),Xr()],([s,i],c)=>{let[l,p]=bP(c);return[kP(s,l),BE(i,p)]});if(r=EP(r,n),Kr(o))return qE(r);e=o}throw new Error("BUG: BlockedRequests.flatten - please report an issue at https://github.com/Effect-TS/effect/issues")},bP=t=>{let e=t,r=lC(),n=Xr(),o=Xr();for(;;)switch(e._tag){case"Empty":{if(Kr(n))return[r,o];e=n.head,n=n.tail;break}case"Par":{n=An(e.right,n),e=e.left;break}case"Seq":{let s=e.left,i=e.right;switch(s._tag){case"Empty":{e=i;break}case"Par":{let c=s.left,l=s.right;e=Td(Kl(c,i),Kl(l,i));break}case"Seq":{let c=s.left,l=s.right;e=Kl(c,Kl(l,i));break}case"Single":{e=s,o=An(i,o);break}}break}case"Single":{if(r=AP(r,e),Kr(n))return[r,o];e=n.head,n=n.tail;break}}throw new Error("BUG: BlockedRequests.step - please report an issue at https://github.com/Effect-TS/effect/issues")},EP=(t,e)=>{if(Kr(t))return oc(Md(e));if(FP(e))return t;let r=IP(t.head),n=OP(e);return r.length===1&&n.length===1&&I(r[0],n[0])?An(TP(t.head,Md(e)),t.tail):An(Md(e),t)},CP=Symbol.for("effect/RequestBlock/Entry"),Rd=class{request;result;listeners;ownerId;state;[CP]=vP;constructor(e,r,n,o,s){this.request=e,this.result=r,this.listeners=n,this.ownerId=o,this.state=s}},vP={_R:t=>t};var Nd=t=>new Rd(t.request,t.result,t.listeners,t.ownerId,t.state),_P=Symbol.for("effect/RequestBlock/RequestBlockParallel"),DP={_R:t=>t},fc=class{map;[_P]=DP;constructor(e){this.map=e}},lC=()=>new fc(xs());var AP=(t,e)=>new fc(TE(t.map,e.dataSource,r=>dm(He(r,fl(e.blockedRequest)),()=>Re(e.blockedRequest)))),kP=(t,e)=>new fc(ld(t.map,e.map,(r,n,o)=>yt(r,o,Je(cd(r,o),{onNone:()=>n,onSome:s=>Jt(n,s)})))),FP=t=>wE(t.map),OP=t=>Array.from(ud(t.map)),Md=t=>RP(IE(t.map,e=>Re(e))),wP=Symbol.for("effect/RequestBlock/RequestBlockSequential"),MP={_R:t=>t},Xl=class{map;[wP]=MP;constructor(e){this.map=e}},RP=t=>new Xl(t),TP=(t,e)=>new Xl(ld(e.map,t.map,(r,n,o)=>yt(r,o,Je(cd(r,o),{onNone:()=>Nt(),onSome:s=>Jt(s,n)}))));var IP=t=>Array.from(ud(t.map)),pC=t=>Array.from(t.map);var ys="Die",Ss="Empty",bs="Fail",Es="Interrupt",Cs="Parallel",vs="Sequential";var xC="effect/Cause",Ld=Symbol.for(xC),PP={_E:t=>t},Xi={[Ld]:PP,[B](){return S(P(xC),z(P(BP(this))),Y(this))},[L](t){return Yl(t)&&LP(this,t)},pipe(){return N(this,arguments)},toJSON(){switch(this._tag){case"Empty":return{_id:"Cause",_tag:this._tag};case"Die":return{_id:"Cause",_tag:this._tag,defect:re(this.defect)};case"Interrupt":return{_id:"Cause",_tag:this._tag,fiberId:this.fiberId.toJSON()};case"Fail":return{_id:"Cause",_tag:this._tag,failure:re(this.error)};case"Sequential":case"Parallel":return{_id:"Cause",_tag:this._tag,left:re(this.left),right:re(this.right)}}},toString(){return vo(this)},[Q](){return this.toJSON()}},kr=(()=>{let t=Object.create(Xi);return t._tag=Ss,t})(),On=t=>{let e=Object.create(Xi);return e._tag=bs,e.error=t,e},ze=t=>{let e=Object.create(Xi);return e._tag=ys,e.defect=t,e},Vt=t=>{let e=Object.create(Xi);return e._tag=Es,e.fiberId=t,e},Bt=(t,e)=>{let r=Object.create(Xi);return r._tag=Cs,r.left=t,r.right=e,r},De=(t,e)=>{let r=Object.create(Xi);return r._tag=vs,r.left=t,r.right=e,r},Yl=t=>R(t,Ld);var $i=t=>t._tag===ys;var Ql=t=>t._tag===Ss?!0:_s(t,!0,(e,r)=>{switch(r._tag){case Ss:return A(e);case ys:case bs:case Es:return A(!1);default:return D()}});var Zl=t=>Z(gC(t)),Ds=t=>dc(void 0,qP)(t),hc=t=>zr(_s(t,Nt(),(e,r)=>r._tag===bs?A(S(e,Ke(r.error))):D())),ep=t=>zr(_s(t,Nt(),(e,r)=>r._tag===ys?A(S(e,Ke(r.defect))):D())),mc=t=>_s(t,Gr(),(e,r)=>r._tag===Es?A(S(e,hs(r.fiberId))):D()),Bd=t=>Co(t,e=>e._tag===bs?A(e.error):D()),Fr=t=>{let e=Bd(t);switch(e._tag){case"None":return Be(t);case"Some":return dt(e.value)}};var gC=t=>Co(t,e=>e._tag===Es?A(e.fiberId):D()),Hd=t=>Yi(t,{onEmpty:D(),onFail:()=>D(),onDie:e=>A(ze(e)),onInterrupt:()=>D(),onSequential:(e,r)=>Z(e)&&Z(r)?A(De(e.value,r.value)):Z(e)&&ee(r)?A(e.value):ee(e)&&Z(r)?A(r.value):D(),onParallel:(e,r)=>Z(e)&&Z(r)?A(Bt(e.value,r.value)):Z(e)&&ee(r)?A(e.value):ee(e)&&Z(r)?A(r.value):D()}),yC=t=>Yi(t,{onEmpty:D(),onFail:e=>A(ze(e)),onDie:e=>A(ze(e)),onInterrupt:()=>D(),onSequential:(e,r)=>Z(e)&&Z(r)?A(De(e.value,r.value)):Z(e)&&ee(r)?A(e.value):ee(e)&&Z(r)?A(r.value):D(),onParallel:(e,r)=>Z(e)&&Z(r)?A(Bt(e.value,r.value)):Z(e)&&ee(r)?A(e.value):ee(e)&&Z(r)?A(r.value):D()});var tp=t=>Yi(t,{onEmpty:kr,onFail:()=>kr,onDie:e=>ze(e),onInterrupt:e=>Vt(e),onSequential:De,onParallel:Bt}),SC=t=>Yi(t,{onEmpty:kr,onFail:e=>ze(e),onDie:e=>ze(e),onInterrupt:e=>Vt(e),onSequential:(e,r)=>De(e,r),onParallel:(e,r)=>Bt(e,r)});var bC=d(2,(t,e)=>Yi(t,{onEmpty:kr,onFail:r=>e(r),onDie:r=>ze(r),onInterrupt:r=>Vt(r),onSequential:(r,n)=>De(r,n),onParallel:(r,n)=>Bt(r,n)})),qd=t=>bC(t,j);var LP=(t,e)=>{let r=Re(t),n=Re(e);for(;Ze(r)&&Ze(n);){let[o,s]=S(Xe(r),_s([Gr(),Nt()],([l,p],f)=>{let[g,m]=Pd(f);return A([S(l,_n(g)),S(p,Jt(m))])})),[i,c]=S(Xe(n),_s([Gr(),Nt()],([l,p],f)=>{let[g,m]=Pd(f);return A([S(l,_n(g)),S(p,Jt(m))])}));if(!I(o,i))return!1;r=s,n=c}return!0},BP=t=>HP(Re(t),Nt()),HP=(t,e)=>{for(;;){let[r,n]=S(t,ir([Gr(),Nt()],([s,i],c)=>{let[l,p]=Pd(c);return[S(s,_n(l)),S(i,Jt(p))]})),o=fs(r)>0?S(e,Ke(r)):e;if(Pm(n))return zr(o);t=n,e=o}throw new Error(ts("Cause.flattenCauseLoop"))},Co=d(2,(t,e)=>{let r=[t];for(;r.length>0;){let n=r.pop(),o=e(n);switch(o._tag){case"None":{switch(n._tag){case vs:case Cs:{r.push(n.right),r.push(n.left);break}}break}case"Some":return o}}return D()});var Pd=t=>{let e=t,r=[],n=Gr(),o=Nt();for(;e!==void 0;)switch(e._tag){case Ss:{if(r.length===0)return[n,o];e=r.pop();break}case bs:{if(n=hs(n,Ya(e._tag,e.error)),r.length===0)return[n,o];e=r.pop();break}case ys:{if(n=hs(n,Ya(e._tag,e.defect)),r.length===0)return[n,o];e=r.pop();break}case Es:{if(n=hs(n,Ya(e._tag,e.fiberId)),r.length===0)return[n,o];e=r.pop();break}case vs:{switch(e.left._tag){case Ss:{e=e.right;break}case vs:{e=De(e.left.left,De(e.left.right,e.right));break}case Cs:{e=Bt(De(e.left.left,e.right),De(e.left.right,e.right));break}default:{o=Ke(o,e.right),e=e.left;break}}break}case Cs:{r.push(e.right),e=e.left;break}}throw new Error(ts("Cause.evaluateCauseLoop"))};var qP={emptyCase:so,failCase:hn,dieCase:hn,interruptCase:so,sequentialCase:(t,e,r)=>e&&r,parallelCase:(t,e,r)=>e&&r};var hC="SequentialCase",mC="ParallelCase",Yi=d(2,(t,{onDie:e,onEmpty:r,onFail:n,onInterrupt:o,onParallel:s,onSequential:i})=>dc(t,void 0,{emptyCase:()=>r,failCase:(c,l)=>n(l),dieCase:(c,l)=>e(l),interruptCase:(c,l)=>o(l),sequentialCase:(c,l,p)=>i(l,p),parallelCase:(c,l,p)=>s(l,p)})),_s=d(3,(t,e,r)=>{let n=e,o=t,s=[];for(;o!==void 0;){let i=r(n,o);switch(n=Z(i)?i.value:n,o._tag){case vs:{s.push(o.right),o=o.left;break}case Cs:{s.push(o.right),o=o.left;break}default:{o=void 0;break}}o===void 0&&s.length>0&&(o=s.pop())}return n}),dc=d(3,(t,e,r)=>{let n=[t],o=[];for(;n.length>0;){let i=n.pop();switch(i._tag){case Ss:{o.push(Be(r.emptyCase(e)));break}case bs:{o.push(Be(r.failCase(e,i.error)));break}case ys:{o.push(Be(r.dieCase(e,i.defect)));break}case Es:{o.push(Be(r.interruptCase(e,i.fiberId)));break}case vs:{n.push(i.right),n.push(i.left),o.push(dt({_tag:hC}));break}case Cs:{n.push(i.right),n.push(i.left),o.push(dt({_tag:mC}));break}}}let s=[];for(;o.length>0;){let i=o.pop();switch(i._tag){case"Left":{switch(i.left._tag){case hC:{let c=s.pop(),l=s.pop(),p=r.sequentialCase(e,c,l);s.push(p);break}case mC:{let c=s.pop(),l=s.pop(),p=r.parallelCase(e,c,l);s.push(p);break}}break}case"Right":{s.push(i.right);break}}}if(s.length===0)throw new Error("BUG: Cause.reduceWithContext - please report an issue at https://github.com/Effect-TS/effect/issues");return s.pop()}),vo=(t,e)=>Ds(t)?"All fibers interrupted without errors.":rp(t).map(function(r){return e?.renderErrorCause!==!0||r.cause===void 0?r.stack:`${r.stack} {
${EC(r.cause,"  ")}
}`}).join(`
`),EC=(t,e)=>{let r=t.stack.split(`
`),n=`${e}[cause]: ${r[0]}`;for(let o=1,s=r.length;o<s;o++)n+=`
${e}${r[o]}`;return t.cause&&(n+=` {
${EC(t.cause,`${e}  `)}
${e}}`),n},$l=class t extends globalThis.Error{span=void 0;constructor(e){let r=typeof e=="object"&&e!==null,n=Error.stackTraceLimit;Error.stackTraceLimit=1,super(UP(e),r&&"cause"in e&&typeof e.cause<"u"?{cause:new t(e.cause)}:void 0),this.message===""&&(this.message="An error has occurred"),Error.stackTraceLimit=n,this.name=e instanceof Error?e.name:"Error",r&&(dC in e&&(this.span=e[dC]),Object.keys(e).forEach(o=>{o in this||(this[o]=e[o])})),this.stack=WP(`${this.name}: ${this.message}`,e instanceof Error&&e.stack?e.stack:"",this.span)}},UP=t=>{if(typeof t=="string")return t;if(typeof t=="object"&&t!==null&&t instanceof Error)return t.message;try{if(R(t,"toString")&&io(t.toString)&&t.toString!==Object.prototype.toString&&t.toString!==globalThis.Array.prototype.toString)return t.toString()}catch{}return Ju(t)},zP=/\((.*)\)/,xc=V("effect/Tracer/spanToTrace",()=>new WeakMap),WP=(t,e,r)=>{let n=[t],o=e.startsWith(t)?e.slice(t.length).split(`
`):e.split(`
`);for(let s=1;s<o.length&&!o[s].includes("Generator.next");s++){if(o[s].includes("effect_internal_function")){n.pop();break}n.push(o[s].replace(/at .*effect_instruction_i.*\((.*)\)/,"at $1").replace(/EffectPrimitive\.\w+/,"<anonymous>"))}if(r){let s=r,i=0;for(;s&&s._tag==="Span"&&i<10;){let c=xc.get(s);if(typeof c=="function"){let l=c();if(typeof l=="string"){let p=l.match(zP),f=p?p[1]:l.replace(/^at /,"");n.push(`    at ${s.name} (${f})`)}else n.push(`    at ${s.name}`)}else n.push(`    at ${s.name}`);s=lt(s.parent),i++}}return n.join(`
`)},dC=Symbol.for("effect/SpanAnnotation"),rp=t=>dc(t,void 0,{emptyCase:()=>[],dieCase:(e,r)=>[new $l(r)],failCase:(e,r)=>[new $l(r)],interruptCase:()=>[],parallelCase:(e,r,n)=>[...r,...n],sequentialCase:(e,r,n)=>[...r,...n]});var As="Pending",gc="Done";var jP="effect/Deferred",vC=Symbol.for(jP),_C={_E:t=>t,_A:t=>t},DC=t=>({_tag:As,joiners:t}),Ud=t=>({_tag:gc,effect:t});var Qi=class t{self;called=!1;constructor(e){this.self=e}next(e){return this.called?{value:e,done:!0}:(this.called=!0,{value:this.self,done:!1})}return(e){return{value:e,done:!0}}throw(e){throw e}[Symbol.iterator](){return new t(this.self)}};var KP="effect/EffectError",zd=Symbol.for(KP),IC=t=>R(t,zd),NC=t=>({[zd]:zd,_tag:"EffectError",cause:t}),wn=(t,e)=>{let r=new Te("Blocked");return r.effect_instruction_i0=t,r.effect_instruction_i1=e,r},cp=t=>{let e=new Te("RunBlocked");return e.effect_instruction_i0=t,e},Mn=Symbol.for("effect/Effect"),op=class{patch;op;_op=Ja;constructor(e,r){this.patch=e,this.op=r}},Te=class{_op;effect_instruction_i0=void 0;effect_instruction_i1=void 0;effect_instruction_i2=void 0;trace=void 0;[Mn]=uo;constructor(e){this._op=e}[L](e){return this===e}[B](){return Y(this,vi(this))}pipe(){return N(this,arguments)}toJSON(){return{_id:"Effect",_op:this._op,effect_instruction_i0:re(this.effect_instruction_i0),effect_instruction_i1:re(this.effect_instruction_i1),effect_instruction_i2:re(this.effect_instruction_i2)}}toString(){return oe(this.toJSON())}[Q](){return this.toJSON()}[Symbol.iterator](){return new Qi(new Lr(this))}},sp=class{_op;effect_instruction_i0=void 0;effect_instruction_i1=void 0;effect_instruction_i2=void 0;trace=void 0;[Mn]=uo;constructor(e){this._op=e,this._tag=e}[L](e){return kc(e)&&e._op==="Failure"&&I(this.effect_instruction_i0,e.effect_instruction_i0)}[B](){return S(pe(this._tag),z(P(this.effect_instruction_i0)),Y(this))}get cause(){return this.effect_instruction_i0}pipe(){return N(this,arguments)}toJSON(){return{_id:"Exit",_tag:this._op,cause:this.cause.toJSON()}}toString(){return oe(this.toJSON())}[Q](){return this.toJSON()}[Symbol.iterator](){return new Qi(new Lr(this))}},ip=class{_op;effect_instruction_i0=void 0;effect_instruction_i1=void 0;effect_instruction_i2=void 0;trace=void 0;[Mn]=uo;constructor(e){this._op=e,this._tag=e}[L](e){return kc(e)&&e._op==="Success"&&I(this.effect_instruction_i0,e.effect_instruction_i0)}[B](){return S(pe(this._tag),z(P(this.effect_instruction_i0)),Y(this))}get value(){return this.effect_instruction_i0}pipe(){return N(this,arguments)}toJSON(){return{_id:"Exit",_tag:this._op,value:re(this.value)}}toString(){return oe(this.toJSON())}[Q](){return this.toJSON()}[Symbol.iterator](){return new Qi(new Lr(this))}},le=t=>R(t,Mn),ie=t=>{let e=new Te(Ku);return e.effect_instruction_i0=t,e},up=d(3,(t,e,r)=>Fe(n=>E(t,o=>E(ke(q(()=>n(e(o)))),s=>q(()=>r(o,s)).pipe(Ce({onFailure:i=>{switch(s._tag){case Pe:return te(De(s.effect_instruction_i0,i));case Le:return te(i)}},onSuccess:()=>s})))))),he=d(2,(t,e)=>E(t,()=>_(e))),Ae=t=>he(t,void 0),Sc=function(){let t=new Te(ss);switch(arguments.length){case 2:{t.effect_instruction_i0=arguments[0],t.commit=arguments[1];break}case 3:{t.effect_instruction_i0=arguments[0],t.effect_instruction_i1=arguments[1],t.commit=arguments[2];break}case 4:{t.effect_instruction_i0=arguments[0],t.effect_instruction_i1=arguments[1],t.effect_instruction_i2=arguments[2],t.commit=arguments[3];break}default:throw new Error(ts("you're not supposed to end up here"))}return t},lp=(t,e=Lt)=>{let r=new Te(os),n;return r.effect_instruction_i0=o=>{n=t(o)},r.effect_instruction_i1=e,wr(r,o=>le(n)?n:G)},Jd=(t,e=Lt)=>q(()=>lp(t,e)),tt=(t,e=Lt)=>Sc(t,function(){let r,n;function o(l){r?r(l):n===void 0&&(n=l)}let s=new Te(os);s.effect_instruction_i0=l=>{r=l,n&&l(n)},s.effect_instruction_i1=e;let i,c;return this.effect_instruction_i0.length!==1?(c=new AbortController,i=Me(()=>this.effect_instruction_i0(o,c.signal))):i=Me(()=>this.effect_instruction_i0(o)),i||c?wr(s,l=>(c&&c.abort(),i??G)):s}),Yr=d(2,(t,e)=>{let r=new Te(Di);return r.effect_instruction_i0=t,r.effect_instruction_i1=e,r}),Or=d(2,(t,e)=>$e(t,{onFailure:e,onSuccess:_})),bc=d(3,(t,e,r)=>Yr(t,n=>{let o=Fr(n);switch(o._tag){case"Left":return e(o.left)?r(o.left):te(n);case"Right":return te(o.right)}})),PC=d(2,(t,e)=>Yr(t,r=>{let n=Fr(r);switch(n._tag){case"Left":return S(e(n.left),qe(()=>te(r)));case"Right":return te(n.right)}})),LC=t=>ie((e,r)=>t(lc(r.runtimeFlags))),ap=Symbol.for("effect/SpanAnnotation"),AC=Symbol.for("effect/OriginalAnnotation");var pp=(t,e)=>Z(e)?new Proxy(t,{has(r,n){return n===ap||n===AC||n in r},get(r,n){return n===ap?e.value:n===AC?t:r[n]}}):t,Rn=t=>ao(t)&&!(ap in t)?ie(e=>te(ze(pp(t,Mp(e))))):te(ze(t)),Tn=t=>In(()=>ze(new oL(t))),Do=t=>E(k(t),Rn),Qr=t=>$e(t,{onFailure:e=>_(dt(e)),onSuccess:e=>_(Be(e))}),ke=t=>Ec(t,{onFailure:fe,onSuccess:me}),K=t=>ao(t)&&!(ap in t)?ie(e=>te(On(pp(t,Mp(e))))):te(On(t)),Dt=t=>E(k(t),K),te=t=>{let e=new sp(Pe);return e.effect_instruction_i0=t,e},In=t=>E(k(t),te),Ao=ie(t=>_(t.id())),Ht=t=>ie(e=>t(e.id())),E=d(2,(t,e)=>{let r=new Te(Ai);return r.effect_instruction_i0=t,r.effect_instruction_i1=e,r}),ko=d(2,(t,e)=>E(t,r=>{let n=typeof e=="function"?e(r):e;return le(n)?n:Zh(n)?tt(o=>{n.then(s=>o(_(s)),s=>o(K(new To(s))))}):_(n)})),fp=t=>{let e=new Te("OnStep");return e.effect_instruction_i0=t,e},At=t=>E(t,j),Fo=t=>$e(t,{onFailure:_,onSuccess:K}),Ec=d(2,(t,e)=>Ce(t,{onFailure:r=>_(e.onFailure(r)),onSuccess:r=>_(e.onSuccess(r))})),Ce=d(2,(t,e)=>{let r=new Te(ki);return r.effect_instruction_i0=t,r.effect_instruction_i1=e.onFailure,r.effect_instruction_i2=e.onSuccess,r}),$e=d(2,(t,e)=>Ce(t,{onFailure:r=>{if(ep(r).length>0)return te(SC(r));let o=hc(r);return o.length>0?e.onFailure(Lm(o)):te(r)},onSuccess:e.onSuccess})),at=d(2,(t,e)=>q(()=>{let r=se(t),n=Ka(r.length),o=0;return he(ta({while:()=>o<r.length,body:()=>e(r[o],o),step:s=>{n[o++]=s}}),n)})),qt=d(2,(t,e)=>q(()=>{let r=se(t),n=0;return ta({while:()=>n<r.length,body:()=>e(r[n],n),step:()=>{n++}})})),hp=d(t=>typeof t[0]=="boolean"||le(t[0]),(t,e)=>le(t)?E(t,r=>r?e.onTrue():e.onFalse()):t?e.onTrue():e.onFalse()),mp=E(Ao,t=>dp(t)),dp=t=>te(Vt(t)),Zr=t=>{let e=new Te(gn);return e.effect_instruction_i0=kd($r),e.effect_instruction_i1=()=>t,e},BC=t=>Sc(t,function(){let e=new Te(gn);return e.effect_instruction_i0=kd($r),e.effect_instruction_i1=r=>lc(r)?Me(()=>this.effect_instruction_i0(Zr)):Me(()=>this.effect_instruction_i0(Nn)),e}),en=d(2,(t,e)=>Fe(r=>E(ke(r(t)),n=>Zd(e,n)))),w=d(2,(t,e)=>E(t,r=>k(()=>e(r)))),Cc=d(2,(t,e)=>$e(t,{onFailure:r=>Dt(()=>e.onFailure(r)),onSuccess:r=>k(()=>e.onSuccess(r))})),Oo=d(2,(t,e)=>Ce(t,{onFailure:r=>{let n=Fr(r);switch(n._tag){case"Left":return Dt(()=>e(n.left));case"Right":return te(n.right)}},onSuccess:_})),xp=d(2,(t,e)=>pt(t,r=>Fp(r)?G:e(r.effect_instruction_i0))),pt=d(2,(t,e)=>Fe(r=>Ce(r(t),{onFailure:n=>{let o=fe(n);return Ce(e(o),{onFailure:s=>fe(De(n,s)),onSuccess:()=>o})},onSuccess:n=>{let o=me(n);return ce(e(o),o)}}))),wr=d(2,(t,e)=>pt(t,na({onFailure:r=>Ds(r)?Ae(e(mc(r))):G,onSuccess:()=>G}))),Fs=d(2,(t,e)=>XP(t,e,_)),Os=t=>Gd(t,j),Gd=d(2,(t,e)=>$e(t,{onFailure:r=>Rn(e(r)),onSuccess:_})),HC=_m,Zi=ie((t,e)=>_(e.runtimeFlags)),_=t=>{let e=new ip(Le);return e.effect_instruction_i0=t,e},q=t=>{let e=new Te(ss);return e.commit=t,e},k=t=>{let e=new Te(Vu);return e.effect_instruction_i0=t,e},ft=d(t=>t.length===3||t.length===2&&!(ao(t[1])&&"onlyEffect"in t[1]),(t,e)=>E(t,r=>{let n=typeof e=="function"?e(r):e;return le(n)?he(n,r):Zh(n)?tt(o=>{n.then(s=>o(_(r)),s=>o(K(new To(s))))}):_(r)})),gp=t=>ie(e=>{let r=e.getFiberRef(yc),n=S(r,qe(()=>e.scope()));return t(Oe(yc,A(n)))}),XP=d(3,(t,e,r)=>Ce(t,{onFailure:n=>ep(n).length>0?te(Va(yC(n))):e(),onSuccess:r})),Nn=t=>{let e=new Te(gn);return e.effect_instruction_i0=Fd($r),e.effect_instruction_i1=()=>t,e},Fe=t=>Sc(t,function(){let e=new Te(gn);return e.effect_instruction_i0=Fd($r),e.effect_instruction_i1=r=>lc(r)?Me(()=>this.effect_instruction_i0(Zr)):Me(()=>this.effect_instruction_i0(Nn)),e}),G=_(void 0);var wo=t=>{let e=new Te(gn);return e.effect_instruction_i0=t,e.effect_instruction_i1=void 0,e},ea=d(2,(t,e)=>E(e,r=>r?S(t,w(A)):_(D()))),ta=t=>{let e=new Te(Fi);return e.effect_instruction_i0=t.while,e.effect_instruction_i1=t.body,e.effect_instruction_i2=t.step,e},qC=function(){let t=arguments.length===1?arguments[0]:arguments[1].bind(arguments[0]);return q(()=>{let e=new Te(is);return e.effect_instruction_i0=t(S),e})},UC=d(2,(t,e)=>Oe(t,Cp,e)),zC=d(2,(t,e)=>Oe(t,vc,e)),yp=d(2,(t,e)=>{let r=new Te(gn);return r.effect_instruction_i0=e,r.effect_instruction_i1=()=>t,r}),WC=d(2,(t,e)=>Oe(t,Dc,e)),jC=d(2,(t,e)=>Oe(t,Ro,e)),tn=t=>{let e=new Te(Oi);return typeof t?.priority<"u"?$d(e,t.priority):e},ws=d(2,(t,e)=>E(t,r=>w(e,n=>[r,n])));var Ms=d(2,(t,e)=>E(t,r=>he(e,r))),ce=d(2,(t,e)=>E(t,()=>e)),rn=d(3,(t,e,r)=>E(t,n=>w(e,o=>r(n,o)))),Mo=tt(()=>{let t=setInterval(()=>{},2147483647);return k(()=>clearInterval(t))}),Rs=t=>E(Ao,e=>S(t,Ut(e))),Ut=d(2,(t,e)=>E(t.interruptAsFork(e),()=>t.await)),JC={_tag:"All",syslog:0,label:"ALL",ordinal:Number.MIN_SAFE_INTEGER,pipe(){return N(this,arguments)}},GC={_tag:"Fatal",syslog:2,label:"FATAL",ordinal:5e4,pipe(){return N(this,arguments)}},VC={_tag:"Error",syslog:3,label:"ERROR",ordinal:4e4,pipe(){return N(this,arguments)}},KC={_tag:"Warning",syslog:4,label:"WARN",ordinal:3e4,pipe(){return N(this,arguments)}},Vd={_tag:"Info",syslog:6,label:"INFO",ordinal:2e4,pipe(){return N(this,arguments)}},Kd={_tag:"Debug",syslog:7,label:"DEBUG",ordinal:1e4,pipe(){return N(this,arguments)}},XC={_tag:"Trace",syslog:7,label:"TRACE",ordinal:0,pipe(){return N(this,arguments)}},$C={_tag:"None",syslog:7,label:"OFF",ordinal:Number.MAX_SAFE_INTEGER,pipe(){return N(this,arguments)}};var $P="effect/FiberRef",YP=Symbol.for($P),QP={_A:t=>t},Kt=t=>ie(e=>me(e.getFiberRef(t)));var ht=d(2,(t,e)=>E(Kt(t),e)),ks=d(2,(t,e)=>ZP(t,()=>[void 0,e]));var ZP=d(2,(t,e)=>ie(r=>{let[n,o]=e(r.getFiberRef(t));return r.setFiberRef(t,o),_(n)}));var eL="effect/RequestResolver",YC=Symbol.for(eL),tL={_A:t=>t,_R:t=>t},kC=class t{runAll;target;[YC]=tL;constructor(e,r){this.runAll=e,this.target=r}[B](){return Y(this,this.target?P(this.target):vi(this))}[L](e){return this.target?rL(e)&&I(this.target,e.target):this===e}identified(...e){return new t(this.runAll,Wr(e))}pipe(){return N(this,arguments)}},rL=t=>R(t,YC);var Oe=d(3,(t,e,r)=>up(Ms(Kt(e),ks(e,r)),()=>t,n=>ks(e,n))),Ye=d(3,(t,e,r)=>ht(e,n=>Oe(t,e,r(n)))),Ie=(t,e)=>Ts(t,{differ:zl(),fork:e?.fork??j,join:e?.join}),QC=t=>{let e=gd();return Ts(t,{differ:e,fork:e.empty})},nL=t=>{let e=yd(zl());return Ts(t,{differ:e,fork:e.empty})},Sp=t=>{let e=xd();return Ts(t,{differ:e,fork:e.empty})},Ts=(t,e)=>({...Sn,[YP]:QP,initial:t,commit(){return Kt(this)},diff:(n,o)=>e.differ.diff(n,o),combine:(n,o)=>e.differ.combine(n,o),patch:n=>o=>e.differ.patch(n,o),fork:e.fork,join:e.join??((n,o)=>o)}),ZC=t=>Ts(t,{differ:Ad,fork:Ad.empty}),zt=V(Symbol.for("effect/FiberRef/currentContext"),()=>Sp(ot())),Pn=V(Symbol.for("effect/FiberRef/currentSchedulingPriority"),()=>Ie(0)),bp=V(Symbol.for("effect/FiberRef/currentMaxOpsBeforeYield"),()=>Ie(2048)),Ln=V(Symbol.for("effect/FiberRef/currentLogAnnotation"),()=>Ie(xs())),Xd=V(Symbol.for("effect/FiberRef/currentLogLevel"),()=>Ie(Vd)),Ep=V(Symbol.for("effect/FiberRef/currentLogSpan"),()=>Ie(Xr())),$d=d(2,(t,e)=>Oe(t,Pn,e)),ev=d(2,(t,e)=>Oe(t,bp,e)),Cp=V(Symbol.for("effect/FiberRef/currentConcurrency"),()=>Ie("unbounded")),vc=V(Symbol.for("effect/FiberRef/currentRequestBatching"),()=>Ie(!0)),_c=V(Symbol.for("effect/FiberRef/currentUnhandledErrorLogLevel"),()=>Ie(A(Kd))),tv=d(2,(t,e)=>Oe(t,_c,e)),Bn=V(Symbol.for("effect/FiberRef/currentMetricLabels"),()=>nL(Dr())),rv=Kt(Bn),yc=V(Symbol.for("effect/FiberRef/currentForkScopeOverride"),()=>Ie(D(),{fork:()=>D(),join:(t,e)=>t})),Is=V(Symbol.for("effect/FiberRef/currentInterruptedCause"),()=>Ie(kr,{fork:()=>kr,join:(t,e)=>t})),Dc=V(Symbol.for("effect/FiberRef/currentTracerEnabled"),()=>Ie(!0)),Ro=V(Symbol.for("effect/FiberRef/currentTracerTiming"),()=>Ie(!0)),ra=V(Symbol.for("effect/FiberRef/currentTracerSpanAnnotations"),()=>Ie(xs())),vp=V(Symbol.for("effect/FiberRef/currentTracerSpanLinks"),()=>Ie(Nt())),_p=Symbol.for("effect/Scope"),Dp=Symbol.for("effect/CloseableScope"),Ap=(t,e)=>t.addFinalizer(()=>Ae(e)),Ns=(t,e)=>t.addFinalizer(e),Ps=(t,e)=>t.close(e),Ls=(t,e)=>t.fork(e);var kp=function(){class t extends globalThis.Error{commit(){return K(this)}toJSON(){return{...this}}[Q](){return this.toString!==globalThis.Error.prototype.toString?this.stack?`${this.toString()}
${this.stack.split(`
`).slice(1).join(`
`)}`:this.toString():"Bun"in globalThis?vo(On(this),{renderErrorCause:!0}):this}}return Object.assign(t.prototype,am),t}(),Bs=(t,e)=>{class r extends kp{_tag=e}return Object.assign(r.prototype,t),r.prototype.name=e,r},FC=Symbol.for("effect/Cause/errors/RuntimeException"),oL=Bs({[FC]:FC},"RuntimeException");var Wd=Symbol.for("effect/Cause/errors/InterruptedException"),MV=Bs({[Wd]:Wd},"InterruptedException"),nv=t=>R(t,Wd),OC=Symbol.for("effect/Cause/errors/IllegalArgument"),Ac=Bs({[OC]:OC},"IllegalArgumentException");var jd=Symbol.for("effect/Cause/errors/NoSuchElement"),Xt=Bs({[jd]:jd},"NoSuchElementException"),ov=t=>R(t,jd),wC=Symbol.for("effect/Cause/errors/InvalidPubSubCapacityException"),RV=Bs({[wC]:wC},"InvalidPubSubCapacityException"),MC=Symbol.for("effect/Cause/errors/ExceededCapacityException"),TV=Bs({[MC]:MC},"ExceededCapacityException");var RC=Symbol.for("effect/Cause/errors/Timeout"),sL=Bs({[RC]:RC},"TimeoutException"),sv=t=>new sL(`Operation timed out before the specified duration of '${jm(t)}' elapsed`);var TC=Symbol.for("effect/Cause/errors/UnknownException"),To=function(){class t extends kp{cause;_tag="UnknownException";error;constructor(r,n){super(n??"An unknown error occurred",{cause:r}),this.cause=r,this.error=r}}return Object.assign(t.prototype,{[TC]:TC,name:"UnknownException"}),t}();var kc=t=>le(t)&&"_tag"in t&&(t._tag==="Success"||t._tag==="Failure"),Yd=t=>t._tag==="Failure",Fp=t=>t._tag==="Success";var iv=d(2,(t,e)=>{switch(t._tag){case Pe:return fe(t.effect_instruction_i0);case Le:return me(e)}}),Fc=t=>iv(t,void 0);var Io=(t,e)=>iL(t,e?.parallel?Bt:De),No=t=>fe(ze(t));var Oc=t=>fe(On(t)),fe=t=>{let e=new sp(Pe);return e.effect_instruction_i0=t,e},av=d(2,(t,e)=>{switch(t._tag){case Pe:return fe(t.effect_instruction_i0);case Le:return e(t.effect_instruction_i0)}});var cv=t=>S(t,av(j));var Op=t=>fe(Vt(t)),np=d(2,(t,e)=>{switch(t._tag){case Pe:return fe(t.effect_instruction_i0);case Le:return me(e(t.effect_instruction_i0))}});var na=d(2,(t,{onFailure:e,onSuccess:r})=>{switch(t._tag){case Pe:return e(t.effect_instruction_i0);case Le:return r(t.effect_instruction_i0)}}),Hs=d(2,(t,{onFailure:e,onSuccess:r})=>{switch(t._tag){case Pe:return e(t.effect_instruction_i0);case Le:return r(t.effect_instruction_i0)}}),me=t=>{let e=new ip(Le);return e.effect_instruction_i0=t,e},kt=me(void 0);var wc=d(3,(t,e,{onFailure:r,onSuccess:n})=>{switch(t._tag){case Pe:switch(e._tag){case Le:return fe(t.effect_instruction_i0);case Pe:return fe(r(t.effect_instruction_i0,e.effect_instruction_i0))}case Le:switch(e._tag){case Le:return me(n(t.effect_instruction_i0,e.effect_instruction_i0));case Pe:return fe(e.effect_instruction_i0)}}}),iL=(t,e)=>{let r=Wr(t);return Ze(r)?S(it(r),ir(S(Xe(r),np(Re)),(n,o)=>S(n,wc(o,{onSuccess:(s,i)=>S(s,Ke(i)),onFailure:e}))),np(zr),np(n=>ur(n)),A):D()},Mc=t=>({...Sn,[vC]:_C,state:Vr(DC([])),commit(){return rt(this)},blockingOn:t}),Ft=()=>E(Ao,t=>uv(t)),uv=t=>k(()=>Mc(t)),rt=t=>tt(e=>{let r=Pt(t.state);switch(r._tag){case gc:return e(r.effect);case As:return r.joiners.push(e),aL(t,e)}},t.blockingOn),Qd=d(2,(t,e)=>en(e,t)),Rc=d(2,(t,e)=>k(()=>{let r=Pt(t.state);switch(r._tag){case gc:return!1;case As:{pr(t.state,Ud(e));for(let n=0,o=r.joiners.length;n<o;n++)r.joiners[n](e);return!0}}})),Zd=d(2,(t,e)=>Rc(t,e));var qs=d(2,(t,e)=>Rc(t,te(e)));var lv=t=>E(Ao,e=>Rc(t,dp(e)));var Tc=d(2,(t,e)=>Rc(t,_(e)));var Ic=(t,e)=>{let r=Pt(t.state);if(r._tag===As){pr(t.state,Ud(e));for(let n=0,o=r.joiners.length;n<o;n++)r.joiners[n](e)}},aL=(t,e)=>k(()=>{let r=Pt(t.state);if(r._tag===As){let n=r.joiners.indexOf(e);n>=0&&r.joiners.splice(n,1)}}),cL=ie(t=>me(t.currentContext)),$t=()=>cL;var hr=t=>E($t(),t),Yt=d(2,(t,e)=>Oe(zt,e)(t)),wp=d(2,(t,e)=>Ye(zt,r=>cr(r,e))(t)),Us=d(2,(t,e)=>hr(r=>Yt(t,e(r)))),Mp=t=>{let e=t.currentSpan;return e!==void 0&&e._tag==="Span"?A(e):D()},uL={_tag:"Span",spanId:"noop",traceId:"noop",name:"noop",sampled:!1,parent:D(),context:ot(),status:{_tag:"Ended",startTime:BigInt(0),endTime:BigInt(0),exit:kt},attributes:new Map,links:[],kind:"internal",attribute(){},event(){},end(){}},pv=t=>{let e=Object.create(uL);return e.name=t,e};var zs=rt;var fv=Zd;var hv=lv;var ex=Mc;var mv=cv;var dv=me;var xv=Symbol.for("effect/MutableHashMap"),lL={[xv]:xv,[Symbol.iterator](){return new nx(this)},toString(){return oe(this.toJSON())},toJSON(){return{_id:"MutableHashMap",values:Array.from(this).map(re)}},[Q](){return this.toJSON()},pipe(){return N(this,arguments)}},nx=class t{self;referentialIterator;bucketIterator;constructor(e){this.self=e,this.referentialIterator=e.referential[Symbol.iterator]()}next(){if(this.bucketIterator!==void 0)return this.bucketIterator.next();let e=this.referentialIterator.next();return e.done?(this.bucketIterator=new ox(this.self.buckets.values()),this.next()):e}[Symbol.iterator](){return new t(this.self)}},ox=class{backing;constructor(e){this.backing=e}currentBucket;next(){if(this.currentBucket===void 0){let r=this.backing.next();if(r.done)return r;this.currentBucket=r.value[Symbol.iterator]()}let e=this.currentBucket.next();return e.done?(this.currentBucket=void 0,this.next()):e}},Ws=()=>{let t=Object.create(lL);return t.referential=new Map,t.buckets=new Map,t.bucketsSize=0,t};var We=d(2,(t,e)=>{if(_i(e)===!1)return t.referential.has(e)?A(t.referential.get(e)):D();let r=e[B](),n=t.buckets.get(r);return n===void 0?D():pL(t,n,e)});var pL=(t,e,r,n=!1)=>{for(let o=0,s=e.length;o<s;o++)if(r[L](e[o][0])){let i=e[o][1];return n&&(e.splice(o,1),t.bucketsSize--),A(i)}return D()},Mr=d(2,(t,e)=>Z(We(t,e))),Wt=d(3,(t,e,r)=>{if(_i(e)===!1)return t.referential.set(e,r),t;let n=e[B](),o=t.buckets.get(n);return o===void 0?(t.buckets.set(n,[[e,r]]),t.bucketsSize++,t):(gv(t,o,e),o.push([e,r]),t.bucketsSize++,t)}),gv=(t,e,r)=>{for(let n=0,o=e.length;n<o;n++)if(r[L](e[n][0])){e.splice(n,1),t.bucketsSize--;return}};var js=d(2,(t,e)=>{if(_i(e)===!1)return t.referential.delete(e),t;let r=e[B](),n=t.buckets.get(r);return n===void 0||(gv(t,n,e),n.length===0&&t.buckets.delete(r)),t});var Rp=t=>t.referential.size+t.bucketsSize;var yv=Symbol.for("effect/MutableList"),fL={[yv]:yv,[Symbol.iterator](){let t=!1,e=this.head;return{next(){if(t)return this.return();if(e==null)return t=!0,this.return();let r=e.value;return e=e.next,{done:t,value:r}},return(r){return t||(t=!0),{done:!0,value:r}}}},toString(){return oe(this.toJSON())},toJSON(){return{_id:"MutableList",values:Array.from(this).map(re)}},[Q](){return this.toJSON()},pipe(){return N(this,arguments)}},hL=t=>({value:t,removed:!1,prev:void 0,next:void 0}),Sv=()=>{let t=Object.create(fL);return t.head=void 0,t.tail=void 0,t._length=0,t};var bv=t=>sx(t)===0,sx=t=>t._length;var Ev=d(2,(t,e)=>{let r=hL(e);return t.head===void 0&&(t.head=r),t.tail===void 0||(t.tail.next=r,r.prev=t.tail),t.tail=r,t._length+=1,t}),Cv=t=>{let e=t.head;if(e!==void 0)return mL(t,e),e.value};var mL=(t,e)=>{e.removed||(e.removed=!0,e.prev!==void 0&&e.next!==void 0?(e.prev.next=e.next,e.next.prev=e.prev):e.prev!==void 0?(t.tail=e.prev,e.prev.next=void 0):e.next!==void 0?(t.head=e.next,e.next.prev=void 0):(t.tail=void 0,t.head=void 0),t._length>0&&(t._length-=1))};var _v=Symbol.for("effect/MutableQueue"),ix=Symbol.for("effect/mutable/MutableQueue/Empty"),dL={[_v]:_v,[Symbol.iterator](){return Array.from(this.queue)[Symbol.iterator]()},toString(){return oe(this.toJSON())},toJSON(){return{_id:"MutableQueue",values:Array.from(this).map(re)}},[Q](){return this.toJSON()},pipe(){return N(this,arguments)}},xL=t=>{let e=Object.create(dL);return e.queue=Sv(),e.capacity=t,e};var Dv=()=>xL(void 0);var Av=d(2,(t,e)=>{let r=sx(t.queue);return t.capacity!==void 0&&r===t.capacity?!1:(Ev(e)(t.queue),!0)});var kv=d(2,(t,e)=>bv(t.queue)?e:Cv(t.queue));var gL="effect/Clock",ax=Symbol.for(gL),Ot=Qe("effect/Clock"),yL=2**31-1,Ov={unsafeSchedule(t,e){let r=jr(e);if(r>yL)return hn;let n=!1,o=setTimeout(()=>{n=!0,t()},r);return()=>(clearTimeout(o),!n)}},wv=function(){let t=BigInt(1e6);if(typeof performance>"u")return()=>BigInt(Date.now())*t;if(typeof performance.timeOrigin=="number"&&performance.timeOrigin===0)return()=>BigInt(Math.round(performance.now()*1e6));let e=BigInt(Date.now())*t-BigInt(Math.round(performance.now()*1e6));return()=>e+BigInt(Math.round(performance.now()*1e6))}(),SL=function(){let t=typeof process=="object"&&"hrtime"in process&&typeof process.hrtime.bigint=="function"?process.hrtime:void 0;if(!t)return wv;let e=wv()-t.bigint();return()=>e+t.bigint()}(),cx=class{[ax]=ax;unsafeCurrentTimeMillis(){return Date.now()}unsafeCurrentTimeNanos(){return SL()}currentTimeMillis=k(()=>this.unsafeCurrentTimeMillis());currentTimeNanos=k(()=>this.unsafeCurrentTimeNanos());scheduler(){return _(Ov)}sleep(e){return tt(r=>{let n=Ov.unsafeSchedule(()=>r(G),e);return Ae(k(n))})}},ux=()=>new cx;var px="And",fx="Or",hx="InvalidData",mx="MissingData",dx="SourceUnavailable",xx="Unsupported";var EL="effect/ConfigError",Mv=Symbol.for(EL),oa={_tag:"ConfigError",[Mv]:Mv},gx=(t,e)=>{let r=Object.create(oa);return r._op=px,r.left=t,r.right=e,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`${this.left} and ${this.right}`}}),r},yx=(t,e)=>{let r=Object.create(oa);return r._op=fx,r.left=t,r.right=e,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`${this.left} or ${this.right}`}}),r},CL=(t,e,r={pathDelim:"."})=>{let n=Object.create(oa);return n._op=hx,n.path=t,n.message=e,Object.defineProperty(n,"toString",{enumerable:!1,value(){return`(Invalid data at ${S(this.path,En(r.pathDelim))}: "${this.message}")`}}),n},Hn=(t,e,r={pathDelim:"."})=>{let n=Object.create(oa);return n._op=mx,n.path=t,n.message=e,Object.defineProperty(n,"toString",{enumerable:!1,value(){return`(Missing data at ${S(this.path,En(r.pathDelim))}: "${this.message}")`}}),n},vL=(t,e,r,n={pathDelim:"."})=>{let o=Object.create(oa);return o._op=dx,o.path=t,o.message=e,o.cause=r,Object.defineProperty(o,"toString",{enumerable:!1,value(){return`(Source unavailable at ${S(this.path,En(n.pathDelim))}: "${this.message}")`}}),o},_L=(t,e,r={pathDelim:"."})=>{let n=Object.create(oa);return n._op=xx,n.path=t,n.message=e,Object.defineProperty(n,"toString",{enumerable:!1,value(){return`(Unsupported operation at ${S(this.path,En(r.pathDelim))}: "${this.message}")`}}),n};var Po=d(2,(t,e)=>{switch(t._op){case px:return gx(Po(t.left,e),Po(t.right,e));case fx:return yx(Po(t.left,e),Po(t.right,e));case hx:return CL([...e,...t.path],t.message);case mx:return Hn([...e,...t.path],t.message);case dx:return vL([...e,...t.path],t.message,t.cause);case xx:return _L([...e,...t.path],t.message)}});var Tv={_tag:"Empty"};var Ip=d(2,(t,e)=>{let r=oc(e),n=t;for(;nc(r);){let o=r.head;switch(o._tag){case"Empty":{r=r.tail;break}case"AndThen":{r=An(o.first,An(o.second,r.tail));break}case"MapName":{n=Hr(n,o.f),r=r.tail;break}case"Nested":{n=Ti(n,o.name),r=r.tail;break}case"Unnested":{if(S(ho(n),gm(o.name)))n=Br(n),r=r.tail;else return dt(Hn(n,`Expected ${o.name} to be in path in ConfigProvider#unnested`));break}}}return Be(n)});var Iv="Constant",Nv="Fail",Pv="Fallback",Lv="Described",Bv="Lazy",Hv="MapOrFail",qv="Nested",Uv="Primitive",zv="Sequence",Wv="HashMap",jv="ZipWith";var Np=(t,e)=>[...t,...e],kL="effect/ConfigProvider",Jv=Symbol.for(kL),sa=Qe("effect/ConfigProvider"),FL="effect/ConfigProviderFlat",Gv=Symbol.for(FL),OL=t=>({[Jv]:Jv,pipe(){return N(this,arguments)},...t}),wL=t=>({[Gv]:Gv,patch:t.patch,load:(e,r,n=!0)=>t.load(e,r,n),enumerateChildren:t.enumerateChildren}),ML=t=>OL({load:e=>E(mr(t,Dr(),e,!1),r=>Je(ho(r),{onNone:()=>K(Hn(Dr(),`Expected a single value having structure: ${e}`)),onSome:_})),flattened:t}),Vv=t=>{let{pathDelim:e,seqDelim:r}=Object.assign({},{pathDelim:"_",seqDelim:","},t),n=l=>S(l,En(e)),o=l=>l.split(e),s=()=>typeof process<"u"&&"env"in process&&typeof process.env=="object"?process.env:{};return ML(wL({load:(l,p,f=!0)=>{let g=n(l),m=s(),a=g in m?A(m[g]):D();return S(a,Oo(()=>Hn(l,`Expected ${g} to exist in the process context`)),E(u=>PL(u,l,p,r,f)))},enumerateChildren:l=>k(()=>{let p=s(),m=Object.keys(p).map(a=>o(a.toUpperCase())).filter(a=>{for(let u=0;u<l.length;u++){let h=S(l,bm(u)),x=a[u];if(x===void 0||h!==x)return!1}return!0}).flatMap(a=>a.slice(l.length,l.length+1));return Ol(m)}),patch:Tv}))};var RL=(t,e,r,n)=>{let o=Dm(r.length,l=>l>=n.length?D():A([t(l),l+1])),s=Dm(n.length,l=>l>=r.length?D():A([e(l),l+1])),i=Np(r,o),c=Np(n,s);return[i,c]},TL=(t,e)=>{let r=e;if(r._tag==="Nested"){let n=t.slice();for(;r._tag==="Nested";)n.push(r.name),r=r.config;return n}return t},mr=(t,e,r,n)=>{let o=r;switch(o._tag){case Iv:return _(_t(o.value));case Lv:return q(()=>mr(t,e,o.config,n));case Nv:return K(Hn(e,o.message));case Pv:return S(q(()=>mr(t,e,o.first,n)),Or(s=>o.condition(s)?S(mr(t,e,o.second,n),Or(i=>K(yx(s,i)))):K(s)));case Bv:return q(()=>mr(t,e,o.config(),n));case Hv:return q(()=>S(mr(t,e,o.original,n),E(at(s=>S(o.mapOrFail(s),Oo(Po(TL(e,o.original))))))));case qv:return q(()=>mr(t,Np(e,_t(o.name)),o.config,n));case Uv:return S(Ip(e,t.patch),E(s=>S(t.load(s,o,n),E(i=>{if(i.length===0){let c=S(il(s),qe(()=>"<n/a>"));return K(Hn([],`Expected ${o.description} with name ${c}`))}return _(i)}))));case zv:return S(Ip(e,t.patch),E(s=>S(t.enumerateChildren(s),E(BL),E(i=>i.length===0?q(()=>w(mr(t,e,o.config,!0),_t)):S(at(i,c=>mr(t,f0(e,`[${c}]`),o.config,!0)),w(c=>{let l=al(c);return l.length===0?_t(Dr()):_t(l)}))))));case Wv:return q(()=>S(Ip(e,t.patch),E(s=>S(t.enumerateChildren(s),E(i=>S(i,at(c=>mr(t,Np(s,_t(c)),o.valueConfig,n)),w(c=>c.length===0?_t(xs()):S(LL(c),Hr(l=>OE(vm(se(i),l)))))))))));case jv:return q(()=>S(mr(t,e,o.left,n),Qr,E(s=>S(mr(t,e,o.right,n),Qr,E(i=>{if(po(s)&&po(i))return K(gx(s.left,i.left));if(po(s)&&Ri(i))return K(s.left);if(Ri(s)&&po(i))return K(i.left);if(Ri(s)&&Ri(i)){let c=S(e,En(".")),l=IL(e,c),[p,f]=RL(l,l,S(s.right,Hr(Be)),S(i.right,Hr(Be)));return S(p,vm(f),at(([g,m])=>S(ws(g,m),w(([a,u])=>o.zip(a,u)))))}throw new Error("BUG: ConfigProvider.fromFlatLoop - please report an issue at https://github.com/Effect-TS/effect/issues")})))))}},IL=(t,e)=>r=>dt(Hn(t,`The element at index ${r} in a sequence at path "${e}" was missing`));var NL=(t,e)=>t.split(new RegExp(`\\s*${C0(e)}\\s*`)),PL=(t,e,r,n,o)=>o?S(NL(t,n),at(s=>r.parse(s.trim())),Oo(Po(e))):S(r.parse(t),Cc({onFailure:Po(e),onSuccess:_t})),LL=t=>Object.keys(t[0]).map(e=>t.map(r=>r[e])),BL=t=>S(at(t,qL),Cc({onFailure:()=>Dr(),onSuccess:as(mo)}),Qr,w(nl));var HL=/^(\[(\d+)\])$/,qL=t=>{let e=t.match(HL);if(e!==null){let r=e[2];return S(r!==void 0&&r.length>0?A(r):D(),vr(UL))}return D()};var UL=t=>{let e=Number.parseInt(t);return Number.isNaN(e)?D():A(e)};var Kv=Symbol.for("effect/Console"),qn=Qe("effect/Console"),Xv={[Kv]:Kv,assert(t,...e){return k(()=>{console.assert(t,...e)})},clear:k(()=>{console.clear()}),count(t){return k(()=>{console.count(t)})},countReset(t){return k(()=>{console.countReset(t)})},debug(...t){return k(()=>{console.debug(...t)})},dir(t,e){return k(()=>{console.dir(t,e)})},dirxml(...t){return k(()=>{console.dirxml(...t)})},error(...t){return k(()=>{console.error(...t)})},group(t){return t?.collapsed?k(()=>console.groupCollapsed(t?.label)):k(()=>console.group(t?.label))},groupEnd:k(()=>{console.groupEnd()}),info(...t){return k(()=>{console.info(...t)})},log(...t){return k(()=>{console.log(...t)})},table(t,e){return k(()=>{console.table(t,e)})},time(t){return k(()=>console.time(t))},timeEnd(t){return k(()=>console.timeEnd(t))},timeLog(t,...e){return k(()=>{console.timeLog(t,...e)})},trace(...t){return k(()=>{console.trace(...t)})},warn(...t){return k(()=>{console.warn(...t)})},unsafe:console};var WL="effect/Random",Yv=Symbol.for(WL),ia=Qe("effect/Random"),Sx=class{seed;[Yv]=Yv;PRNG;constructor(e){this.seed=e,this.PRNG=new qu(e)}get next(){return k(()=>this.PRNG.number())}get nextBoolean(){return w(this.next,e=>e>.5)}get nextInt(){return k(()=>this.PRNG.integer(Number.MAX_SAFE_INTEGER))}nextRange(e,r){return w(this.next,n=>(r-e)*n+e)}nextIntBetween(e,r){return k(()=>this.PRNG.integer(r-e)+e)}shuffle(e){return jL(e,r=>this.nextIntBetween(0,r))}},jL=(t,e)=>q(()=>S(k(()=>Array.from(t)),E(r=>{let n=[];for(let o=r.length;o>=2;o=o-1)n.push(o);return S(n,qt(o=>S(e(o),w(s=>JL(r,o-1,s)))),he(Wr(r)))}))),JL=(t,e,r)=>{let n=t[e];return t[e]=t[r],t[r]=n,t},Qv=t=>new Sx(P(t));var Zv=Symbol.for("effect/Tracer"),VL=t=>({[Zv]:Zv,...t}),Un=Qe("effect/Tracer"),wt=Qe("effect/ParentSpan"),e_=function(){let t="abcdef0123456789",e=t.length;return function(r){let n="";for(let o=0;o<r;o++)n+=t.charAt(Math.floor(Math.random()*e));return n}}(),bx=class{name;parent;context;links;startTime;kind;_tag="Span";spanId;traceId="native";sampled=!0;status;attributes;events=[];constructor(e,r,n,o,s,i){this.name=e,this.parent=r,this.context=n,this.links=o,this.startTime=s,this.kind=i,this.status={_tag:"Started",startTime:s},this.attributes=new Map,this.traceId=r._tag==="Some"?r.value.traceId:e_(32),this.spanId=e_(16)}end(e,r){this.status={_tag:"Ended",endTime:e,exit:r,startTime:this.status.startTime}}attribute(e,r){this.attributes.set(e,r)}event(e,r,n){this.events.push([e,r,n??{}])}},t_=VL({span:(t,e,r,n,o,s)=>new bx(t,e,r,n,o,s),context:t=>t()});var Qt=t=>{if(t?.captureStackTrace===!1)return t;if(t?.captureStackTrace!==void 0&&typeof t.captureStackTrace!="boolean")return t;let e=Error.stackTraceLimit;Error.stackTraceLimit=3;let r=new Error;Error.stackTraceLimit=e;let n=!1;return{...t,captureStackTrace:()=>{if(n!==!1)return n;if(r.stack!==void 0){let o=r.stack.split(`
`);if(o[3]!==void 0)return n=o[3].trim(),n}}}};var KL=S(ot(),Ee(Ot,ux()),Ee(qn,Xv),Ee(ia,Qv(Math.random())),Ee(sa,Vv()),Ee(Un,t_)),we=V(Symbol.for("effect/DefaultServices/currentServices"),()=>Sp(KL)),r_=t=>{let e=et(t);return Pc(r=>r.sleep(e))},Pp=t=>ie(e=>t(e.currentDefaultServices)),Pc=t=>Pp(e=>t(e.unsafeMap.get(Ot.key))),n_=Pc(t=>t.currentTimeMillis),o_=Pc(t=>t.currentTimeNanos),s_=d(2,(t,e)=>Ye(we,Ee(Ot,e))(t)),i_=d(2,(t,e)=>Ye(we,Ee(sa,e))(t)),a_=t=>Pp(e=>t(e.unsafeMap.get(sa.key)));var Lp=t=>Pp(e=>t(e.unsafeMap.get(ia.key))),c_=d(2,(t,e)=>Ye(we,Ee(ia,e))(t));var Bp=t=>Pp(e=>t(e.unsafeMap.get(Un.key))),u_=d(2,(t,e)=>Ye(we,Ee(Un,e))(t));var Lc=r_,aa=n_,l_=o_,p_=Pc,f_=Ot;function h_(t){return new nn(t)}function m_(){return h_(new Map)}var Ex=Symbol.for("effect/FiberRefs"),nn=class{locals;[Ex]=Ex;constructor(e){this.locals=e}pipe(){return N(this,arguments)}},XL=(t,e,r,n=!1)=>{let o=t,s=e,i=r,c=n,l;for(;l===void 0;)if(xt(s)&&xt(i)){let p=gt(s)[0],f=Br(s),g=gt(i)[0],m=gt(i)[1],a=Br(i);p.startTimeMillis<g.startTimeMillis?(i=a,c=!0):p.startTimeMillis>g.startTimeMillis?s=f:p.id<g.id?(i=a,c=!0):p.id>g.id?s=f:l=[m,c]}else l=[o.initial,!0];return l},qp=d(3,(t,e,r)=>{let n=new Map(t.locals);return r.locals.forEach((o,s)=>{let i=o[0][1];if(!o[0][0][L](e)){if(!n.has(s)){if(I(i,s.initial))return;n.set(s,[[e,s.join(s.initial,i)]]);return}let c=n.get(s),[l,p]=XL(s,c,o);if(p){let f=s.diff(l,i),g=c[0][1],m=s.join(g,s.patch(f)(g));if(!I(g,m)){let a,u=c[0][0];u[L](e)?a=[[u,m],...c.slice(1)]:a=[[e,m],...c],n.set(s,a)}}}}),new nn(n)}),vx=d(2,(t,e)=>{let r=new Map;return d_(t,r,e),new nn(r)}),d_=(t,e,r)=>{t.locals.forEach((n,o)=>{let s=n[0][1],i=o.patch(o.fork)(s);I(s,i)?e.set(o,n):e.set(o,[[r,i],...n])})},x_=t=>Ol(t.locals.keys()),g_=t=>qt(x_(t),e=>ks(e,zn(t,e))),Bc=d(2,(t,e)=>{let r=new Map(t.locals);return r.delete(e),new nn(r)}),Up=d(2,(t,e)=>t.locals.has(e)?A(gt(t.locals.get(e))[1]):D()),zn=d(2,(t,e)=>S(Up(t,e),qe(()=>e.initial))),ca=d(2,(t,{fiberId:e,fiberRef:r,value:n})=>{if(t.locals.size===0)return new nn(new Map([[r,[[e,n]]]]));let o=new Map(t.locals);return Cx(o,e,r,n),new nn(o)}),Cx=(t,e,r,n)=>{let o=t.get(r)??[],s;if(xt(o)){let[i,c]=gt(o);if(i[L](e)){if(I(c,n))return;s=[[e,n],...o.slice(1)]}else s=[[e,n],...o]}else s=[[e,n]];t.set(r,s)},y_=d(2,(t,{entries:e,forkAs:r})=>{if(t.locals.size===0)return new nn(new Map(e));let n=new Map(t.locals);return r!==void 0&&d_(t,n,r),e.forEach(([o,s])=>{s.length===1?Cx(n,s[0][0],o,s[0][1]):s.forEach(([i,c])=>{Cx(n,i,o,c)})}),new nn(n)});var Dx=Up,S_=zn,b_=qp,E_=g_;var C_=y_;var v_=m_;var $L=JC,Ax=GC,kx=VC,Fx=KC,Ox=Vd,wx=Kd,Mx=XC,YL=$C;var QL=S(mo,Zb(t=>t.ordinal));var __=mm(QL);var D_=t=>{switch(t){case"All":return $L;case"Debug":return wx;case"Error":return kx;case"Fatal":return Ax;case"Info":return Ox;case"Trace":return Mx;case"None":return YL;case"Warning":return Fx}};var A_=(t,e)=>({label:t,startTime:e}),k_=t=>e=>`${e.label.replace(/[\s="]/g,"_")}=${t-e.startTime}ms`;var F_=A_,O_=k_;var w_=yn,Ix=Sn;var eB=Gb;var Wn=class extends eB{};var Lo=Symbol.for("effect/Readable");var RK={[Lo]:Lo,pipe(){return N(this,arguments)}};var Wp=Symbol.for("effect/Ref"),Lx={_A:t=>t},Px=class extends Wn{ref;commit(){return this.get}[Wp]=Lx;[Lo]=Lo;constructor(e){super(),this.ref=e,this.get=k(()=>Pt(this.ref))}get;modify(e){return k(()=>{let r=Pt(this.ref),[n,o]=e(r);return r!==o&&pr(o)(this.ref),n})}},jp=t=>new Px(Vr(t)),Gs=t=>k(()=>jp(t)),dr=t=>t.get,jn=d(2,(t,e)=>t.modify(()=>[void 0,e])),M_=d(2,(t,e)=>t.modify(r=>[r,e]));var Jp=d(2,(t,e)=>t.modify(e));var qc=d(2,(t,e)=>t.modify(r=>[void 0,e(r)]));var Uc=Gs,Vp=dr,R_=M_;var T_=Jp;var I_=qc;var N_=Bp;var L_="Empty",B_="Add",H_="Remove",q_="Update",U_="AndThen",z_={_tag:L_},zc=(t,e)=>{let r=new Map(t.locals),n=z_;for(let[o,s]of e.locals.entries()){let i=gt(s)[1],c=r.get(o);if(c!==void 0){let l=gt(c)[1];I(l,i)||(n=Kp({_tag:q_,fiberRef:o,patch:o.diff(l,i)})(n))}else n=Kp({_tag:B_,fiberRef:o,value:i})(n);r.delete(o)}for(let[o]of r.entries())n=Kp({_tag:H_,fiberRef:o})(n);return n},Kp=d(2,(t,e)=>({_tag:U_,first:t,second:e})),Xp=d(3,(t,e,r)=>{let n=r,o=_t(t);for(;xt(o);){let s=gt(o),i=Br(o);switch(s._tag){case L_:{o=i;break}case B_:{n=ca(n,{fiberId:e,fiberRef:s.fiberRef,value:s.value}),o=i;break}case H_:{n=Bc(n,s.fiberRef),o=i;break}case q_:{let c=zn(n,s.fiberRef);n=ca(n,{fiberId:e,fiberRef:s.fiberRef,value:s.fiberRef.patch(s.patch)(c)}),o=i;break}case U_:{o=Ti(s.first)(Ti(s.second)(i));break}}}return n});var j_="effect/MetricLabel",Hx=Symbol.for(j_),qx=class{key;value;[Hx]=Hx;_hash;constructor(e,r){this.key=e,this.value=r,this._hash=pe(j_+this.key+this.value)}[B](){return this._hash}[L](e){return tB(e)&&this.key===e.key&&this.value===e.value}pipe(){return N(this,arguments)}},Vs=(t,e)=>new qx(t,e),tB=t=>R(t,Hx);var J_=d(t=>le(t[0]),function(){let t=arguments;return Ye(t[0],Ln,typeof t[1]=="string"?yt(t[1],t[2]):e=>Object.entries(t[1]).reduce((r,[n,o])=>yt(r,n,o),e))}),ua=t=>w(t,A),G_=t=>Oo(t,A),zx=t=>{let e,r;return typeof t=="function"?e=t:(e=t.try,r=t.catch),k(()=>{try{return e()}catch(n){throw NC(On(r?r(n):new To(n)))}})},V_=d(3,(t,e,r)=>Or(t,n=>R(n,e)&&n[e]===r.failure?r.onFailure(n):K(n))),K_=d(2,(t,e)=>Yr(t,r=>{let n=Co(r,o=>$i(o)?A(o):D());switch(n._tag){case"None":return te(r);case"Some":return e(n.value.defect)}})),X_=d(2,(t,e)=>Ce(t,{onFailure:r=>{let n=e(r);switch(n._tag){case"None":return te(r);case"Some":return n.value}},onSuccess:_})),$_=d(2,(t,e)=>Yr(t,r=>{let n=Co(r,o=>$i(o)?A(o):D());switch(n._tag){case"None":return te(r);case"Some":{let o=e(n.value.defect);return o._tag==="Some"?o.value:te(r)}}})),Y_=d(3,(t,e,r)=>bc(t,co(e),r)),Q_=d(2,(t,e)=>{let r;return bc(t,n=>(r??=Object.keys(e),R(n,"_tag")&&Ei(n._tag)&&r.includes(n._tag)),n=>e[n._tag](n))}),Z_=t=>Ec(t,{onFailure:j,onSuccess:()=>kr}),on=p_,eD=on(_),tD=d(2,(t,e)=>ce(Lc(e),t)),Qp=t=>ie((e,r)=>t({id:e.id(),status:r,interruptors:mc(e.getFiberRef(Is))})),rD=Qp(t=>fs(t.interruptors)>0?mp:G),nD=Qp(_),la=t=>Jc(t,Zp,zc),rB=t=>Jc(t,ws(Zp,Zi),([e,r],[n,o])=>[zc(e,n),fr(r,o)]),oD=_({}),sD=Bu(w,E),iD=Lu(w),aD=Pu(w),cD=d(2,(t,e)=>q(()=>{let r=t[Symbol.iterator](),n=[],o,s=_(!1),i=0;for(;(o=r.next())&&!o.done;){let c=o.value,l=i++;s=E(s,p=>p?(n.push(c),_(!0)):e(c,l))}return w(s,()=>n)})),uD=d(2,(t,e)=>q(()=>{let r=t[Symbol.iterator](),n=[],o,s=_(!0),i=0;for(;(o=r.next())&&!o.done;){let c=o.value,l=i++;s=E(s,p=>w(p?e(c,l):_(!1),f=>(f||n.push(c),f)))}return w(s,()=>n)})),lD=t=>w($t(),t),Wx=t=>Fs(t,()=>E(tn(),()=>Wx(t))),pD=d(2,(t,e)=>w(at(t,j),Ii(e))),fD=d(3,(t,e,r)=>Wc(t,e,n=>Do(()=>r(n)))),hD=d(3,(t,e,r)=>Wc(t,e,()=>Tn(r))),Wc=d(3,(t,e,r)=>E(t,n=>e(n)?_(n):r(n))),mD=d(3,(t,e,r)=>q(()=>e(t)?_(t):K(r(t)))),dD=d(t=>le(t[0]),(t,e,r)=>Wc(t,e,n=>r===void 0?K(new Xt):Dt(()=>r(n)))),xD=d(2,(t,e)=>q(()=>{let r=t[Symbol.iterator](),n=r.next();return n.done?_(D()):gD(r,0,e,n.value)})),gD=(t,e,r,n)=>E(r(n,e),o=>{if(o)return _(A(n));let s=t.next();return s.done?_(D()):gD(t,e+1,r,s.value)}),yD=t=>q(()=>{let e=Wr(t);return Ze(e)?S(it(e),ir(Xe(e),(r,n)=>Fs(r,()=>n))):Do(()=>new Ac("Received an empty collection of effects"))}),SD=d(2,(t,e)=>Fo(e(Fo(t)))),jc=d(2,(t,e)=>$e(t,{onFailure:r=>_(e.onFailure(r)),onSuccess:r=>_(e.onSuccess(r))})),bD=d(2,(t,e)=>q(()=>ED(t[Symbol.iterator](),0,e))),ED=(t,e,r)=>{let n=t.next();return n.done?_(!0):E(r(n.value,e),o=>o?ED(t,e+1,r):_(o))},jx=t=>{let e=E(E(t,()=>tn()),()=>e);return e},Zp=ie(t=>_(t.getFiberRefs())),CD=t=>E(t,e=>{let n=e[Symbol.iterator]().next();return n.done?K(new Xt):_(n.value)}),Jx=t=>jc(t,{onFailure:mn,onSuccess:mn}),vD=t=>Ce(t,{onFailure:e=>Vx(e,"An error was silently ignored because it is not anticipated to be useful"),onSuccess:()=>G}),_D=t=>rf((e,r)=>b_(r,e,t)),DD=t=>jc(t,{onFailure:so,onSuccess:hn}),AD=t=>jc(t,{onFailure:hn,onSuccess:so}),Gx=(t,e)=>q(()=>e.while(t)?E(e.body(t),r=>Gx(r,e)):_(t)),Jn=t=>(...e)=>{let r=Cr(t),n;for(let o=0,s=e.length;o<s;o++){let i=e[o];Yl(i)&&(n!==void 0?n=De(n,i):n=i,e=[...e.slice(0,o),...e.slice(o+1)],o--)}return n===void 0&&(n=kr),ie(o=>(o.log(e,n,r),G))},kD=Jn(),FD=Jn(Mx),Vx=Jn(wx),OD=Jn(Ox),wD=Jn(Fx),MD=Jn(kx),RD=Jn(Ax),TD=d(2,(t,e)=>E(aa,r=>Ye(t,Ep,Bl(F_(e,r))))),ID=Kt(Ln),ND=(t,e)=>e.discard?LD(t,e.while,e.step,e.body):w(PD(t,e.while,e.step,e.body),se),PD=(t,e,r,n)=>q(()=>e(t)?E(n(t),o=>w(PD(r(t),e,r,n),Bl(o))):k(()=>Xr())),LD=(t,e,r,n)=>q(()=>e(t)?E(n(t),()=>LD(r(t),e,r,n)):G),BD=d(3,(t,e,r)=>q(()=>{let n=t[Symbol.iterator](),o=[],s=_(e),i,c=0;for(;!(i=n.next()).done;){let l=c++,p=i.value;s=E(s,f=>w(r(f,p,l),([g,m])=>(o.push(m),g)))}return w(s,l=>[l,o])})),pa=d(2,(t,e)=>Ce(t,{onFailure:r=>In(()=>e(r)),onSuccess:_})),ef=t=>S(Ft(),E(e=>S(rB(t),en(e),Kx,w(r=>ce(r,S(rt(e),E(([n,o])=>he(ws(Ks(n[0]),wo(n[1])),o)))))))),HD=t=>$e(t,{onFailure:e=>_(e),onSuccess:_}),tf=t=>w(t,e=>!e),qD=t=>E(t,e=>{switch(e._tag){case"None":return G;case"Some":return K(new Xt)}}),Kx=t=>w(Uc(!0),e=>Ae(ea(t,R_(e,!1)))),UD=t=>$e(t,{onFailure:()=>_(D()),onSuccess:e=>_(A(e))}),zD=d(2,(t,e)=>Fs(t,()=>Dt(e))),WD=d(2,(t,e)=>Fs(t,()=>k(e))),jD=t=>Ce(t,{onFailure:e=>{let r=se(hc(e));return r.length===0?te(e):K(r)},onSuccess:_}),Ks=t=>rf((e,r)=>S(t,Xp(e,r))),JD=t=>t.length>=1?tt((e,r)=>{try{t(r).then(n=>e(me(n)),n=>e(No(n)))}catch(n){e(No(n))}}):tt(e=>{try{t().then(r=>e(me(r)),r=>e(No(r)))}catch(r){e(No(r))}}),fa=d(3,(t,e,r)=>hr(n=>Yt(t,Ee(n,e,r)))),GD=d(3,(t,e,r)=>hr(n=>E(r,o=>Yt(t,S(n,Ee(e,o)))))),VD=Lp(_),KD=d(3,(t,e,r)=>se(t).reduce((n,o,s)=>E(n,i=>r(i,o,s)),_(e))),XD=d(3,(t,e,r)=>se(t).reduceRight((n,o,s)=>E(n,i=>r(o,i,s)),_(e))),$D=d(3,(t,e,r)=>E(k(()=>t[Symbol.iterator]()),n=>YD(n,0,e,r.while,r.body))),YD=(t,e,r,n,o)=>{let s=t.next();return!s.done&&n(r)?E(o(r,s.value,e),i=>YD(t,e+1,i,n,o)):_(r)},QD=d(2,(t,e)=>q(()=>ZD(t,e))),ZD=(t,e)=>E(t,r=>e<=0?_(r):ce(tn(),ZD(t,e-1))),eA=t=>Ce(t,{onFailure:K,onSuccess:_}),tA=t=>q(()=>E_(t)),Xs=Lc,$s=_(D()),rA=t=>_(A(t)),Jc=d(3,(t,e,r)=>E(e,n=>E(t,o=>w(e,s=>[r(n,s),o])))),nA=d(t=>le(t[0]),function(){return Xx(arguments[0],typeof arguments[1]=="string"?[Vs(arguments[1],arguments[2])]:Object.entries(arguments[1]).map(([t,e])=>Vs(t,e)))}),Xx=d(2,(t,e)=>Ye(t,Bn,r=>_r(r,e))),oA=d(2,(t,e)=>q(()=>{let r=t[Symbol.iterator](),n=[],o,s=_(!1),i=0;for(;(o=r.next())&&!o.done;){let c=o.value,l=i++;s=E(s,p=>p?_(!0):(n.push(c),e(c,l)))}return w(s,()=>n)})),sA=d(2,(t,e)=>q(()=>{let r=t[Symbol.iterator](),n=[],o,s=_(!0),i=0;for(;(o=r.next())&&!o.done;){let c=o.value,l=i++;s=E(s,p=>S(p?e(c,l):_(!1),w(f=>(f&&n.push(c),f))))}return w(s,()=>n)})),iA=d(2,(t,{onFailure:e,onSuccess:r})=>Ce(t,{onFailure:n=>{let o=Fr(n);switch(o._tag){case"Left":return ce(e(o.left),te(n));case"Right":return te(n)}},onSuccess:n=>he(r(n),n)})),aA=d(2,(t,e)=>Yr(t,r=>Je(Hd(r),{onNone:()=>te(r),onSome:n=>ce(e(n),te(r))}))),$x=d(2,(t,e)=>Ce(t,{onFailure:r=>{let n=Fr(r);switch(n._tag){case"Left":return ce(e(n.left),te(r));case"Right":return te(r)}},onSuccess:_})),cA=d(3,(t,e,r)=>$x(t,n=>co(n,e)?r(n):G)),uA=d(2,(t,e)=>Ce(t,{onFailure:r=>ce(e(r),te(r)),onSuccess:_})),lA=t=>Yx(t,l_),Yx=d(2,(t,e)=>Jc(t,e,(r,n)=>Qa(n-r))),nB=N_,pA=nB(_),Qx=t=>{let e,r;return typeof t=="function"?e=t:(e=t.try,r=t.catch),e.length>=1?tt((n,o)=>{try{e(o).then(s=>n(me(s)),s=>n(r?Dt(()=>r(s)):K(new To(s))))}catch(s){n(r?Dt(()=>r(s)):K(new To(s)))}}):tt(n=>{try{e().then(o=>n(me(o)),o=>n(r?Dt(()=>r(o)):K(new To(o))))}catch(o){n(r?Dt(()=>r(o)):K(new To(o)))}})},fA=d(2,(t,e)=>E(t,r=>zx({try:()=>e.try(r),catch:e.catch}))),hA=d(2,(t,e)=>E(t,r=>Qx({try:e.try.length>=1?n=>e.try(r,n):()=>e.try(r),catch:e.catch}))),mA=d(2,(t,e)=>q(()=>e()?$s:ua(t))),dA=d(2,(t,e)=>E(e,r=>r?$s:ua(t))),xA=t=>pa(t,qd),rf=t=>ie(e=>(e.setFiberRefs(t(e.id(),e.getFiberRefs())),G)),gA=d(3,(t,e,r)=>Us(t,n=>Ee(n,e,r(qr(n,e))))),nf=d(2,(t,e)=>q(()=>e()?w(t,A):_(D()))),yA=d(3,(t,e,r)=>E(Kt(e),n=>r(n)?w(t,o=>[n,A(o)]):_([n,D()]))),SA=d(3,(t,e,r)=>E(Vp(e),n=>r(n)?w(t,o=>[n,A(o)]):_([n,D()]))),bA=d(2,(t,e)=>e(t)),EA=(t,e)=>(...r)=>E(t,n=>e(n)(...r)),CA=(t,e)=>(...r)=>w(t,n=>e(n)(...r)),Zx=t=>new Proxy({},{get(e,r,n){return(...o)=>E(t,s=>s[r](...o))}}),eg=t=>new Proxy({},{get(e,r,n){return E(t,o=>le(o[r])?o[r]:_(o[r]))}}),vA=t=>({functions:Zx(t),constants:eg(t)}),_A=t=>w($t(),ar(t)),tg=t=>E($t(),ar(t)),DA=function(){let t=arguments;return Jx(E(rg,e=>k(()=>{if(typeof t[0]=="string")e.attribute(t[0],t[1]);else for(let r in t[0])e.attribute(r,t[0][r])})))},AA=d(t=>le(t[0]),function(){let t=arguments;return Ye(t[0],ra,typeof t[1]=="string"?yt(t[1],t[2]):e=>Object.entries(t[1]).reduce((r,[n,o])=>yt(r,n,o),e))}),kA=tg(wt),rg=E($t(),t=>{let e=t.unsafeMap.get(wt.key);return e!==void 0&&e._tag==="Span"?_(e):K(new Xt)}),FA=d(t=>le(t[0]),(t,e,r)=>Ye(t,vp,fl({_tag:"SpanLink",span:e,attributes:r??{}}))),OA=BigInt(0),of=(t,e,r)=>{if(t.getFiberRef(Dc)===!1)return pv(e);let o=t.getFiberRef(zt),s=t.getFiberRef(we),i=st(s,Un),c=st(s,f_),l=t.getFiberRef(Ro),p=t.getFiberRefs(),f=Dx(p,ra),g=Dx(p,vp),m=r.parent?A(r.parent):r.root?D():ar(o,wt),a=g._tag==="Some"?r.links!==void 0?[...ur(g.value),...r.links??[]]:ur(g.value):r.links??Dr(),u=i.span(e,m,r.context??ot(),a,l?c.unsafeCurrentTimeNanos():OA,r.kind??"internal");return typeof r.captureStackTrace=="function"&&xc.set(u,r.captureStackTrace),f._tag==="Some"&&NE(f.value,(h,x)=>u.attribute(x,h)),r.attributes!==void 0&&Object.entries(r.attributes).forEach(([h,x])=>u.attribute(h,x)),u},wA=(t,e)=>(e=Qt(e),ie(r=>_(of(r,t,e)))),MA=Kt(ra),RA=Kt(vp),ng=(t,e,r,n)=>k(()=>{t.status._tag!=="Ended"&&(Yd(e)&&xc.has(t)&&t.attribute("code.stacktrace",xc.get(t)()),t.end(n?r.unsafeCurrentTimeNanos():OA,e))}),$p=(t,...e)=>{let r=Qt(e.length===1?void 0:e[0]),n=e[e.length-1];return ie(o=>{let s=of(o,t,r),i=o.getFiberRef(Ro),c=st(o.getFiberRef(we),Ot);return pt(n(s),l=>ng(s,l,c,i))})},Yp=d(2,(t,e)=>fa(t,wt,e)),og=function(){let t=typeof arguments[0]!="string",e=t?arguments[1]:arguments[0],r=Qt(t?arguments[2]:arguments[1]);if(t){let n=arguments[0];return $p(e,r,o=>Yp(n,o))}return n=>$p(e,r,o=>Yp(n,o))},TA=t=>function(){let e=t.captureStackTrace??!1;if(t.captureStackTrace!==!1){let r=Error.stackTraceLimit;Error.stackTraceLimit=2;let n=new Error;Error.stackTraceLimit=r;let o=!1;e=()=>{if(o!==!1)return o;if(n.stack)return o=n.stack.trim().split(`
`).slice(2).join(`
`).trim(),o}}return q(()=>{let r=typeof t.options=="function"?t.options.apply(null,arguments):t.options;return og(q(()=>Me(()=>t.body.apply(this,arguments))),r.name,{...r,captureStackTrace:e})})},IA=t=>t==null?K(new Xt):_(t),NA=t=>Or(w(t,A),e=>ov(e)?$s:K(e));var PA="Sequential",LA="Parallel",oB="ParallelN",sn={_tag:PA},BA={_tag:LA},HA=t=>({_tag:oB,parallelism:t}),sg=t=>t._tag===PA,ig=t=>t._tag===LA;var af=sn,cf=BA,uf=HA;var Ys=zc;var Qs=Xp;var pf="effect/FiberStatus",Bo=Symbol.for(pf),lf="Done",UA="Running",zA="Suspended",sB=pe(`${pf}-${lf}`),cg=class{[Bo]=Bo;_tag=lf;[B](){return sB}[L](e){return ff(e)&&e._tag===lf}},ug=class{runtimeFlags;[Bo]=Bo;_tag=UA;constructor(e){this.runtimeFlags=e}[B](){return S(P(pf),z(P(this._tag)),z(P(this.runtimeFlags)),Y(this))}[L](e){return ff(e)&&e._tag===UA&&this.runtimeFlags===e.runtimeFlags}},lg=class{runtimeFlags;blockingOn;[Bo]=Bo;_tag=zA;constructor(e,r){this.runtimeFlags=e,this.blockingOn=r}[B](){return S(P(pf),z(P(this._tag)),z(P(this.runtimeFlags)),z(P(this.blockingOn)),Y(this))}[L](e){return ff(e)&&e._tag===zA&&this.runtimeFlags===e.runtimeFlags&&I(this.blockingOn,e.blockingOn)}},WA=new cg,jA=t=>new ug(t),JA=(t,e)=>new lg(t,e),ff=t=>R(t,Bo),GA=t=>t._tag===lf;var VA=WA,pg=jA,KA=JA;var XA=GA;var aB=Symbol.for("effect/Micro"),hf=Symbol.for("effect/Micro/MicroExit");var YA=Symbol.for("effect/Micro/MicroCause");var cB={_E:j},mf=class extends globalThis.Error{_tag;traces;[YA];constructor(e,r,n){let o=`MicroCause.${e}`,s,i,c;if(r instanceof globalThis.Error){s=`(${o}) ${r.name}`,i=r.message;let l=i.split(`
`).length;c=r.stack?`(${o}) ${r.stack.split(`
`).slice(0,l+3).join(`
`)}`:`${s}: ${i}`}else s=o,i=xn(r,0),c=`${s}: ${i}`;n.length>0&&(c+=`
    ${n.join(`
    `)}`),super(i),this._tag=e,this.traces=n,this[YA]=cB,this.name=s,this.stack=c}pipe(){return N(this,arguments)}toString(){return this.stack}[Q](){return this.stack}};var hg=class extends mf{defect;constructor(e,r=[]){super("Die",e,r),this.defect=e}},uB=(t,e=[])=>new hg(t,e),mg=class extends mf{constructor(e=[]){super("Interrupt","interrupted",e)}},lB=(t=[])=>new mg(t);var tk=t=>t._tag==="Interrupt";var QA=Symbol.for("effect/Micro/MicroFiber"),pB={_A:j,_E:j},df=class{context;interruptible;[QA];_stack=[];_observers=[];_exit;_children;currentOpCount=0;constructor(e,r=!0){this.context=e,this.interruptible=r,this[QA]=pB}getRef(e){return R0(this.context,e)}addObserver(e){return this._exit?(e(this._exit),mn):(this._observers.push(e),()=>{let r=this._observers.indexOf(e);r>=0&&this._observers.splice(r,1)})}_interrupted=!1;unsafeInterrupt(){this._exit||(this._interrupted=!0,this.interruptible&&this.evaluate(yg))}unsafePoll(){return this._exit}evaluate(e){if(this._exit)return;if(this._yielded!==void 0){let o=this._yielded;this._yielded=void 0,o()}let r=this.runLoop(e);if(r===ma)return;let n=ZA.interruptChildren&&ZA.interruptChildren(this);if(n!==void 0)return this.evaluate(Zs(n,()=>r));this._exit=r;for(let o=0;o<this._observers.length;o++)this._observers[o](r);this._observers.length=0}runLoop(e){let r=!1,n=e;this.currentOpCount=0;try{for(;;){if(this.currentOpCount++,!r&&this.getRef(ya).shouldYield(this)){r=!0;let o=n;n=Zs(gB,()=>o)}if(n=n[dg](this),n===ma){let o=this._yielded;return hf in o?(this._yielded=void 0,o):ma}}}catch(o){return R(n,dg)?bf(o):bf(`MicroFiber.runLoop: Not a valid effect: ${String(n)}`)}}getCont(e){for(;;){let r=this._stack.pop();if(!r)return;let n=r[xf]&&r[xf](this);if(n)return{[e]:n};if(r[e])return r}}_yielded=void 0;yieldWith(e){return this._yielded=e,ma}children(){return this._children??=new Set}},ZA=V("effect/Micro/fiberMiddleware",()=>({interruptChildren:void 0}));var fB=t=>Gc(()=>{for(let n of t)n.unsafeInterrupt();let e=t[Symbol.iterator](),r=Gc(()=>{let n=e.next();for(;!n.done;){if(n.value.unsafePoll()){n=e.next();continue}let o=n.value;return ok(s=>{o.addObserver(i=>{s(r)})})}return ga});return r}),rk=Symbol.for("effect/Micro/identifier"),Se=Symbol.for("effect/Micro/args"),dg=Symbol.for("effect/Micro/evaluate"),Ho=Symbol.for("effect/Micro/successCont"),da=Symbol.for("effect/Micro/failureCont"),xf=Symbol.for("effect/Micro/ensureCont"),ma=Symbol.for("effect/Micro/Yield"),hB={_A:j,_E:j,_R:j},mB={...w_,_op:"Micro",[aB]:hB,pipe(){return N(this,arguments)},[Symbol.iterator](){return new rs(new Lr(this))},toJSON(){return{_id:"Micro",op:this[rk],...Se in this?{args:this[Se]}:void 0}},toString(){return oe(this)},[Q](){return oe(this)}};function dB(t){return bf("Micro.evaluate: Not implemented")}var Cf=t=>({...mB,[rk]:t.op,[dg]:t.eval??dB,[Ho]:t.contA,[da]:t.contE,[xf]:t.ensure}),qo=t=>{let e=Cf(t);return function(){let r=Object.create(e);return r[Se]=t.single===!1?arguments:arguments[0],r}},nk=t=>{let e={...Cf(t),[hf]:hf,_tag:t.op,get[t.prop](){return this[Se]},toJSON(){return{_id:"MicroExit",_tag:t.op,[t.prop]:this[Se]}},[L](r){return _B(r)&&r._tag===t.op&&I(this[Se],r[Se])},[B](){return Y(this,z(pe(t.op))(P(this[Se])))}};return function(r){let n=Object.create(e);return n[Se]=r,n[Ho]=void 0,n[da]=void 0,n[xf]=void 0,n}},xa=nk({op:"Success",prop:"value",eval(t){let e=t.getCont(Ho);return e?e[Ho](this[Se],t):t.yieldWith(this)}}),gf=nk({op:"Failure",prop:"cause",eval(t){let e=t.getCont(da);for(;tk(this[Se])&&e&&t.interruptible;)e=t.getCont(da);return e?e[da](this[Se],t):t.yieldWith(this)}});var yf=qo({op:"Sync",eval(t){let e=this[Se](),r=t.getCont(Ho);return r?r[Ho](e,t):t.yieldWith(_f(e))}}),Gc=qo({op:"Suspend",eval(t){return this[Se]()}}),xB=qo({op:"Yield",eval(t){let e=!1;return t.getRef(ya).scheduleTask(()=>{e||t.evaluate(ga)},this[Se]??0),t.yieldWith(()=>{e=!0})}}),gB=xB(0);var Sf=xa(void 0);var vf=qo({op:"WithMicroFiber",eval(t){return this[Se](t)}});var yB=qo({op:"Async",single:!1,eval(t){let e=this[Se][0],r=!1,n=!1,o=this[Se][1]?new AbortController:void 0,s=e(i=>{r||(r=!0,n?t.evaluate(i):n=i)},o?.signal);return n!==!1?n:(n=!0,t._yielded=()=>{r=!0},o===void 0&&s===void 0||t._stack.push(SB(()=>(r=!0,o?.abort(),s??ga))),ma)}}),SB=qo({op:"AsyncFinalizer",ensure(t){t.interruptible&&(t.interruptible=!1,t._stack.push(Sg(!0)))},contE(t,e){return tk(t)?Zs(this[Se](),()=>gf(t)):gf(t)}}),ok=t=>yB(t,t.length>=2);var bB=d(2,(t,e)=>vB(t,r=>e));var EB=t=>OB(t,{onFailure:Df,onSuccess:_f});var Zs=d(2,(t,e)=>{let r=Object.create(CB);return r[Se]=t,r[Ho]=e,r}),CB=Cf({op:"OnSuccess",eval(t){return t._stack.push(this),this[Se]}});var vB=d(2,(t,e)=>Zs(t,r=>xa(e(r)))),_B=t=>R(t,hf),_f=xa,Df=gf,yg=Df(lB());var bf=t=>Df(uB(t));var ga=_f(void 0),DB=t=>{for(let e of t)if(e._tag==="Failure")return e;return ga},AB="setImmediate"in globalThis?globalThis.setImmediate:t=>setTimeout(t,0),Ef=class{tasks=[];running=!1;scheduleTask(e,r){this.tasks.push(e),this.running||(this.running=!0,AB(this.afterScheduled))}afterScheduled=()=>{this.running=!1,this.runTasks()};runTasks(){let e=this.tasks;this.tasks=[];for(let r=0,n=e.length;r<n;r++)e[r]()}shouldYield(e){return e.currentOpCount>=e.getRef(xg)}flush(){for(;this.tasks.length>0;)this.runTasks()}};var kB=d(2,(t,e)=>vf(r=>{let n=r.context;return r.context=e(n),wB(t,()=>(r.context=n,Sf))}));var sk=d(2,(t,e)=>kB(t,cr(e)));var xg=class extends $a()("effect/Micro/currentMaxOpsBeforeYield",{defaultValue:()=>2048}){},gg=class extends $a()("effect/Micro/currentConcurrency",{defaultValue:()=>"unbounded"}){},ya=class extends $a()("effect/Micro/currentScheduler",{defaultValue:()=>new Ef}){};var ik=d(2,(t,e)=>{let r=Object.create(FB);return r[Se]=t,r[Ho]=e.onSuccess,r[da]=e.onFailure,r}),FB=Cf({op:"OnSuccessAndFailure",eval(t){return t._stack.push(this),this[Se]}}),OB=d(2,(t,e)=>ik(t,{onFailure:r=>yf(()=>e.onFailure(r)),onSuccess:r=>yf(()=>e.onSuccess(r))}));var fg=Symbol.for("effect/Micro/MicroScope");var ek=class t{[fg];state={_tag:"Open",finalizers:new Set};constructor(){this[fg]=fg}unsafeAddFinalizer(e){this.state._tag==="Open"&&this.state.finalizers.add(e)}addFinalizer(e){return Gc(()=>this.state._tag==="Open"?(this.state.finalizers.add(e),Sf):e(this.state.exit))}unsafeRemoveFinalizer(e){this.state._tag==="Open"&&this.state.finalizers.delete(e)}close(e){return Gc(()=>{if(this.state._tag==="Open"){let r=Array.from(this.state.finalizers).reverse();return this.state={_tag:"Closed",exit:e},Zs(IB(r,n=>EB(n(e))),DB)}return Sf})}get fork(){return yf(()=>{let e=new t;if(this.state._tag==="Closed")return e.state=this.state,e;function r(n){return e.close(n)}return this.state.finalizers.add(r),e.unsafeAddFinalizer(n=>yf(()=>this.unsafeRemoveFinalizer(r))),e})}};var wB=d(2,(t,e)=>RB(r=>ik(r(t),{onFailure:n=>Zs(e(Df(n)),()=>gf(n)),onSuccess:n=>Zs(e(_f(n)),()=>xa(n))})));var Sg=qo({op:"SetInterruptible",ensure(t){if(t.interruptible=this[Se],t._interrupted&&t.interruptible)return()=>yg}}),MB=t=>vf(e=>e.interruptible?t:(e.interruptible=!0,e._stack.push(Sg(!1)),e._interrupted?yg:t)),RB=t=>vf(e=>e.interruptible?(e.interruptible=!1,e._stack.push(Sg(!0)),t(MB)):t(j));var TB=qo({op:"While",contA(t,e){return this[Se].step(t),this[Se].while()?(e._stack.push(this),this[Se].body()):ga},eval(t){return this[Se].while()?(t._stack.push(this),this[Se].body()):ga}}),IB=(t,e,r)=>vf(n=>{let o=r?.concurrency==="inherit"?n.getRef(gg):r?.concurrency??1,s=o==="unbounded"?Number.POSITIVE_INFINITY:Math.max(1,o),i=se(t),c=i.length;if(c===0)return r?.discard?Sf:xa([]);let l=r?.discard?void 0:new Array(c),p=0;return s===1?bB(TB({while:()=>p<i.length,body:()=>e(i[p],p),step:l?f=>l[p++]=f:f=>p++}),l):ok(f=>{let g=new Set,m,a=0,u=0,h=!1,x=!1;function y(){for(h=!0;a<s&&p<c;){let b=p,F=i[b];p++,a++;try{let O=NB(n,e(F,b),!0,!0);g.add(O),O.addObserver(M=>{g.delete(O),!x&&(M._tag==="Failure"?m===void 0&&(m=M,c=p,g.forEach(H=>H.unsafeInterrupt())):l!==void 0&&(l[b]=M.value),u++,a--,u===c?f(m??xa(l)):!h&&a<s&&y())})}catch(O){m=bf(O),c=p,g.forEach(M=>M.unsafeInterrupt())}}h=!1}return y(),Gc(()=>(x=!0,p=c,fB(g)))})});var NB=(t,e,r=!1,n=!1)=>{let o=new df(t.context,t.interruptible);return n||(t.children().add(o),o.addObserver(()=>t.children().delete(o))),r?o.evaluate(e):t.getRef(ya).scheduleTask(()=>o.evaluate(e),0),o};var ak=(t,e)=>{let r=new df(ya.context(e?.scheduler??new Ef));if(r.evaluate(t),e?.signal)if(e.signal.aborted)r.unsafeInterrupt();else{let n=()=>r.unsafeInterrupt();e.signal.addEventListener("abort",n,{once:!0}),r.addObserver(()=>e.signal.removeEventListener("abort",n))}return r};var Af=class{buckets=[];scheduleTask(e,r){let n=this.buckets.length,o,s=0;for(;s<n&&this.buckets[s][0]<=r;s++)o=this.buckets[s];o&&o[0]===r?o[1].push(e):s===n?this.buckets.push([r,[e]]):this.buckets.splice(s,0,[r,[e]])}},bg=class{maxNextTickBeforeTimer;running=!1;tasks=new Af;constructor(e){this.maxNextTickBeforeTimer=e}starveInternal(e){let r=this.tasks.buckets;this.tasks.buckets=[];for(let[n,o]of r)for(let s=0;s<o.length;s++)o[s]();this.tasks.buckets.length===0?this.running=!1:this.starve(e)}starve(e=0){e>=this.maxNextTickBeforeTimer?setTimeout(()=>this.starveInternal(0),0):Promise.resolve(void 0).then(()=>this.starveInternal(e+1))}shouldYield(e){return e.currentOpCount>e.getFiberRef(bp)?e.getFiberRef(Pn):!1}scheduleTask(e,r){this.tasks.scheduleTask(e,r),this.running||(this.running=!0,this.starve())}},uk=V(Symbol.for("effect/Scheduler/defaultScheduler"),()=>new bg(2048)),kf=class{tasks=new Af;deferred=!1;scheduleTask(e,r){this.deferred?uk.scheduleTask(e,r):this.tasks.scheduleTask(e,r)}shouldYield(e){return e.currentOpCount>e.getFiberRef(bp)?e.getFiberRef(Pn):!1}flush(){for(;this.tasks.buckets.length>0;){let e=this.tasks.buckets;this.tasks.buckets=[];for(let[r,n]of e)for(let o=0;o<n.length;o++)n[o]()}this.deferred=!0}};var Gn=V(Symbol.for("effect/FiberRef/currentScheduler"),()=>Ie(uk)),lk=d(2,(t,e)=>Oe(t,Gn,e));var Of=V(Symbol.for("effect/FiberRef/currentRequestMap"),()=>Ie(new Map));var Eg=(t,e,r,n)=>{switch(t){case void 0:return e();case"unbounded":return r();case"inherit":return ht(Cp,o=>o==="unbounded"?r():o>1?n(o):e());default:return t>1?n(t):e()}},Vc=(t,e,r)=>{switch(t){case void 0:return e();case"unbounded":return r();case"inherit":return ht(Cp,n=>n==="unbounded"||n>1?r():e());default:return t>1?r():e()}};var wf="InterruptSignal",Mf="Stateful",Rf="Resume",Tf="YieldNow",If=t=>({_tag:wf,cause:t}),Sa=t=>({_tag:Mf,onFiber:t}),ei=t=>({_tag:Rf,effect:t}),pk=()=>({_tag:Tf});var BB="effect/FiberScope",Nf=Symbol.for(BB),Cg=class{[Nf]=Nf;fiberId=Lt;roots=new Set;add(e,r){this.roots.add(r),r.addObserver(()=>{this.roots.delete(r)})}},vg=class{fiberId;parent;[Nf]=Nf;constructor(e,r){this.fiberId=e,this.parent=r}add(e,r){this.parent.tell(Sa(n=>{n.addChild(r),r.addObserver(()=>{n.removeChild(r)})}))}},hk=t=>new vg(t.id(),t),Uo=V(Symbol.for("effect/FiberScope/Global"),()=>new Cg);var HB="effect/Fiber",Kc=Symbol.for(HB),Xc={_E:t=>t,_A:t=>t},qB={[Kc]:Xc,pipe(){return N(this,arguments)}},UB="effect/Fiber",dk=Symbol.for(UB);var _g=t=>t.await;var xk=t=>t.inheritAll;var gk=d(2,(t,e)=>t.interruptAsFork(e)),Rr=t=>Ms(At(t.await),t.inheritAll);var mX={...Sn,commit(){return Rr(this)},...qB,id:()=>Lt,await:Mo,children:_([]),inheritAll:Mo,poll:_(D()),interruptAsFork:()=>Mo};var zo="effect/FiberCurrent";var zB="effect/Logger",Sk=Symbol.for(zB),bk={_Message:t=>t,_Output:t=>t},Pf=t=>({[Sk]:bk,log:t,pipe(){return N(this,arguments)}});var gX={[Sk]:bk,log:mn,pipe(){return N(this,arguments)}};var Ek=Pf(({annotations:t,cause:e,date:r,fiberId:n,logLevel:o,message:s,spans:i})=>{let c=r.getTime(),p=[`timestamp=${r.toISOString()}`,`level=${o.label}`,`fiber=${Nl(n)}`].join(" "),f=p0(s);for(let g=0;g<f.length;g++){let m=xn(f[g]);m.length>0&&(p=p+" message=",p=Dg(m,p))}if(e!=null&&e._tag!=="Empty"&&(p=p+" cause=",p=Dg(vo(e,{renderErrorCause:!0}),p)),nc(i)){p=p+" ";let g=!0;for(let m of i)g?g=!1:p=p+" ",p=p+S(m,O_(c))}if(ME(t)>0){p=p+" ";let g=!0;for(let[m,a]of t)g?g=!1:p=p+" ",p=p+JB(m),p=p+"=",p=Dg(xn(a),p)}return p}),WB=t=>`"${t.replace(/\\([\s\S])|(")/g,"\\$1$2")}"`,jB=/^[^\s"=]+$/,Dg=(t,e)=>e+(t.match(jB)?t:WB(t));var JB=t=>t.replace(/[\s="]/g,"_");var ti={bold:"1",red:"31",green:"32",yellow:"33",blue:"34",cyan:"36",white:"37",gray:"90",black:"30",bgBrightRed:"101"},yX={None:[],All:[],Trace:[ti.gray],Debug:[ti.blue],Info:[ti.green],Warning:[ti.yellow],Error:[ti.red],Fatal:[ti.bgBrightRed,ti.black]};var Ck=typeof process=="object"&&process!==null&&typeof process.stdout=="object"&&process.stdout!==null,SX=Ck&&process.stdout.isTTY===!0,bX=Ck||"Deno"in globalThis;var vk="effect/MetricBoundaries",Ag=Symbol.for(vk),kg=class{values;[Ag]=Ag;constructor(e){this.values=e,this._hash=S(pe(vk),z(Tt(this.values)))}_hash;[B](){return this._hash}[L](e){return VB(e)&&I(this.values,e.values)}pipe(){return N(this,arguments)}},VB=t=>R(t,Ag),KB=t=>{let e=S(t,Sm(Re(Number.POSITIVE_INFINITY)),Am);return new kg(e)};var _k=t=>S(ym(t.count-1,e=>t.start*Math.pow(t.factor,e)),Bi,KB);var $B="effect/MetricKeyType",$c=Symbol.for($B),Fk="effect/MetricKeyType/Counter",Fg=Symbol.for(Fk),Ok="effect/MetricKeyType/Frequency",Og=Symbol.for(Ok),wk="effect/MetricKeyType/Gauge",wg=Symbol.for(wk),Mk="effect/MetricKeyType/Histogram",Mg=Symbol.for(Mk),Rk="effect/MetricKeyType/Summary",Rg=Symbol.for(Rk),Yc={_In:t=>t,_Out:t=>t},Tg=class{incremental;bigint;[$c]=Yc;[Fg]=Fg;constructor(e,r){this.incremental=e,this.bigint=r,this._hash=pe(Fk)}_hash;[B](){return this._hash}[L](e){return Ng(e)}pipe(){return N(this,arguments)}},YB=pe(Ok),Dk=class{preregisteredWords;[$c]=Yc;[Og]=Og;constructor(e){this.preregisteredWords=e}[B](){return YB}[L](e){return Pg(e)}pipe(){return N(this,arguments)}},QB=pe(wk),Ak=class{bigint;[$c]=Yc;[wg]=wg;constructor(e){this.bigint=e}[B](){return QB}[L](e){return Lg(e)}pipe(){return N(this,arguments)}},Ig=class{boundaries;[$c]=Yc;[Mg]=Mg;constructor(e){this.boundaries=e,this._hash=S(pe(Mk),z(P(this.boundaries)))}_hash;[B](){return this._hash}[L](e){return Bg(e)&&I(this.boundaries,e.boundaries)}pipe(){return N(this,arguments)}},kk=class{maxAge;maxSize;error;quantiles;[$c]=Yc;[Rg]=Rg;constructor(e,r,n,o){this.maxAge=e,this.maxSize=r,this.error=n,this.quantiles=o,this._hash=S(pe(Rk),z(P(this.maxAge)),z(P(this.maxSize)),z(P(this.error)),z(Tt(this.quantiles)))}_hash;[B](){return this._hash}[L](e){return Hg(e)&&I(this.maxAge,e.maxAge)&&this.maxSize===e.maxSize&&this.error===e.error&&I(this.quantiles,e.quantiles)}pipe(){return N(this,arguments)}},Tk=t=>new Tg(t?.incremental??!1,t?.bigint??!1);var Ik=t=>new Ig(t);var Ng=t=>R(t,Fg),Pg=t=>R(t,Og),Lg=t=>R(t,wg),Bg=t=>R(t,Mg),Hg=t=>R(t,Rg);var ZB="effect/MetricKey",Pk=Symbol.for(ZB),e3={_Type:t=>t},t3=Ni(I),Qc=class{name;keyType;description;tags;[Pk]=e3;constructor(e,r,n,o=[]){this.name=e,this.keyType=r,this.description=n,this.tags=o,this._hash=S(pe(this.name+this.description),z(P(this.keyType)),z(Tt(this.tags)))}_hash;[B](){return this._hash}[L](e){return r3(e)&&this.name===e.name&&I(this.keyType,e.keyType)&&I(this.description,e.description)&&t3(this.tags,e.tags)}pipe(){return N(this,arguments)}},r3=t=>R(t,Pk),Lk=(t,e)=>new Qc(t,Tk(e),Cr(e?.description));var Bk=(t,e,r)=>new Qc(t,Ik(e),Cr(r));var Hk=d(2,(t,e)=>e.length===0?t:new Qc(t.name,t.keyType,t.description,_r(t.tags,e)));var o3="effect/MetricState",Zc=Symbol.for(o3),qk="effect/MetricState/Counter",qg=Symbol.for(qk),Uk="effect/MetricState/Frequency",Ug=Symbol.for(Uk),zk="effect/MetricState/Gauge",zg=Symbol.for(zk),Wk="effect/MetricState/Histogram",Wg=Symbol.for(Wk),jk="effect/MetricState/Summary",jg=Symbol.for(jk),eu={_A:t=>t},Jg=class{count;[Zc]=eu;[qg]=qg;constructor(e){this.count=e}[B](){return S(P(qk),z(P(this.count)),Y(this))}[L](e){return i3(e)&&this.count===e.count}pipe(){return N(this,arguments)}},s3=Ni(I),Gg=class{occurrences;[Zc]=eu;[Ug]=Ug;constructor(e){this.occurrences=e}_hash;[B](){return S(pe(Uk),z(Tt(se(this.occurrences.entries()))),Y(this))}[L](e){return a3(e)&&s3(se(this.occurrences.entries()),se(e.occurrences.entries()))}pipe(){return N(this,arguments)}},Vg=class{value;[Zc]=eu;[zg]=zg;constructor(e){this.value=e}[B](){return S(P(zk),z(P(this.value)),Y(this))}[L](e){return c3(e)&&this.value===e.value}pipe(){return N(this,arguments)}},Kg=class{buckets;count;min;max;sum;[Zc]=eu;[Wg]=Wg;constructor(e,r,n,o,s){this.buckets=e,this.count=r,this.min=n,this.max=o,this.sum=s}[B](){return S(P(Wk),z(P(this.buckets)),z(P(this.count)),z(P(this.min)),z(P(this.max)),z(P(this.sum)),Y(this))}[L](e){return u3(e)&&I(this.buckets,e.buckets)&&this.count===e.count&&this.min===e.min&&this.max===e.max&&this.sum===e.sum}pipe(){return N(this,arguments)}},Xg=class{error;quantiles;count;min;max;sum;[Zc]=eu;[jg]=jg;constructor(e,r,n,o,s,i){this.error=e,this.quantiles=r,this.count=n,this.min=o,this.max=s,this.sum=i}[B](){return S(P(jk),z(P(this.error)),z(P(this.quantiles)),z(P(this.count)),z(P(this.min)),z(P(this.max)),z(P(this.sum)),Y(this))}[L](e){return l3(e)&&this.error===e.error&&I(this.quantiles,e.quantiles)&&this.count===e.count&&this.min===e.min&&this.max===e.max&&this.sum===e.sum}pipe(){return N(this,arguments)}},Jk=t=>new Jg(t),Gk=t=>new Gg(t),Vk=t=>new Vg(t),Kk=t=>new Kg(t.buckets,t.count,t.min,t.max,t.sum),Xk=t=>new Xg(t.error,t.quantiles,t.count,t.min,t.max,t.sum);var i3=t=>R(t,qg),a3=t=>R(t,Ug),c3=t=>R(t,zg),u3=t=>R(t,Wg),l3=t=>R(t,jg);var f3="effect/MetricHook",h3=Symbol.for(f3),m3={_In:t=>t,_Out:t=>t},tu=t=>({[h3]:m3,pipe(){return N(this,arguments)},...t});var $k=BigInt(0),Qk=t=>{let e=t.keyType.bigint?$k:0,r=t.keyType.incremental?t.keyType.bigint?o=>o>=$k:o=>o>=0:o=>!0,n=o=>{r(o)&&(e=e+o)};return tu({get:()=>Jk(e),update:n,modify:n})},Zk=t=>{let e=new Map;for(let n of t.keyType.preregisteredWords)e.set(n,0);let r=n=>{let o=e.get(n)??0;e.set(n,o+1)};return tu({get:()=>Gk(e),update:r,modify:r})},eF=(t,e)=>{let r=e;return tu({get:()=>Vk(r),update:n=>{r=n},modify:n=>{r=r+n}})},tF=t=>{let e=t.keyType.boundaries.values,r=e.length,n=new Uint32Array(r+1),o=new Float32Array(r),s=0,i=0,c=Number.MAX_VALUE,l=Number.MIN_VALUE;S(e,as(mo),Hr((g,m)=>{o[m]=g}));let p=g=>{let m=0,a=r;for(;m!==a;){let u=Math.floor(m+(a-m)/2),h=o[u];g<=h?a=u:m=u,a===m+1&&(g<=o[m]?a=m:m=a)}n[m]=n[m]+1,s=s+1,i=i+g,g<c&&(c=g),g>l&&(l=g)},f=()=>{let g=Ka(r),m=0;for(let a=0;a<r;a++){let u=o[a],h=n[a];m=m+h,g[a]=[u,m]}return g};return tu({get:()=>Kk({buckets:f(),count:s,min:c,max:l,sum:i}),update:p,modify:p})},rF=t=>{let{error:e,maxAge:r,maxSize:n,quantiles:o}=t.keyType,s=S(o,as(mo)),i=Ka(n),c=0,l=0,p=0,f=Number.MAX_VALUE,g=Number.MIN_VALUE,m=u=>{let h=[],x=0;for(;x!==n-1;){let y=i[x];if(y!=null){let[b,F]=y,O=xo(u-b);Wm(O,Um)&&O<=r&&h.push(F)}x=x+1}return d3(e,s,as(h,mo))},a=(u,h)=>{if(n>0){c=c+1;let x=c%n;i[x]=[h,u]}l=l+1,p=p+u,u<f&&(f=u),u>g&&(g=u)};return tu({get:()=>Xk({error:e,quantiles:m(Date.now()),count:l,min:f,max:g,sum:p}),update:([u,h])=>a(u,h),modify:([u,h])=>a(u,h)})},d3=(t,e,r)=>{let n=r.length;if(!xt(e))return Dr();let o=e[0],s=e.slice(1),i=Yk(t,n,D(),0,o,r),c=_t(i);return s.forEach(l=>{c.push(Yk(t,n,i.value,i.consumed,l,i.rest))}),Hr(c,l=>[l.quantile,l.value])},Yk=(t,e,r,n,o,s)=>{let i=t,c=e,l=r,p=n,f=o,g=s,m=t,a=e,u=r,h=n,x=o,y=s;for(;;){if(!xt(g))return{quantile:f,value:D(),consumed:p,rest:[]};if(f===1)return{quantile:f,value:A(Em(g)),consumed:p+g.length,rest:[]};let b=x0(g,X=>X<=g[0]),F=f*c,O=i/2*F,M=p+b[0].length,H=Math.abs(M-F);if(M<F-O){m=i,a=c,u=ho(g),h=M,x=f,y=b[1],i=m,c=a,l=u,p=h,f=x,g=y;continue}if(M>F+O)return{quantile:f,value:l,consumed:p,rest:g};switch(l._tag){case"None":{m=i,a=c,u=ho(g),h=M,x=f,y=b[1],i=m,c=a,l=u,p=h,f=x,g=y;continue}case"Some":{let X=Math.abs(F-l.value);if(H<X){m=i,a=c,u=ho(g),h=M,x=f,y=b[1],i=m,c=a,l=u,p=h,f=x,g=y;continue}return{quantile:f,value:A(l.value),consumed:p,rest:g}}}}throw new Error("BUG: MetricHook.resolveQuantiles - please report an issue at https://github.com/Effect-TS/effect/issues")};var g3="effect/MetricPair",y3=Symbol.for(g3),S3={_Type:t=>t};var nF=(t,e)=>({[y3]:S3,metricKey:t,metricState:e,pipe(){return N(this,arguments)}});var E3="effect/MetricRegistry",oF=Symbol.for(E3),$g=class{[oF]=oF;map=Ws();snapshot(){let e=[];for(let[r,n]of this.map)e.push(nF(r,n.get()));return e}get(e){let r=S(this.map,We(e),lt);if(r==null){if(Ng(e.keyType))return this.getCounter(e);if(Lg(e.keyType))return this.getGauge(e);if(Pg(e.keyType))return this.getFrequency(e);if(Bg(e.keyType))return this.getHistogram(e);if(Hg(e.keyType))return this.getSummary(e);throw new Error("BUG: MetricRegistry.get - unknown MetricKeyType - please report an issue at https://github.com/Effect-TS/effect/issues")}else return r}getCounter(e){let r=S(this.map,We(e),lt);if(r==null){let n=Qk(e);S(this.map,Mr(e))||S(this.map,Wt(e,n)),r=n}return r}getFrequency(e){let r=S(this.map,We(e),lt);if(r==null){let n=Zk(e);S(this.map,Mr(e))||S(this.map,Wt(e,n)),r=n}return r}getGauge(e){let r=S(this.map,We(e),lt);if(r==null){let n=eF(e,e.keyType.bigint?BigInt(0):0);S(this.map,Mr(e))||S(this.map,Wt(e,n)),r=n}return r}getHistogram(e){let r=S(this.map,We(e),lt);if(r==null){let n=tF(e);S(this.map,Mr(e))||S(this.map,Wt(e,n)),r=n}return r}getSummary(e){let r=S(this.map,We(e),lt);if(r==null){let n=rF(e);S(this.map,Mr(e))||S(this.map,Wt(e,n)),r=n}return r}},sF=()=>new $g;var v3="effect/Metric",_3=Symbol.for(v3),D3={_Type:t=>t,_In:t=>t,_Out:t=>t},iF=V(Symbol.for("effect/Metric/globalMetricRegistry"),()=>sF()),aF=function(t,e,r,n){let o=Object.assign(s=>ft(s,i=>k3(o,i)),{[_3]:D3,keyType:t,unsafeUpdate:e,unsafeValue:r,unsafeModify:n,register(){return this.unsafeValue([]),this},pipe(){return N(this,arguments)}});return o};var ru=(t,e)=>cF(Lk(t,e));var cF=t=>{let e,r=new WeakMap,n=o=>{if(o.length===0)return e!==void 0||(e=iF.get(t)),e;let s=r.get(o);return s!==void 0||(s=iF.get(Hk(t,o)),r.set(o,s)),s};return aF(t.keyType,(o,s)=>n(s).update(o),o=>n(o).get(),(o,s)=>n(s).modify(o))};var uF=(t,e,r)=>cF(Bk(t,e,r));var lF=d(3,(t,e,r)=>A3(t,[Vs(e,r)]));var A3=d(2,(t,e)=>aF(t.keyType,(r,n)=>t.unsafeUpdate(r,_r(e,n)),r=>t.unsafeValue(_r(e,r)),(r,n)=>t.unsafeModify(r,_r(e,n))));var k3=d(2,(t,e)=>ht(Bn,r=>k(()=>t.unsafeUpdate(e,r))));var O3="effect/Request",Yg=Symbol.for(O3),w3={_E:t=>t,_A:t=>t},XX={...wi,[Yg]:w3},pF=t=>R(t,Yg);var Qg=d(2,(t,e)=>ht(Of,r=>k(()=>{if(r.has(t)){let n=r.get(t);n.state.completed||(n.state.completed=!0,Ic(n.result,e))}})));var ba=class{count=0;observers=new Set;interrupted=!1;addObserver(e){this.observers.add(e)}removeObserver(e){this.observers.delete(e)}increment(){this.count++,this.observers.forEach(e=>e(this.count))}decrement(){this.count--,this.observers.forEach(e=>e(this.count))}};var Wo={Forward:0,Backward:1},Lf=class t{self;stack;direction;count=0;constructor(e,r,n){this.self=e,this.stack=r,this.direction=n}clone(){return new t(this.self,this.stack.slice(),this.direction)}reversed(){return new t(this.self,this.stack.slice(),this.direction===Wo.Forward?Wo.Backward:Wo.Forward)}next(){let e=this.entry;switch(this.count++,this.direction===Wo.Forward?this.moveNext():this.movePrev(),e._tag){case"None":return{done:!0,value:this.count};case"Some":return{done:!1,value:e.value}}}get key(){return this.stack.length>0?A(this.stack[this.stack.length-1].key):D()}get value(){return this.stack.length>0?A(this.stack[this.stack.length-1].value):D()}get entry(){return He(il(this.stack),e=>[e.key,e.value])}get index(){let e=0,r=this.stack;if(r.length===0){let n=this.self._root;return n!=null?n.count:0}else r[r.length-1].left!=null&&(e=r[r.length-1].left.count);for(let n=r.length-2;n>=0;--n)r[n+1]===r[n].right&&(++e,r[n].left!=null&&(e+=r[n].left.count));return e}moveNext(){let e=this.stack;if(e.length===0)return;let r=e[e.length-1];if(r.right!=null)for(r=r.right;r!=null;)e.push(r),r=r.left;else for(e.pop();e.length>0&&e[e.length-1].right===r;)r=e[e.length-1],e.pop()}get hasNext(){let e=this.stack;if(e.length===0)return!1;if(e[e.length-1].right!=null)return!0;for(let r=e.length-1;r>0;--r)if(e[r-1].left===e[r])return!0;return!1}movePrev(){let e=this.stack;if(e.length===0)return;let r=e[e.length-1];if(r!=null&&r.left!=null)for(r=r.left;r!=null;)e.push(r),r=r.right;else for(e.pop();e.length>0&&e[e.length-1].left===r;)r=e[e.length-1],e.pop()}get hasPrev(){let e=this.stack;if(e.length===0)return!1;if(e[e.length-1].left!=null)return!0;for(let r=e.length-1;r>0;--r)if(e[r-1].right===e[r])return!0;return!1}};var W={Red:0,Black:1},Tr=({color:t,count:e,key:r,left:n,right:o,value:s})=>({color:t,key:r,value:s,left:n,right:o,count:e});function Zg(t,e){t.key=e.key,t.value=e.value,t.left=e.left,t.right=e.right,t.color=e.color,t.count=e.count}var Vn=({count:t,key:e,left:r,right:n,value:o},s)=>({color:s,key:e,value:o,left:r,right:n,count:t}),ve=t=>{t.count=1+(t.left?.count??0)+(t.right?.count??0)};var fF="effect/RedBlackTree",ey=Symbol.for(fF),T3={_Key:t=>t,_Value:t=>t},I3={[ey]:T3,[B](){let t=P(fF);for(let e of this)t^=S(P(e[0]),z(P(e[1])));return Y(this,t)},[L](t){if(hF(t)){if((this._root?.count??0)!==(t._root?.count??0))return!1;let e=Array.from(t);return Array.from(this).every((r,n)=>{let o=e[n];return I(r[0],o[0])&&I(r[1],o[1])})}return!1},[Symbol.iterator](){let t=[],e=this._root;for(;e!=null;)t.push(e),e=e.left;return new Lf(this,t,Wo.Forward)},toString(){return oe(this.toJSON())},toJSON(){return{_id:"RedBlackTree",values:Array.from(this).map(re)}},[Q](){return this.toJSON()},pipe(){return N(this,arguments)}},nu=(t,e)=>{let r=Object.create(I3);return r._ord=t,r._root=e,r},hF=t=>R(t,ey);var mF=d(2,(t,e)=>{let r=t._ord,n=t._root;for(;n!==void 0;){let o=r(e,n.key);if(I(e,n.key))return A(n.value);o<=0?n=n.left:n=n.right}return D()});var ty=d(2,(t,e)=>Z(mF(t,e))),dF=d(3,(t,e,r)=>{let n=t._ord,o=t._root,s=[],i=[];for(;o!=null;){let c=n(e,o.key);s.push(o),i.push(c),c<=0?o=o.left:o=o.right}s.push({color:W.Red,key:e,value:r,left:void 0,right:void 0,count:1});for(let c=s.length-2;c>=0;--c){let l=s[c];i[c]<=0?s[c]={color:l.color,key:l.key,value:l.value,left:s[c+1],right:l.right,count:l.count+1}:s[c]={color:l.color,key:l.key,value:l.value,left:l.left,right:s[c+1],count:l.count+1}}for(let c=s.length-1;c>1;--c){let l=s[c-1],p=s[c];if(l.color===W.Black||p.color===W.Black)break;let f=s[c-2];if(f.left===l)if(l.left===p){let g=f.right;if(g&&g.color===W.Red)l.color=W.Black,f.right=Vn(g,W.Black),f.color=W.Red,c-=1;else{if(f.color=W.Red,f.left=l.right,l.color=W.Black,l.right=f,s[c-2]=l,s[c-1]=p,ve(f),ve(l),c>=3){let m=s[c-3];m.left===f?m.left=l:m.right=l}break}}else{let g=f.right;if(g&&g.color===W.Red)l.color=W.Black,f.right=Vn(g,W.Black),f.color=W.Red,c-=1;else{if(l.right=p.left,f.color=W.Red,f.left=p.right,p.color=W.Black,p.left=l,p.right=f,s[c-2]=p,s[c-1]=l,ve(f),ve(l),ve(p),c>=3){let m=s[c-3];m.left===f?m.left=p:m.right=p}break}}else if(l.right===p){let g=f.left;if(g&&g.color===W.Red)l.color=W.Black,f.left=Vn(g,W.Black),f.color=W.Red,c-=1;else{if(f.color=W.Red,f.right=l.left,l.color=W.Black,l.left=f,s[c-2]=l,s[c-1]=p,ve(f),ve(l),c>=3){let m=s[c-3];m.right===f?m.right=l:m.left=l}break}}else{let g=f.left;if(g&&g.color===W.Red)l.color=W.Black,f.left=Vn(g,W.Black),f.color=W.Red,c-=1;else{if(l.left=p.right,f.color=W.Red,f.right=p.left,p.color=W.Black,p.right=l,p.left=f,s[c-2]=p,s[c-1]=l,ve(f),ve(l),ve(p),c>=3){let m=s[c-3];m.right===f?m.right=p:m.left=p}break}}}return s[0].color=W.Black,nu(t._ord,s[0])}),xF=t=>gF(t,Wo.Forward);var gF=(t,e)=>{let r=t[Symbol.iterator](),n=0;return{[Symbol.iterator]:()=>gF(t,e),next:()=>{n++;let o=r.key;switch(e===Wo.Forward?r.moveNext():r.movePrev(),o._tag){case"None":return{done:!0,value:n};case"Some":return{done:!1,value:o.value}}}}};var yF=d(2,(t,e)=>{if(!ty(t,e))return t;let r=t._ord,n=r,o=t._root,s=[];for(;o!==void 0;){let l=n(e,o.key);s.push(o),I(e,o.key)?o=void 0:l<=0?o=o.left:o=o.right}if(s.length===0)return t;let i=new Array(s.length),c=s[s.length-1];i[i.length-1]={color:c.color,key:c.key,value:c.value,left:c.left,right:c.right,count:c.count};for(let l=s.length-2;l>=0;--l)c=s[l],c.left===s[l+1]?i[l]={color:c.color,key:c.key,value:c.value,left:i[l+1],right:c.right,count:c.count}:i[l]={color:c.color,key:c.key,value:c.value,left:c.left,right:i[l+1],count:c.count};if(c=i[i.length-1],c.left!==void 0&&c.right!==void 0){let l=i.length;for(c=c.left;c.right!=null;)i.push(c),c=c.right;let p=i[l-1];i.push({color:c.color,key:p.key,value:p.value,left:c.left,right:c.right,count:c.count}),i[l-1].key=c.key,i[l-1].value=c.value;for(let f=i.length-2;f>=l;--f)c=i[f],i[f]={color:c.color,key:c.key,value:c.value,left:c.left,right:i[f+1],count:c.count};i[l-1].left=i[l]}if(c=i[i.length-1],c.color===W.Red){let l=i[i.length-2];l.left===c?l.left=void 0:l.right===c&&(l.right=void 0),i.pop();for(let p=0;p<i.length;++p)i[p].count--;return nu(r,i[0])}else if(c.left!==void 0||c.right!==void 0){c.left!==void 0?Zg(c,c.left):c.right!==void 0&&Zg(c,c.right),c.color=W.Black;for(let l=0;l<i.length-1;++l)i[l].count--;return nu(r,i[0])}else{if(i.length===1)return nu(r,void 0);{for(let p=0;p<i.length;++p)i[p].count--;let l=i[i.length-2];N3(i),l.left===c?l.left=void 0:l.right=void 0}}return nu(r,i[0])});var N3=t=>{let e,r,n,o;for(let s=t.length-1;s>=0;--s){if(e=t[s],s===0){e.color=W.Black;return}if(r=t[s-1],r.left===e){if(n=r.right,n!==void 0&&n.right!==void 0&&n.right.color===W.Red){if(n=r.right=Tr(n),o=n.right=Tr(n.right),r.right=n.left,n.left=r,n.right=o,n.color=r.color,e.color=W.Black,r.color=W.Black,o.color=W.Black,ve(r),ve(n),s>1){let i=t[s-2];i.left===r?i.left=n:i.right=n}t[s-1]=n;return}else if(n!==void 0&&n.left!==void 0&&n.left.color===W.Red){if(n=r.right=Tr(n),o=n.left=Tr(n.left),r.right=o.left,n.left=o.right,o.left=r,o.right=n,o.color=r.color,r.color=W.Black,n.color=W.Black,e.color=W.Black,ve(r),ve(n),ve(o),s>1){let i=t[s-2];i.left===r?i.left=o:i.right=o}t[s-1]=o;return}if(n!==void 0&&n.color===W.Black)if(r.color===W.Red){r.color=W.Black,r.right=Vn(n,W.Red);return}else{r.right=Vn(n,W.Red);continue}else if(n!==void 0){if(n=Tr(n),r.right=n.left,n.left=r,n.color=r.color,r.color=W.Red,ve(r),ve(n),s>1){let i=t[s-2];i.left===r?i.left=n:i.right=n}t[s-1]=n,t[s]=r,s+1<t.length?t[s+1]=e:t.push(e),s=s+2}}else{if(n=r.left,n!==void 0&&n.left!==void 0&&n.left.color===W.Red){if(n=r.left=Tr(n),o=n.left=Tr(n.left),r.left=n.right,n.right=r,n.left=o,n.color=r.color,e.color=W.Black,r.color=W.Black,o.color=W.Black,ve(r),ve(n),s>1){let i=t[s-2];i.right===r?i.right=n:i.left=n}t[s-1]=n;return}else if(n!==void 0&&n.right!==void 0&&n.right.color===W.Red){if(n=r.left=Tr(n),o=n.right=Tr(n.right),r.left=o.right,n.right=o.left,o.right=r,o.left=n,o.color=r.color,r.color=W.Black,n.color=W.Black,e.color=W.Black,ve(r),ve(n),ve(o),s>1){let i=t[s-2];i.right===r?i.right=o:i.left=o}t[s-1]=o;return}if(n!==void 0&&n.color===W.Black)if(r.color===W.Red){r.color=W.Black,r.left=Vn(n,W.Red);return}else{r.left=Vn(n,W.Red);continue}else if(n!==void 0){if(n=Tr(n),r.left=n.right,n.right=r,n.color=r.color,r.color=W.Red,ve(r),ve(n),s>1){let i=t[s-2];i.right===r?i.right=n:i.left=n}t[s-1]=n,t[s]=r,s+1<t.length?t[s+1]=e:t.push(e),s=s+2}}}};var SF=ty,bF=dF,EF=xF;var CF=yF;var ry=Symbol.for("effect/SortedSet"),L3={[ry]:{_A:t=>t},[B](){return S(P(this.keyTree),z(P(ry)),Y(this))},[L](t){return B3(t)&&I(this.keyTree,t.keyTree)},[Symbol.iterator](){return EF(this.keyTree)},toString(){return oe(this.toJSON())},toJSON(){return{_id:"SortedSet",values:Array.from(this).map(re)}},[Q](){return this.toJSON()},pipe(){return N(this,arguments)}},_F=t=>{let e=Object.create(L3);return e.keyTree=t,e},B3=t=>R(t,ry);var DF=d(2,(t,e)=>SF(t.keyTree,e)?t:_F(bF(t.keyTree,e,!0)));var AF=d(2,(t,e)=>_F(CF(t.keyTree,e)));var H3="effect/Supervisor",va=Symbol.for(H3),ou={_T:t=>t},Ea=class t{underlying;value0;[va]=ou;constructor(e,r){this.underlying=e,this.value0=r}get value(){return this.value0}onStart(e,r,n,o){this.underlying.onStart(e,r,n,o)}onEnd(e,r){this.underlying.onEnd(e,r)}onEffect(e,r){this.underlying.onEffect(e,r)}onSuspend(e){this.underlying.onSuspend(e)}onResume(e){this.underlying.onResume(e)}map(e){return new t(this,S(this.value,w(e)))}zip(e){return new Ca(this,e)}},Ca=class t{left;right;_tag="Zip";[va]=ou;constructor(e,r){this.left=e,this.right=r}get value(){return ws(this.left.value,this.right.value)}onStart(e,r,n,o){this.left.onStart(e,r,n,o),this.right.onStart(e,r,n,o)}onEnd(e,r){this.left.onEnd(e,r),this.right.onEnd(e,r)}onEffect(e,r){this.left.onEffect(e,r),this.right.onEffect(e,r)}onSuspend(e){this.left.onSuspend(e),this.right.onSuspend(e)}onResume(e){this.left.onResume(e),this.right.onResume(e)}map(e){return new Ea(this,S(this.value,w(e)))}zip(e){return new t(this,e)}},sy=t=>R(t,va)&&co(t,"Zip"),ny=class{[va]=ou;fibers=new Set;get value(){return k(()=>Array.from(this.fibers))}onStart(e,r,n,o){this.fibers.add(o)}onEnd(e,r){this.fibers.delete(r)}onEffect(e,r){}onSuspend(e){}onResume(e){}map(e){return new Ea(this,S(this.value,w(e)))}zip(e){return new Ca(this,e)}onRun(e,r){return e()}},oy=class{effect;[va]=ou;constructor(e){this.effect=e}get value(){return this.effect}onStart(e,r,n,o){}onEnd(e,r){}onEffect(e,r){}onSuspend(e){}onResume(e){}map(e){return new Ea(this,S(this.value,w(e)))}zip(e){return new Ca(this,e)}onRun(e,r){return e()}},FF=class{ref;[va]=ou;constructor(e){this.ref=e}get value(){return k(()=>Pt(this.ref))}onStart(e,r,n,o){S(this.ref,pr(S(Pt(this.ref),DF(o))))}onEnd(e,r){S(this.ref,pr(S(Pt(this.ref),AF(r))))}onEffect(e,r){}onSuspend(e){}onResume(e){}map(e){return new Ea(this,S(this.value,w(e)))}zip(e){return new Ca(this,e)}onRun(e,r){return e()}},q3=()=>new ny,OF=k(q3),U3=t=>new oy(t),ri=V("effect/Supervisor/none",()=>U3(G));var wF=Eo;var RF="Empty",TF="AddSupervisor",IF="RemoveSupervisor",NF="AndThen",_a={_tag:RF},Hf=(t,e)=>({_tag:NF,first:t,second:e}),z3=(t,e)=>W3(e,Re(t)),W3=(t,e)=>{let r=t,n=e;for(;Ze(n);){let o=Xe(n);switch(o._tag){case RF:{n=it(n);break}case TF:{r=r.zip(o.supervisor),n=it(n);break}case IF:{r=iy(r,o.supervisor),n=it(n);break}case NF:{n=Ke(o.first)(Ke(o.second)(it(n)));break}}}return r},iy=(t,e)=>I(t,e)?ri:sy(t)?iy(t.left,e).zip(iy(t.right,e)):t,qf=t=>I(t,ri)?Gr():sy(t)?S(qf(t.left),_n(qf(t.right))):ps(t),j3=(t,e)=>{if(I(t,e))return _a;let r=qf(t),n=qf(e),o=S(n,td(r),ms(_a,(i,c)=>Hf(i,{_tag:TF,supervisor:c}))),s=S(r,td(n),ms(_a,(i,c)=>Hf(i,{_tag:IF,supervisor:c})));return Hf(o,s)},PF=wF({empty:_a,patch:z3,combine:Hf,diff:j3});var G3=ru("effect_fiber_started",{incremental:!0}),LF=ru("effect_fiber_active"),V3=ru("effect_fiber_successes",{incremental:!0}),K3=ru("effect_fiber_failures",{incremental:!0}),X3=lF(uF("effect_fiber_lifetimes",_k({start:.5,factor:2,count:35})),"time_unit","milliseconds"),su="Continue",$3="Done",BF="Yield",Y3={_E:t=>t,_A:t=>t},Uf=t=>{throw new Error(`BUG: FiberRuntime - ${xn(t)} - please report an issue at https://github.com/Effect-TS/effect/issues`)},Kn=Symbol.for("effect/internal/fiberRuntime/YieldedOp"),Xn=V("effect/internal/fiberRuntime/yieldedOpChannel",()=>({currentOp:null})),iu={[Ai]:(t,e,r)=>Me(()=>e.effect_instruction_i1(r)),OnStep:(t,e,r)=>me(me(r)),[ki]:(t,e,r)=>Me(()=>e.effect_instruction_i2(r)),[Ja]:(t,e,r)=>(t.patchRuntimeFlags(t.currentRuntimeFlags,e.patch),kn(t.currentRuntimeFlags)&&t.isInterrupted()?fe(t.getInterruptedCause()):me(r)),[Fi]:(t,e,r)=>(Me(()=>e.effect_instruction_i2(r)),Me(()=>e.effect_instruction_i0())?(t.pushStack(e),Me(()=>e.effect_instruction_i1())):G),[is]:(t,e,r)=>{let n=Me(()=>e.effect_instruction_i0.next(r));return n.done?me(n.value):(t.pushStack(e),Ci(n.value))}},Q3={[wf]:(t,e,r,n)=>(t.processNewInterruptSignal(n.cause),kn(e)?fe(n.cause):r),[Rf]:(t,e,r,n)=>{throw new Error("It is illegal to have multiple concurrent run loops in a single fiber")},[Mf]:(t,e,r,n)=>(n.onFiber(t,pg(e)),r),[Tf]:(t,e,r,n)=>E(tn(),()=>r)},Z3=t=>qt(uC(t),e=>oi(pC(e),([r,n])=>{let o=new Map,s=[];for(let c of n){s.push(ur(c));for(let l of c)o.set(l.request,l)}let i=s.flat();return Oe(fH(r.runAll(s),i,()=>i.forEach(c=>{c.listeners.interrupted=!0})),Of,o)},!1,!1)),au=class extends Wn{[Kc]=Xc;[dk]=Y3;_fiberRefs;_fiberId;_queue=new Array;_children=null;_observers=new Array;_running=!1;_stack=[];_asyncInterruptor=null;_asyncBlockingOn=null;_exitValue=null;_steps=[];_isYielding=!1;currentRuntimeFlags;currentOpCount=0;currentSupervisor;currentScheduler;currentTracer;currentSpan;currentContext;currentDefaultServices;constructor(e,r,n){if(super(),this.currentRuntimeFlags=n,this._fiberId=e,this._fiberRefs=r,Dd(n)){let o=this.getFiberRef(Bn);G3.unsafeUpdate(1,o),LF.unsafeUpdate(1,o)}this.refreshRefCache()}commit(){return Rr(this)}id(){return this._fiberId}resume(e){this.tell(ei(e))}get status(){return this.ask((e,r)=>r)}get runtimeFlags(){return this.ask((e,r)=>XA(r)?e.currentRuntimeFlags:r.runtimeFlags)}scope(){return hk(this)}get children(){return this.ask(e=>Array.from(e.getChildren()))}getChildren(){return this._children===null&&(this._children=new Set),this._children}getInterruptedCause(){return this.getFiberRef(Is)}fiberRefs(){return this.ask(e=>e.getFiberRefs())}ask(e){return q(()=>{let r=Mc(this._fiberId);return this.tell(Sa((n,o)=>{Ic(r,k(()=>e(n,o)))})),rt(r)})}tell(e){this._queue.push(e),this._running||(this._running=!0,this.drainQueueLaterOnExecutor())}get await(){return tt(e=>{let r=n=>e(_(n));return this.tell(Sa((n,o)=>{n._exitValue!==null?r(this._exitValue):n.addObserver(r)})),k(()=>this.tell(Sa((n,o)=>{n.removeObserver(r)})))},this.id())}get inheritAll(){return ie((e,r)=>{let n=e.id(),o=e.getFiberRefs(),s=r.runtimeFlags,i=this.getFiberRefs(),c=qp(o,n,i);e.setFiberRefs(c);let l=e.getFiberRef(UF),p=S(fr(s,l),Od($r),Od(Gl));return wo(p)})}get poll(){return k(()=>Cr(this._exitValue))}unsafePoll(){return this._exitValue}interruptAsFork(e){return k(()=>this.tell(If(Vt(e))))}unsafeInterruptAsFork(e){this.tell(If(Vt(e)))}addObserver(e){this._exitValue!==null?e(this._exitValue):this._observers.push(e)}removeObserver(e){this._observers=this._observers.filter(r=>r!==e)}getFiberRefs(){return this.setFiberRef(UF,this.currentRuntimeFlags),this._fiberRefs}unsafeDeleteFiberRef(e){this._fiberRefs=Bc(this._fiberRefs,e)}getFiberRef(e){return this._fiberRefs.locals.has(e)?this._fiberRefs.locals.get(e)[0][1]:e.initial}setFiberRef(e,r){this._fiberRefs=ca(this._fiberRefs,{fiberId:this._fiberId,fiberRef:e,value:r}),this.refreshRefCache()}refreshRefCache(){this.currentDefaultServices=this.getFiberRef(we),this.currentTracer=this.currentDefaultServices.unsafeMap.get(Un.key),this.currentSupervisor=this.getFiberRef(Kf),this.currentScheduler=this.getFiberRef(Gn),this.currentContext=this.getFiberRef(zt),this.currentSpan=this.currentContext.unsafeMap.get(wt.key)}setFiberRefs(e){this._fiberRefs=e,this.refreshRefCache()}addChild(e){this.getChildren().add(e)}removeChild(e){this.getChildren().delete(e)}transferChildren(e){let r=this._children;if(this._children=null,r!==null&&r.size>0)for(let n of r)n._exitValue===null&&e.add(this.currentRuntimeFlags,n)}drainQueueOnCurrentThread(){let e=!0;for(;e;){let r=su,n=globalThis[zo];globalThis[zo]=this;try{for(;r===su;)r=this._queue.length===0?$3:this.evaluateMessageWhileSuspended(this._queue.splice(0,1)[0])}finally{this._running=!1,globalThis[zo]=n}this._queue.length>0&&!this._running?(this._running=!0,r===BF?(this.drainQueueLaterOnExecutor(),e=!1):e=!0):e=!1}}drainQueueLaterOnExecutor(){this.currentScheduler.scheduleTask(this.run,this.getFiberRef(Pn))}drainQueueWhileRunning(e,r){let n=r;for(;this._queue.length>0;){let o=this._queue.splice(0,1)[0];n=Q3[o._tag](this,e,n,o)}return n}isInterrupted(){return!Ql(this.getFiberRef(Is))}addInterruptedCause(e){let r=this.getFiberRef(Is);this.setFiberRef(Is,De(r,e))}processNewInterruptSignal(e){this.addInterruptedCause(e),this.sendInterruptSignalToAllChildren()}sendInterruptSignalToAllChildren(){if(this._children===null||this._children.size===0)return!1;let e=!1;for(let r of this._children)r.tell(If(Vt(this.id()))),e=!0;return e}interruptAllChildren(){if(this.sendInterruptSignalToAllChildren()){let e=this._children.values();this._children=null;let r=!1;return ta({while:()=>!r,body:()=>{let o=e.next();return o.done?k(()=>{r=!0}):Ae(o.value.await)},step:()=>{}})}return null}reportExitValue(e){if(Dd(this.currentRuntimeFlags)){let r=this.getFiberRef(Bn),n=this.id().startTimeMillis,o=Date.now();switch(X3.unsafeUpdate(o-n,r),LF.unsafeUpdate(-1,r),e._tag){case Le:{V3.unsafeUpdate(1,r);break}case Pe:{K3.unsafeUpdate(1,r);break}}}if(e._tag==="Failure"){let r=this.getFiberRef(_c);!Ds(e.cause)&&r._tag==="Some"&&this.log("Fiber terminated with an unhandled error",e.cause,r)}}setExitValue(e){this._exitValue=e,this.reportExitValue(e);for(let r=this._observers.length-1;r>=0;r--)this._observers[r](e);this._observers=[]}getLoggers(){return this.getFiberRef(jF)}log(e,r,n){let o=Z(n)?n.value:this.getFiberRef(Xd),s=this.getFiberRef(WF);if(__(s,o))return;let i=this.getFiberRef(Ep),c=this.getFiberRef(Ln),l=this.getLoggers(),p=this.getFiberRefs();if(fs(l)>0){let f=st(this.getFiberRef(we),Ot),g=new Date(f.unsafeCurrentTimeMillis());Hb(p,()=>{for(let m of l)m.log({fiberId:this.id(),logLevel:o,message:e,cause:r,context:p,spans:i,annotations:c,date:g})})}}evaluateMessageWhileSuspended(e){switch(e._tag){case Tf:return BF;case wf:return this.processNewInterruptSignal(e.cause),this._asyncInterruptor!==null&&(this._asyncInterruptor(fe(e.cause)),this._asyncInterruptor=null),su;case Rf:return this._asyncInterruptor=null,this._asyncBlockingOn=null,this.evaluateEffect(e.effect),su;case Mf:return e.onFiber(this,this._exitValue!==null?VA:KA(this.currentRuntimeFlags,this._asyncBlockingOn)),su;default:return Uf(e)}}evaluateEffect(e){this.currentSupervisor.onResume(this);try{let r=kn(this.currentRuntimeFlags)&&this.isInterrupted()?fe(this.getInterruptedCause()):e;for(;r!==null;){let n=r,o=this.runLoop(n);if(o===Kn){let s=Xn.currentOp;Xn.currentOp=null,s._op===Oi?sC(this.currentRuntimeFlags)?(this.tell(pk()),this.tell(ei(kt)),r=null):r=kt:s._op===os&&(r=null)}else{this.currentRuntimeFlags=S(this.currentRuntimeFlags,vd(Gl));let s=this.interruptAllChildren();s!==null?r=E(s,()=>o):(this._queue.length===0?this.setExitValue(o):this.tell(ei(o)),r=null)}}}finally{this.currentSupervisor.onSuspend(this)}}start(e){if(this._running)this.tell(ei(e));else{this._running=!0;let r=globalThis[zo];globalThis[zo]=this;try{this.evaluateEffect(e)}finally{this._running=!1,globalThis[zo]=r,this._queue.length>0&&this.drainQueueLaterOnExecutor()}}}startFork(e){this.tell(ei(e))}patchRuntimeFlags(e,r){let n=Fn(e,r);return globalThis[zo]=this,this.currentRuntimeFlags=n,n}initiateAsync(e,r){let n=!1,o=s=>{n||(n=!0,this.tell(ei(s)))};kn(e)&&(this._asyncInterruptor=o);try{r(o)}catch(s){o(te(ze(s)))}}pushStack(e){this._stack.push(e),e._op==="OnStep"&&this._steps.push({refs:this.getFiberRefs(),flags:this.currentRuntimeFlags})}popStack(){let e=this._stack.pop();if(e)return e._op==="OnStep"&&this._steps.pop(),e}getNextSuccessCont(){let e=this.popStack();for(;e;){if(e._op!==Di)return e;e=this.popStack()}}getNextFailCont(){let e=this.popStack();for(;e;){if(e._op!==Ai&&e._op!==Fi&&e._op!==is)return e;e=this.popStack()}}[Ub](e){return k(()=>qr(this.currentContext,e))}Left(e){return K(e.left)}None(e){return K(new Xt)}Right(e){return me(e.right)}Some(e){return me(e.value)}Micro(e){return lp(r=>{let n=r,o=ak(sk(e,this.currentContext));return o.addObserver(s=>{if(s._tag==="Success")return n(me(s.value));switch(s.cause._tag){case"Interrupt":return n(fe(Vt(Lt)));case"Fail":return n(K(s.cause.error));case"Die":return n(Rn(s.cause.defect))}}),lp(s=>{n=i=>{s(G)},o.unsafeInterrupt()})})}[Vu](e){let r=Me(()=>e.effect_instruction_i0()),n=this.getNextSuccessCont();return n!==void 0?(n._op in iu||Uf(n),iu[n._op](this,n,r)):(Xn.currentOp=me(r),Kn)}[Le](e){let r=e,n=this.getNextSuccessCont();return n!==void 0?(n._op in iu||Uf(n),iu[n._op](this,n,r.effect_instruction_i0)):(Xn.currentOp=r,Kn)}[Pe](e){let r=e.effect_instruction_i0,n=this.getNextFailCont();if(n!==void 0)switch(n._op){case Di:case ki:return kn(this.currentRuntimeFlags)&&this.isInterrupted()?fe(tp(r)):Me(()=>n.effect_instruction_i1(r));case"OnStep":return kn(this.currentRuntimeFlags)&&this.isInterrupted()?fe(tp(r)):me(fe(r));case Ja:return this.patchRuntimeFlags(this.currentRuntimeFlags,n.patch),kn(this.currentRuntimeFlags)&&this.isInterrupted()?fe(De(r,this.getInterruptedCause())):fe(r);default:Uf(n)}else return Xn.currentOp=fe(r),Kn}[Ku](e){return Me(()=>e.effect_instruction_i0(this,pg(this.currentRuntimeFlags)))}Blocked(e){let r=this.getFiberRefs(),n=this.currentRuntimeFlags;if(this._steps.length>0){let o=[],s=this._steps[this._steps.length-1],i=this.popStack();for(;i&&i._op!=="OnStep";)o.push(i),i=this.popStack();this.setFiberRefs(s.refs),this.currentRuntimeFlags=s.flags;let c=Ys(s.refs,r),l=fr(s.flags,n);return me(wn(e.effect_instruction_i0,ie(p=>{for(;o.length>0;)p.pushStack(o.pop());return p.setFiberRefs(Qs(p.id(),p.getFiberRefs())(c)),p.currentRuntimeFlags=Fn(l)(p.currentRuntimeFlags),e.effect_instruction_i1})))}return Fe(o=>E(si(cp(e.effect_instruction_i0)),()=>o(e.effect_instruction_i1)))}RunBlocked(e){return Z3(e.effect_instruction_i0)}[gn](e){let r=e.effect_instruction_i0,n=this.currentRuntimeFlags,o=Fn(n,r);if(kn(o)&&this.isInterrupted())return fe(this.getInterruptedCause());if(this.patchRuntimeFlags(this.currentRuntimeFlags,r),e.effect_instruction_i1){let s=fr(o,n);return this.pushStack(new op(s,e)),Me(()=>e.effect_instruction_i1(n))}else return kt}[Ai](e){return this.pushStack(e),e.effect_instruction_i0}OnStep(e){return this.pushStack(e),e.effect_instruction_i0}[Di](e){return this.pushStack(e),e.effect_instruction_i0}[ki](e){return this.pushStack(e),e.effect_instruction_i0}[os](e){return this._asyncBlockingOn=e.effect_instruction_i1,this.initiateAsync(this.currentRuntimeFlags,e.effect_instruction_i0),Xn.currentOp=e,Kn}[Oi](e){return this._isYielding=!1,Xn.currentOp=e,Kn}[Fi](e){let r=e.effect_instruction_i0,n=e.effect_instruction_i1;return r()?(this.pushStack(e),n()):kt}[is](e){return iu[is](this,e,void 0)}[ss](e){return Me(()=>e.commit())}runLoop(e){let r=e;for(this.currentOpCount=0;;){if(this.currentRuntimeFlags&oC&&this.currentSupervisor.onEffect(this,r),this._queue.length>0&&(r=this.drainQueueWhileRunning(this.currentRuntimeFlags,r)),!this._isYielding){this.currentOpCount+=1;let n=this.currentScheduler.shouldYield(this);if(n!==!1){this._isYielding=!0,this.currentOpCount=0;let o=r;r=E(tn({priority:n}),()=>o)}}try{if(r=this.currentTracer.context(()=>Qo()!==r[Mn]._V?Tn(`Cannot execute an Effect versioned ${r[Mn]._V} with a Runtime of version ${Qo()}`):this[r._op](r),this),r===Kn){let n=Xn.currentOp;return n._op===Oi||n._op===os?Kn:(Xn.currentOp=null,n._op===Le||n._op===Pe?n:fe(ze(n)))}}catch(n){r!==Kn&&!R(r,"_op")||!(r._op in this)?r=Tn(`Not a valid effect: ${xn(r)}`):IC(n)?r=fe(n.cause):nv(n)?r=fe(De(ze(n),Vt(Lt))):r=Rn(n)}}}run=()=>{this.drainQueueOnCurrentThread()}},WF=V("effect/FiberRef/currentMinimumLogLevel",()=>Ie(D_("Info"))),eH=t=>Pf(e=>{let r=S_(e.context,we);st(r,qn).unsafe.log(t.log(e))});var tH=V(Symbol.for("effect/Logger/defaultLogger"),()=>eH(Ek));var rH=V(Symbol.for("effect/Logger/tracerLogger"),()=>Pf(({annotations:t,cause:e,context:r,fiberId:n,logLevel:o,message:s})=>{let i=ar(zn(r,zt),wt);if(i._tag==="None"||i.value._tag==="ExternalSpan")return;let c=qr(zn(r,we),Ot),l={};for(let[p,f]of t)l[p]=f;l["effect.fiberId"]=FE(n),l["effect.logLevel"]=o.label,e!==null&&e._tag!=="Empty"&&(l["effect.cause"]=vo(e,{renderErrorCause:!0})),i.value.event(xn(Array.isArray(s)?s[0]:s),c.unsafeCurrentTimeNanos(),l)}));var jF=V(Symbol.for("effect/FiberRef/currentLoggers"),()=>QC(ps(tH,rH)));var JF=function(){if(typeof arguments[0]=="string")return St(Ln,yt(arguments[0],arguments[1]));let t=Object.entries(arguments[0]);return St(Ln,RE(e=>{for(let r=0;r<t.length;r++){let[n,o]=t[r];yt(e,n,o)}return e}))},Da=d(t=>le(t[0]),(t,e)=>Nn(ft(t,r=>an(n=>e(r,n))))),GF=d(t=>le(t[0]),(t,e)=>Sr(t,an(r=>e(r)))),an=t=>ie(e=>{let r=e.getFiberRefs(),n=e.currentRuntimeFlags;return E(my,o=>Ns(o,s=>ie(i=>{let c=i.getFiberRefs(),l=i.currentRuntimeFlags,p=Ys(c,r),f=fr(l,n),g=Ys(r,c);return i.setFiberRefs(Qs(p,i.id(),r)),Sr(yp(t(s),f),k(()=>{i.setFiberRefs(Qs(g,i.id(),i.getFiberRefs()))}))})))}),VF=t=>Oe(yc,A(Uo))(t),HF=Symbol.for("effect/Effect/existsPar/found"),KF=d(t=>sr(t[0])&&!le(t[0]),(t,e,r)=>Vc(r?.concurrency,()=>q(()=>XF(t[Symbol.iterator](),0,e)),()=>$e(Zt(t,(n,o)=>hp(e(n,o),{onTrue:()=>K(HF),onFalse:()=>G}),r),{onFailure:n=>n===HF?_(!0):K(n),onSuccess:()=>_(!1)}))),XF=(t,e,r)=>{let n=t.next();return n.done?_(!1):S(E(r(n.value,e),o=>o?_(o):XF(t,e+1,r)))},$F=d(t=>sr(t[0])&&!le(t[0]),(t,e,r)=>{let n=r?.negate?(o,s)=>w(e(o,s),_0):e;return Vc(r?.concurrency,()=>q(()=>se(t).reduceRight((o,s,i)=>rn(o,q(()=>n(s,i)),(c,l)=>l?[s,...c]:c),k(()=>new Array))),()=>w(Zt(t,(o,s)=>w(n(o,s),i=>i?A(o):D()),r),b0))}),nH=t=>{if(Array.isArray(t)||sr(t))return[t,D()];let e=Object.keys(t),r=e.length;return[e.map(n=>t[n]),A(n=>{let o={};for(let s=0;s<r;s++)o[e[s]]=n[s];return o})]},oH=(t,e,r)=>{let n=[];for(let o of t)n.push(Qr(o));return E(Zt(n,j,{concurrency:r?.concurrency,batching:r?.batching}),o=>{let s=D(),i=o.length,c=new Array(i),l=new Array(i),p=!1;for(let f=0;f<i;f++){let g=o[f];g._tag==="Left"?(c[f]=A(g.left),p=!0):(l[f]=g.right,c[f]=s)}return p?e._tag==="Some"?K(e.value(c)):K(c):r?.discard?G:e._tag==="Some"?_(e.value(l)):_(l)})},sH=(t,e,r)=>{let n=[];for(let o of t)n.push(Qr(o));return r?.discard?Zt(n,j,{concurrency:r?.concurrency,batching:r?.batching,discard:!0}):w(Zt(n,j,{concurrency:r?.concurrency,batching:r?.batching}),o=>e._tag==="Some"?e.value(o):o)},jo=(t,e)=>{let[r,n]=nH(t);return e?.mode==="validate"?oH(r,n,e):e?.mode==="either"?sH(r,n,e):e?.discard!==!0&&n._tag==="Some"?w(Zt(r,j,e),n.value):Zt(r,j,e)},YF=t=>e=>jo(e,t),QF=(t,e)=>w(jo(se(t).map(ke),e),Ii(r=>Fp(r)?A(r.effect_instruction_i0):D())),cy=d(2,(t,e)=>Array.from({length:e},()=>t)),ZF=d(t=>le(t[0]),(t,e,r)=>jo(cy(t,e),r)),Zt=d(t=>sr(t[0]),(t,e,r)=>ie(n=>{let o=r?.batching===!0||r?.batching==="inherit"&&n.getFiberRef(vc);return r?.discard?Eg(r.concurrency,()=>ni(af,r?.concurrentFinalizers)(s=>o?oi(t,(i,c)=>s(e(i,c)),!0,!1,1):qt(t,(i,c)=>s(e(i,c)))),()=>ni(cf,r?.concurrentFinalizers)(s=>oi(t,(i,c)=>s(e(i,c)),o,!1)),s=>ni(uf(s),r?.concurrentFinalizers)(i=>oi(t,(c,l)=>i(e(c,l)),o,!1,s))):Eg(r?.concurrency,()=>ni(af,r?.concurrentFinalizers)(s=>o?ay(t,1,(i,c)=>s(e(i,c)),!0):at(t,(i,c)=>s(e(i,c)))),()=>ni(cf,r?.concurrentFinalizers)(s=>zf(t,(i,c)=>s(e(i,c)),o)),s=>ni(uf(s),r?.concurrentFinalizers)(i=>ay(t,s,(c,l)=>i(e(c,l)),o)))})),zf=(t,e,r)=>q(()=>{let n=se(t),o=new Array(n.length);return ce(oi(n,(i,c)=>E(e(i,c),l=>k(()=>o[c]=l)),r,!1),_(o))}),oi=(t,e,r,n,o)=>Fe(s=>gp(i=>ie(c=>{let l=Array.from(t).reverse(),p=l.length;if(p===0)return G;let f=0,g=!1,m=o?Math.min(l.length,o):l.length,a=new Set,u=new Array,h=()=>a.forEach($=>{$.currentScheduler.scheduleTask(()=>{$.unsafeInterruptAsFork(c.id())},0)}),x=new Array,y=new Array,b=new Array,F=()=>{let $=u.filter(({exit:ae})=>ae._tag==="Failure").sort((ae,xe)=>ae.index<xe.index?-1:ae.index===xe.index?0:1).map(({exit:ae})=>ae);return $.length===0&&$.push(kt),$},O=($,ae=!1)=>{let xe=Nn(i($)),ge=iH(xe,c,c.currentRuntimeFlags,Uo);return c.currentScheduler.scheduleTask(()=>{ae&&ge.unsafeInterruptAsFork(c.id()),ge.resume(xe)},0),ge},M=()=>{n||(p-=l.length,l=[]),g=!0,h()},H=r?fp:ke,X=O(tt($=>{let ae=(ge,ut)=>{ge._op==="Blocked"?b.push(ge):(u.push({index:ut,exit:ge}),ge._op==="Failure"&&!g&&M())},xe=()=>{if(l.length>0){let ge=l.pop(),ut=f++,oo=()=>{let vt=l.pop();return ut=f++,E(tn(),()=>E(H(s(e(vt,ut))),fn))},fn=vt=>l.length>0&&(ae(vt,ut),l.length>0)?oo():_(vt),gi=E(H(s(e(ge,ut))),fn),nr=O(gi);x.push(nr),a.add(nr),g&&nr.currentScheduler.scheduleTask(()=>{nr.unsafeInterruptAsFork(c.id())},0),nr.addObserver(vt=>{let $o;if(vt._op==="Failure"?$o=vt:$o=vt.effect_instruction_i0,y.push(nr),a.delete(nr),ae($o,ut),u.length===p)$(_(qe(Io(F(),{parallel:!0}),()=>kt)));else if(b.length+u.length===p){let qa=b.map(Yo=>Yo.effect_instruction_i0).reduce(Td);$(_(wn(qa,oi([qe(Io(F(),{parallel:!0}),()=>kt),...b.map(Yo=>Yo.effect_instruction_i1)],Yo=>Yo,r,!0,o))))}else xe()})}};for(let ge=0;ge<m;ge++)xe()}));return Ae(pt(At(s(Rr(X))),na({onFailure:()=>{M();let $=b.length+1,ae=Math.min(typeof o=="number"?o:b.length,b.length),xe=Array.from(b);return tt(ge=>{let ut=[],oo=0,fn=0,gi=(vt,$o)=>qa=>{ut[vt]=qa,oo++,oo===$&&ge(Va(Io(ut,{parallel:!0}))),xe.length>0&&$o&&nr()},nr=()=>{O(xe.pop(),!0).addObserver(gi(fn,!0)),fn++};X.addObserver(gi(fn,!1)),fn++;for(let vt=0;vt<ae;vt++)nr()})},onSuccess:()=>at(y,$=>$.inheritAll)})))}))),ay=(t,e,r,n)=>q(()=>{let o=se(t),s=new Array(o.length);return ce(oi(o,(c,l)=>w(r(c,l),p=>s[l]=p),n,!1,e),_(s))}),xr=t=>ie((e,r)=>_(tO(t,e,r.runtimeFlags))),si=t=>aH(t,Uo),eO=d(2,(t,e)=>xr(xp(t,r=>{let n=Fr(r);switch(n._tag){case"Left":return e(n.left);case"Right":return te(n.right)}}))),tO=(t,e,r,n=null)=>{let o=Wf(t,e,r,n);return o.resume(t),o},iH=(t,e,r,n=null)=>Wf(t,e,r,n),Wf=(t,e,r,n=null)=>{let o=Pl(),s=e.getFiberRefs(),i=vx(s,o),c=new au(o,i,r),l=zn(i,zt),p=c.currentSupervisor;return p.onStart(l,t,A(e),c),c.addObserver(g=>p.onEnd(g,c)),(n!==null?n:S(e.getFiberRef(yc),qe(()=>e.scope()))).add(r,c),c},aH=(t,e)=>ie((r,n)=>_(tO(t,r,n.runtimeFlags,e))),uy=d(t=>io(t[2]),(t,e,r,n)=>Vc(n?.concurrency,()=>se(t).reduce((o,s,i)=>rn(o,s,(c,l)=>r(c,l,i)),_(e)),()=>E(Uc(e),o=>E(Zt(t,(s,i)=>E(s,c=>I_(o,l=>r(l,c,i))),n),()=>Vp(o))))),ly=d(t=>sr(t[0]),(t,e,r)=>S(Zt(t,(n,o)=>Qr(e(n,o)),r),w(n=>HC(n,j)))),rO=d(t=>sr(t[0]),(t,e,r)=>E(ly(t,e,{concurrency:r?.concurrency,batching:r?.batching}),([n,o])=>n.length===0?r?.discard?G:_(o):K(n))),nO=t=>{let e=Wr(t);if(!Ze(e))return Do(()=>new Ac("Received an empty collection of effects"));let r=Xe(e),n=it(e),o=s=>S(xk(s[1]),he(s[0]));return S(Ft(),E(s=>S(Uc(n.length),E(i=>Fe(c=>S(xr(Zr(r)),E(l=>S(n,at(p=>xr(Zr(p))),w(p=>Bi(p)),w(p=>S(p,Ke(l))),ft(p=>S(p,ir(G,(f,g)=>S(f,ce(S(_g(g),E(cH(p,g,s,i)),xr,Ae)))))),E(p=>S(c(S(zs(s),E(o))),wr(()=>S(p,ir(G,(f,g)=>S(f,Ms(Rs(g))))))))))))))))},cH=(t,e,r,n)=>o=>Hs(o,{onFailure:s=>S(T_(n,i=>[i===0?S(qs(r,s),Ae):G,i-1]),At),onSuccess:s=>S(Tc(r,[s,e]),E(i=>i?S(Wr(t),ir(G,(c,l)=>l===e?c:S(c,Ms(Rs(l))))):G))}),oO=d(t=>sr(t[0])&&!le(t[0]),(t,e,r,n)=>Vc(n?.concurrency,()=>se(t).reduce((o,s,i)=>rn(o,s,(c,l)=>r(c,l,i)),e),()=>q(()=>S(uy([e,...t],D(),(o,s,i)=>{switch(o._tag){case"None":return A(s);case"Some":return A(r(o.value,s,i))}},n),w(o=>{switch(o._tag){case"None":throw new Error("BUG: Effect.reduceEffect - please report an issue at https://github.com/Effect-TS/effect/issues");case"Some":return o.value}}))))),jf=t=>hr(e=>Je(ar(e,cn),{onNone:()=>t,onSome:r=>{switch(r.strategy._tag){case"Parallel":return t;case"Sequential":case"ParallelN":return E(Ls(r,cf),n=>Yn(t,n))}}})),qF=t=>e=>hr(r=>Je(ar(r,cn),{onNone:()=>e,onSome:n=>n.strategy._tag==="ParallelN"&&n.strategy.parallelism===t?e:E(Ls(n,uf(t)),o=>Yn(e,o))})),sO=t=>e=>ni(t,!0)(e),ni=(t,e)=>r=>hr(n=>Je(ar(n,cn),{onNone:()=>r(j),onSome:o=>{if(e===!0){let s=t._tag==="Parallel"?jf:t._tag==="Sequential"?Jf:qF(t.parallelism);switch(o.strategy._tag){case"Parallel":return s(r(jf));case"Sequential":return s(r(Jf));case"ParallelN":return s(r(qF(o.strategy.parallelism)))}}else return r(j)}})),yr=t=>E(cn,t),cu=t=>E(Aa(),e=>pt(t(e),r=>e.close(r))),Gf=t=>E(Aa(),e=>gO(t,e)),Jf=t=>hr(e=>Je(ar(e,cn),{onNone:()=>t,onSome:r=>{switch(r.strategy._tag){case"Sequential":return t;case"Parallel":case"ParallelN":return E(Ls(r,af),n=>Yn(t,n))}}})),iO=(t,e)=>py([Vs(t,e)]),py=t=>St(Bn,e=>_r(e,t)),aO=d(2,(t,e)=>cu(r=>E(Yn(t,r),e))),cO=d(t=>le(t[1]),(t,e,r)=>fy(t,e,(n,o)=>[n,o],r)),fy=d(t=>le(t[1]),(t,e,r,n)=>At($n(ke(t),ke(e),(o,s)=>wc(o,s,{onSuccess:r,onFailure:(i,c)=>n?.concurrent?Bt(i,c):De(i,c)}),n)));var uO=d(t=>sr(t[0]),(t,e,r)=>Fo(Zt(t,(n,o)=>Fo(e(n,o)),r))),lO=t=>St(we,Ee(Ot,t)),pO=t=>St(we,Ee(ia,t)),Vf=t=>St(we,Ee(sa,t)),fO=t=>yr(e=>E(Ls(e,sn),r=>S(t,Yn(r),w(n=>[Ht(o=>Ps(r,Op(o))),n])))),hO=d(t=>le(t[1]),(t,e,r)=>$n(t,e,(n,o)=>[n,o],r)),mO=d(t=>le(t[1]),(t,e,r)=>r?.concurrent!==!0&&(r?.batching===void 0||r.batching===!1)?Ms(t,e):$n(t,e,(n,o)=>n,r)),dO=d(t=>le(t[1]),(t,e,r)=>r?.concurrent!==!0&&(r?.batching===void 0||r.batching===!1)?ce(t,e):$n(t,e,(n,o)=>o,r)),$n=d(t=>le(t[1]),(t,e,r,n)=>w(jo([t,e],{concurrency:n?.concurrent?2:1,batching:n?.batching,concurrentFinalizers:n?.concurrentFinalizers}),([o,s])=>r(o,s))),hy=t=>t===aC?G:S(Zi,E(e=>{let r=Fn(e,t),n=fr(r,e);return S(wo(t),ce(an(()=>wo(n))),Ae)}),Nn),cn=Qe("effect/Scope"),my=cn,uH=(t,e)=>{t.state._tag==="Open"&&t.state.finalizers.add(e)},lH={[_p]:_p,[Dp]:Dp,pipe(){return N(this,arguments)},fork(t){return k(()=>{let e=xO(t);if(this.state._tag==="Closed")return e.state=this.state,e;let r=n=>e.close(n);return this.state.finalizers.add(r),uH(e,n=>k(()=>{this.state._tag==="Open"&&this.state.finalizers.delete(r)})),e})},close(t){return q(()=>{if(this.state._tag==="Closed")return G;let e=Array.from(this.state.finalizers.values()).reverse();return this.state={_tag:"Closed",exit:t},e.length===0?G:sg(this.strategy)?S(at(e,r=>ke(r(t))),E(r=>S(Io(r),He(Fc),qe(()=>kt)))):ig(this.strategy)?S(zf(e,r=>ke(r(t)),!1),E(r=>S(Io(r,{parallel:!0}),He(Fc),qe(()=>kt)))):S(ay(e,this.strategy.parallelism,r=>ke(r(t)),!1),E(r=>S(Io(r,{parallel:!0}),He(Fc),qe(()=>kt))))})},addFinalizer(t){return q(()=>this.state._tag==="Closed"?t(this.state.exit):(this.state.finalizers.add(t),G))}},xO=(t=sn)=>{let e=Object.create(lH);return e.strategy=t,e.state={_tag:"Open",finalizers:new Set},e},Aa=(t=sn)=>k(()=>xO(t)),Yn=d(2,(t,e)=>Us(t,cr(It(cn,e)))),gO=d(2,(t,e)=>S(t,Yn(e),pt(r=>e.close(r)))),pH=t=>Ts(t,{differ:PF,fork:_a}),Mt=d(2,(t,e)=>Ae(Da(E(Kt(t),r=>he(ks(t,e),r)),r=>ks(t,r)))),St=d(2,(t,e)=>ht(t,r=>Mt(t,e(r))));var UF=ZC(iC),Kf=pH(ri),yO=t=>Zt(t,_g),dy=t=>({...Ix,commit(){return Rr(this)},[Kc]:Xc,id:()=>se(t).reduce((r,n)=>ad(r,n.id()),Lt),await:ke(zf(t,r=>At(r.await),!1)),children:w(zf(t,r=>r.children,!1),al),inheritAll:qt(t,r=>r.inheritAll),poll:w(at(t,r=>r.poll),cl(A(me(new Array)),(r,n)=>{switch(n._tag){case"None":return D();case"Some":switch(r._tag){case"None":return D();case"Some":return A(wc(n.value,r.value,{onSuccess:(o,s)=>[o,...s],onFailure:Bt}))}}})),interruptAsFork:r=>qt(t,n=>n.interruptAsFork(r))});var xy=d(3,(t,e,r)=>gy(t,e,{onSelfWin:(n,o)=>E(n.await,s=>{switch(s._tag){case Le:return E(n.inheritAll,()=>r.onSelfDone(s,o));case Pe:return r.onSelfDone(s,o)}}),onOtherWin:(n,o)=>E(n.await,s=>{switch(s._tag){case Le:return E(n.inheritAll,()=>r.onOtherDone(s,o));case Pe:return r.onOtherDone(s,o)}})})),SO=t=>Fe(e=>Ht(r=>E(si(e(t)),n=>S(e(Rr(n)),wr(()=>S(n,gk(r))))))),Xf=d(2,(t,e)=>Ht(r=>xy(t,e,{onSelfDone:(n,o)=>Hs(n,{onFailure:s=>S(Rr(o),pa(i=>Bt(s,i))),onSuccess:s=>S(o,Ut(r),he(s))}),onOtherDone:(n,o)=>Hs(n,{onFailure:s=>S(Rr(o),pa(i=>Bt(i,s))),onSuccess:s=>S(o,Ut(r),he(s))})}))),gy=d(3,(t,e,r)=>ie((n,o)=>{let s=o.runtimeFlags,i=Vr(!0),c=Wf(t,n,s,r.selfScope),l=Wf(e,n,s,r.otherScope);return tt(p=>{c.addObserver(()=>zF(c,l,r.onSelfWin,i,p)),l.addObserver(()=>zF(l,c,r.onOtherWin,i,p)),c.startFork(t),l.startFork(e)},ad(c.id(),l.id()))})),zF=(t,e,r,n,o)=>{wl(!0,!1)(n)&&o(r(t,e))},Sr=d(2,(t,e)=>Fe(r=>Ce(r(t),{onFailure:n=>Ce(e,{onFailure:o=>te(De(n,o)),onSuccess:()=>te(n)}),onSuccess:n=>he(e,n)}))),fH=(t,e,r)=>Ht(n=>E(E(si(Zr(t)),o=>tt(s=>{let i=e.map(p=>p.listeners.count),c=()=>{i.every(p=>p===0)&&e.every(p=>p.result.state.current._tag==="Pending"?!0:!!(p.result.state.current._tag==="Done"&&kc(p.result.state.current.effect)&&p.result.state.current.effect._tag==="Failure"&&Zl(p.result.state.current.effect.cause)))&&(l.forEach(p=>p()),r?.(),s(Rs(o)))};o.addObserver(p=>{l.forEach(f=>f()),s(p)});let l=e.map((p,f)=>{let g=m=>{i[f]=m,c()};return p.listeners.addObserver(g),()=>p.listeners.removeObserver(g)});return c(),k(()=>{l.forEach(p=>p())})})),()=>q(()=>{let o=e.flatMap(s=>s.state.completed?[]:[s]);return qt(o,s=>Qg(s.request,Op(n)))})));var gr=(t,e)=>(e=Qt(e),Nn(ie(r=>{let n=qr(r.getFiberRef(zt),cn),o=of(r,t,e),s=r.getFiberRef(Ro),i=st(r.getFiberRef(we),Ot);return he(Ns(n,c=>ng(o,c,i,s)),o)}))),$f=t=>St(we,Ee(Un,t)),bO=function(){let t=typeof arguments[0]!="string",e=t?arguments[1]:arguments[0],r=Qt(t?arguments[2]:arguments[1]);if(t){let n=arguments[0];return E(gr(e,Qt(r)),o=>fa(n,wt,o))}return n=>E(gr(e,Qt(r)),o=>fa(n,wt,o))};var EO=(t,e,r,n)=>Hl({_tag:"Complete",key:t,exit:e,entryStats:r,timeToLiveMillis:n}),CO=(t,e)=>Hl({_tag:"Pending",key:t,deferred:e}),hH=(t,e)=>Hl({_tag:"Refreshing",deferred:t,complete:e}),yy=Symbol.for("effect/Cache/MapKey"),Sy=class{current;[yy]=yy;previous=void 0;next=void 0;constructor(e){this.current=e}[B](){return S(P(this.current),z(P(this.previous)),z(P(this.next)),Y(this))}[L](e){return this===e?!0:mH(e)&&I(this.current,e.current)&&I(this.previous,e.previous)&&I(this.next,e.next)}},ka=t=>new Sy(t),mH=t=>R(t,yy),by=class{head=void 0;tail=void 0;add(e){if(e!==this.tail)if(this.tail===void 0)this.head=e,this.tail=e;else{let r=e.previous,n=e.next;n!==void 0&&(e.next=void 0,r!==void 0?(r.next=n,n.previous=r):(this.head=n,this.head.previous=void 0)),this.tail.next=e,e.previous=this.tail,this.tail=e}}remove(){let e=this.head;if(e!==void 0){let r=e.next;r!==void 0?(e.next=void 0,this.head=r,this.head.previous=void 0):(this.head=void 0,this.tail=void 0)}return e}},dH=()=>new by,xH=(t,e,r,n,o,s)=>({map:t,keys:e,accesses:r,updating:n,hits:o,misses:s}),gH=()=>xH(Ws(),dH(),Dv(),Vr(!1),0,0),yH="effect/Cache",SH=Symbol.for(yH),bH={_Key:t=>t,_Error:t=>t,_Value:t=>t},EH="effect/ConsumerCache",CH=Symbol.for(EH),vH={_Key:t=>t,_Error:t=>t,_Value:t=>t},_H=t=>t,Yf=t=>({loadedMillis:t}),Ey=class{capacity;context;fiberId;lookup;timeToLive;[SH]=bH;[CH]=vH;cacheState;constructor(e,r,n,o,s){this.capacity=e,this.context=r,this.fiberId=n,this.lookup=o,this.timeToLive=s,this.cacheState=gH()}get(e){return w(this.getEither(e),nl)}get cacheStats(){return k(()=>_H({hits:this.cacheState.hits,misses:this.cacheState.misses,size:Rp(this.cacheState.map)}))}getOption(e){return q(()=>Je(We(this.cacheState.map,e),{onNone:()=>{let r=ka(e);return this.trackAccess(r),this.trackMiss(),_(D())},onSome:r=>this.resolveMapValue(r)}))}getOptionComplete(e){return q(()=>Je(We(this.cacheState.map,e),{onNone:()=>{let r=ka(e);return this.trackAccess(r),this.trackMiss(),_(D())},onSome:r=>this.resolveMapValue(r,!0)}))}contains(e){return k(()=>Mr(this.cacheState.map,e))}entryStats(e){return k(()=>{let r=We(this.cacheState.map,e);if(Z(r))switch(r.value._tag){case"Complete":{let n=r.value.entryStats.loadedMillis;return A(Yf(n))}case"Pending":return D();case"Refreshing":{let n=r.value.complete.entryStats.loadedMillis;return A(Yf(n))}}return D()})}getEither(e){return q(()=>{let r=e,n,o,s=lt(We(this.cacheState.map,r));return s===void 0&&(o=ex(this.fiberId),n=ka(r),Mr(this.cacheState.map,r)?s=lt(We(this.cacheState.map,r)):Wt(this.cacheState.map,r,CO(n,o))),s===void 0?(this.trackAccess(n),this.trackMiss(),w(this.lookupValueOf(e,o),Be)):E(this.resolveMapValue(s),Je({onNone:()=>this.getEither(e),onSome:i=>_(dt(i))}))})}invalidate(e){return k(()=>{js(this.cacheState.map,e)})}invalidateWhen(e,r){return k(()=>{let n=We(this.cacheState.map,e);Z(n)&&n.value._tag==="Complete"&&n.value.exit._tag==="Success"&&r(n.value.exit.value)&&js(this.cacheState.map,e)})}get invalidateAll(){return k(()=>{this.cacheState.map=Ws()})}refresh(e){return on(r=>q(()=>{let n=e,o=ex(this.fiberId),s=lt(We(this.cacheState.map,n));if(s===void 0&&(Mr(this.cacheState.map,n)?s=lt(We(this.cacheState.map,n)):Wt(this.cacheState.map,n,CO(ka(n),o))),s===void 0)return Ae(this.lookupValueOf(e,o));switch(s._tag){case"Complete":{if(this.hasExpired(r,s.timeToLiveMillis)){let i=lt(We(this.cacheState.map,n));return I(i,s)&&js(this.cacheState.map,n),Ae(this.get(e))}return S(this.lookupValueOf(e,o),nf(()=>{let i=lt(We(this.cacheState.map,n));if(I(i,s)){let c=hH(o,s);return Wt(this.cacheState.map,n,c),!0}return!1}),Ae)}case"Pending":return zs(s.deferred);case"Refreshing":return zs(s.deferred)}}))}set(e,r){return on(n=>k(()=>{let o=n.unsafeCurrentTimeMillis(),s=e,i=dv(r),c=EO(ka(s),i,Yf(o),o+jr(et(this.timeToLive(i))));Wt(this.cacheState.map,s,c)}))}get size(){return k(()=>Rp(this.cacheState.map))}get values(){return k(()=>{let e=[];for(let r of this.cacheState.map)r[1]._tag==="Complete"&&r[1].exit._tag==="Success"&&e.push(r[1].exit.value);return e})}get entries(){return k(()=>{let e=[];for(let r of this.cacheState.map)r[1]._tag==="Complete"&&r[1].exit._tag==="Success"&&e.push([r[0],r[1].exit.value]);return e})}get keys(){return k(()=>{let e=[];for(let r of this.cacheState.map)r[1]._tag==="Complete"&&r[1].exit._tag==="Success"&&e.push(r[0]);return e})}resolveMapValue(e,r=!1){return on(n=>{switch(e._tag){case"Complete":return this.trackAccess(e.key),this.hasExpired(n,e.timeToLiveMillis)?(js(this.cacheState.map,e.key.current),_(D())):(this.trackHit(),w(e.exit,A));case"Pending":return this.trackAccess(e.key),this.trackHit(),r?_(D()):w(zs(e.deferred),A);case"Refreshing":return this.trackAccess(e.complete.key),this.trackHit(),this.hasExpired(n,e.complete.timeToLiveMillis)?r?_(D()):w(zs(e.deferred),A):w(e.complete.exit,A)}})}trackHit(){this.cacheState.hits=this.cacheState.hits+1}trackMiss(){this.cacheState.misses=this.cacheState.misses+1}trackAccess(e){if(Av(this.cacheState.accesses,e),wl(this.cacheState.updating,!1,!0)){let r=!0;for(;r;){let o=kv(this.cacheState.accesses,ix);o===ix?r=!1:this.cacheState.keys.add(o)}let n=Rp(this.cacheState.map);for(r=n>this.capacity;r;){let o=this.cacheState.keys.remove();o!==void 0?Mr(this.cacheState.map,o.current)&&(js(this.cacheState.map,o.current),n=n-1,r=n>this.capacity):r=!1}pr(this.cacheState.updating,!1)}}hasExpired(e,r){return e.unsafeCurrentTimeMillis()>r}lookupValueOf(e,r){return on(n=>q(()=>{let o=e;return S(this.lookup(e),Yt(this.context),ke,E(s=>{let i=n.unsafeCurrentTimeMillis(),c=Yf(i),l=EO(ka(o),s,c,i+jr(et(this.timeToLive(s))));return Wt(this.cacheState.map,o,l),ce(fv(r,s),s)}),wr(()=>ce(hv(r),k(()=>{js(this.cacheState.map,o)}))))}))}};var vO=(t,e,r)=>new Ey(t,ot(),Tl,e,n=>et(r(n)));var Cy=On,vy=ze;var _O=Ds;var DO=Fr;var AO=dc;var nt={};Ua(nt,{Do:()=>y8,EffectTypeId:()=>lq,Service:()=>X6,Tag:()=>K6,acquireRelease:()=>QU,acquireReleaseInterruptible:()=>ZU,acquireUseRelease:()=>ez,addFinalizer:()=>tz,all:()=>gq,allSuccesses:()=>Sq,allWith:()=>yq,allowInterrupt:()=>OU,andThen:()=>H8,annotateCurrentSpan:()=>I6,annotateLogs:()=>RW,annotateLogsScoped:()=>TW,annotateSpans:()=>T6,ap:()=>y6,as:()=>qU,asSome:()=>UU,asSomeError:()=>zU,asVoid:()=>WU,async:()=>Uq,asyncEffect:()=>zq,awaitAllChildren:()=>mz,bind:()=>S8,bindAll:()=>b8,bindTo:()=>E8,blocked:()=>S6,cacheRequestResult:()=>v6,cached:()=>mq,cachedFunction:()=>dq,cachedInvalidateWithTTL:()=>hq,cachedWithTTL:()=>fq,catch:()=>iU,catchAll:()=>aU,catchAllCause:()=>cU,catchAllDefect:()=>uU,catchIf:()=>lU,catchSome:()=>pU,catchSomeCause:()=>fU,catchSomeDefect:()=>hU,catchTag:()=>mU,catchTags:()=>dU,cause:()=>xU,checkInterruptible:()=>wU,clock:()=>Lz,clockWith:()=>Bz,configProviderWith:()=>e8,console:()=>Uz,consoleWith:()=>zz,context:()=>n8,contextWith:()=>o8,contextWithEffect:()=>s8,currentParentSpan:()=>P6,currentSpan:()=>N6,custom:()=>Wq,daemonChildren:()=>dz,delay:()=>Jz,descriptor:()=>xz,descriptorWith:()=>gz,die:()=>ES,dieMessage:()=>Kq,dieSync:()=>Xq,diffFiberRefs:()=>yz,disconnect:()=>MU,dropUntil:()=>bq,dropWhile:()=>Eq,either:()=>_8,ensuring:()=>rz,ensuringChild:()=>Sz,ensuringChildren:()=>bz,eventually:()=>gU,every:()=>Cq,exists:()=>vq,exit:()=>D8,fail:()=>Jq,failCause:()=>$M,failCauseSync:()=>Vq,failSync:()=>Gq,fiberId:()=>Ez,fiberIdWith:()=>Cz,filter:()=>_q,filterMap:()=>Dq,filterOrDie:()=>F8,filterOrDieMessage:()=>O8,filterOrElse:()=>w8,filterOrFail:()=>M8,finalizersMask:()=>iz,findFirst:()=>Aq,firstSuccessOf:()=>UW,flatMap:()=>B8,flatten:()=>q8,flip:()=>jU,flipWith:()=>JU,fn:()=>$6,forEach:()=>kq,forever:()=>Q8,fork:()=>vz,forkAll:()=>Dz,forkDaemon:()=>_z,forkIn:()=>Az,forkScoped:()=>kz,forkWithErrorHandler:()=>Fz,fromFiber:()=>Oz,fromFiberEffect:()=>wz,fromNullable:()=>G6,functionWithSpan:()=>W6,gen:()=>YM,getFiberRefs:()=>cW,getRuntimeFlags:()=>VW,head:()=>Fq,if:()=>k8,ignore:()=>yU,ignoreLogged:()=>SU,inheritFiberRefs:()=>uW,interrupt:()=>RU,interruptWith:()=>TU,interruptible:()=>IU,interruptibleMask:()=>NU,intoDeferred:()=>A8,isEffect:()=>pq,isFailure:()=>gW,isSuccess:()=>yW,iterate:()=>Z8,labelMetrics:()=>QW,labelMetricsScoped:()=>e6,let:()=>C8,liftPredicate:()=>HU,linkSpans:()=>H6,locally:()=>lW,locallyScoped:()=>fW,locallyScopedWith:()=>hW,locallyWith:()=>pW,log:()=>vW,logAnnotations:()=>IW,logDebug:()=>AW,logError:()=>OW,logFatal:()=>wW,logInfo:()=>kW,logTrace:()=>DW,logWarning:()=>FW,logWithLevel:()=>_W,loop:()=>eW,makeLatch:()=>i6,makeSemaphore:()=>o6,makeSpan:()=>q6,makeSpanScoped:()=>U6,map:()=>CS,mapAccum:()=>GU,mapBoth:()=>VU,mapError:()=>KU,mapErrorCause:()=>XU,mapInputContext:()=>i8,match:()=>SW,matchCause:()=>bW,matchCauseEffect:()=>EW,matchEffect:()=>CW,merge:()=>$U,mergeAll:()=>Oq,metricLabels:()=>t6,negate:()=>YU,never:()=>$q,none:()=>Yq,onError:()=>nz,onExit:()=>oz,onInterrupt:()=>PU,once:()=>xq,option:()=>v8,optionFromOptional:()=>V6,orDie:()=>PW,orDieWith:()=>LW,orElse:()=>BW,orElseFail:()=>HW,orElseSucceed:()=>qW,parallelErrors:()=>bU,parallelFinalizers:()=>sz,partition:()=>wq,patchFiberRefs:()=>mW,patchRuntimeFlags:()=>KW,promise:()=>Qq,provide:()=>a8,provideService:()=>c8,provideServiceEffect:()=>u8,race:()=>z8,raceAll:()=>U8,raceFirst:()=>W8,raceWith:()=>j8,random:()=>zW,randomWith:()=>WW,reduce:()=>Mq,reduceEffect:()=>Rq,reduceRight:()=>Tq,reduceWhile:()=>Iq,repeat:()=>tW,repeatN:()=>rW,repeatOrElse:()=>nW,replicate:()=>Nq,replicateEffect:()=>Pq,request:()=>C6,retry:()=>CU,retryOrElse:()=>vU,runCallback:()=>c6,runFork:()=>a6,runPromise:()=>u6,runPromiseExit:()=>l6,runRequestBlock:()=>b6,runSync:()=>p6,runSyncExit:()=>f6,runtime:()=>GW,sandbox:()=>EU,schedule:()=>oW,scheduleForked:()=>sW,scheduleFrom:()=>iW,scope:()=>cz,scopeWith:()=>uz,scoped:()=>pz,scopedWith:()=>lz,sequentialFinalizers:()=>az,serviceConstants:()=>h8,serviceFunction:()=>l8,serviceFunctionEffect:()=>p8,serviceFunctions:()=>f8,serviceMembers:()=>m8,serviceOption:()=>d8,serviceOptional:()=>x8,setFiberRefs:()=>dW,sleep:()=>Gz,spanAnnotations:()=>L6,spanLinks:()=>B6,step:()=>E6,succeed:()=>Zq,succeedNone:()=>eU,succeedSome:()=>tU,summarized:()=>J8,supervised:()=>Mz,suspend:()=>rU,sync:()=>nU,tagMetrics:()=>YW,tagMetricsScoped:()=>ZW,takeUntil:()=>Lq,takeWhile:()=>Bq,tap:()=>G8,tapBoth:()=>V8,tapDefect:()=>K8,tapError:()=>X8,tapErrorCause:()=>Y8,tapErrorTag:()=>$8,timed:()=>Vz,timedWith:()=>Kz,timeout:()=>Xz,timeoutFail:()=>Yz,timeoutFailCause:()=>Qz,timeoutOption:()=>$z,timeoutTo:()=>Zz,tracer:()=>k6,tracerWith:()=>F6,transplant:()=>Rz,try:()=>_U,tryMap:()=>DU,tryMapPromise:()=>AU,tryPromise:()=>kU,uninterruptible:()=>LU,uninterruptibleMask:()=>BU,unless:()=>R8,unlessEffect:()=>T8,unsafeMakeLatch:()=>s6,unsafeMakeSemaphore:()=>n6,unsandbox:()=>FU,updateFiberRefs:()=>xW,updateService:()=>g8,useSpan:()=>z6,using:()=>fz,validate:()=>h6,validateAll:()=>Hq,validateFirst:()=>qq,validateWith:()=>m6,void:()=>oU,when:()=>I8,whenEffect:()=>N8,whenFiberRef:()=>P8,whenRef:()=>L8,whileLoop:()=>aW,withClock:()=>qz,withClockScoped:()=>Hz,withConcurrency:()=>Tz,withConfigProvider:()=>t8,withConfigProviderScoped:()=>r8,withConsole:()=>jz,withConsoleScoped:()=>Wz,withEarlyRelease:()=>hz,withFiberRuntime:()=>jq,withLogSpan:()=>MW,withMaxOpsBeforeYield:()=>Pz,withMetric:()=>r6,withParentSpan:()=>J6,withRandom:()=>jW,withRandomScoped:()=>JW,withRequestBatching:()=>_6,withRequestCache:()=>A6,withRequestCaching:()=>D6,withRuntimeFlagsPatch:()=>XW,withRuntimeFlagsPatchScoped:()=>$W,withScheduler:()=>Iz,withSchedulingPriority:()=>Nz,withSpan:()=>ZM,withSpanScoped:()=>j6,withTracer:()=>O6,withTracerEnabled:()=>M6,withTracerScoped:()=>w6,withTracerTiming:()=>R6,withUnhandledErrorLogLevel:()=>NW,yieldNow:()=>sU,zip:()=>d6,zipLeft:()=>x6,zipRight:()=>g6,zipWith:()=>QM});var DH="effect/ScheduleInterval",uu=Symbol.for(DH),_y={[uu]:uu,startMillis:0,endMillis:0},Dy=(t,e)=>t>e?_y:{[uu]:uu,startMillis:t,endMillis:e},FO=d(2,(t,e)=>OO(t,e)===t),OO=d(2,(t,e)=>t.endMillis<=e.startMillis?t:e.endMillis<=t.startMillis?e:t.startMillis<e.startMillis?t:e.startMillis<t.startMillis?e:t.endMillis<=e.endMillis?t:e);var wO=t=>t.startMillis>=t.endMillis;var MO=d(2,(t,e)=>{let r=Math.max(t.startMillis,e.startMillis),n=Math.min(t.endMillis,e.endMillis);return Dy(r,n)});var RO=t=>Dy(t,Number.POSITIVE_INFINITY);var Ay=_y,TO=FO;var IO=wO;var NO=MO;var PO=RO;var FH="effect/ScheduleIntervals",Fy=Symbol.for(FH),Oy=t=>({[Fy]:Fy,intervals:t});var LO=d(2,(t,e)=>OH(t.intervals,e.intervals,Nt())),OH=(t,e,r)=>{let n=t,o=e,s=r;for(;Ze(n)&&Ze(o);){let i=S(Xe(n),NO(Xe(o))),c=IO(i)?s:S(s,Ke(i));S(Xe(n),TO(Xe(o)))?n=it(n):o=it(o),s=c}return Oy(zr(s))},Qf=t=>S(t.intervals,hl,qe(()=>Ay)).startMillis,BO=t=>S(t.intervals,hl,qe(()=>Ay)).endMillis,HO=d(2,(t,e)=>Qf(t)<Qf(e)),qO=t=>Ze(t.intervals);var UO=Oy;var zO=LO,Zf=Qf,wy=BO,WO=HO,jO=qO;var My="Continue",JO="Done",GO=t=>({_tag:My,intervals:t}),VO=t=>({_tag:My,intervals:UO(Re(t))}),KO={_tag:JO},XO=t=>t._tag===My,$O=t=>t._tag===JO;var YO=GO;var QO=VO,Fa=KO,Ry=XO,ii=$O;var ZO=cn;var ew=Ps;var tw=Ls;var RH="effect/Schedule",ow=Symbol.for(RH),sw=t=>R(t,ow),TH="effect/ScheduleDriver",IH=Symbol.for(TH),NH={_Out:t=>t,_In:t=>t,_R:t=>t},PH={_Out:t=>t,_In:t=>t,_R:t=>t},Ny=class{initial;step;[ow]=NH;constructor(e,r){this.initial=e,this.step=r}pipe(){return N(this,arguments)}},Py=class{schedule;ref;[IH]=PH;constructor(e,r){this.schedule=e,this.ref=r}get state(){return w(dr(this.ref),e=>e[1])}get last(){return E(dr(this.ref),([e,r])=>{switch(e._tag){case"None":return Dt(()=>new Xt);case"Some":return _(e.value)}})}get reset(){return jn(this.ref,[D(),this.schedule.initial])}next(e){return S(w(dr(this.ref),r=>r[1]),E(r=>S(aa,E(n=>S(q(()=>this.schedule.step(n,e,r)),E(([o,s,i])=>{let c=jn(this.ref,[A(s),o]);if(ii(i))return ce(c,K(D()));let l=Zf(i.intervals)-n;return l<=0?he(c,s):S(c,ce(Xs(xo(l))),he(s))}))))))}},lu=(t,e)=>new Ny(t,e);var LH=d(2,(t,e)=>Hy(t,(r,n)=>k(()=>e(r,n)))),Hy=d(2,(t,e)=>lu(t.initial,(r,n,o)=>E(t.step(r,n,o),([s,i,c])=>ii(c)?_([s,i,Fa]):w(e(n,i),l=>l?[s,i,c]:[s,i,Fa]))));var qy=t=>S(Gs([D(),t.initial]),w(e=>new Py(t,e)));var iw=d(2,(t,e)=>BH(t,e,zO)),BH=d(3,(t,e,r)=>lu([t.initial,e.initial],(n,o,s)=>S(rn(t.step(n,o,s[0]),e.step(n,o,s[1]),(i,c)=>[i,c]),E(([[i,c,l],[p,f,g]])=>Ry(l)&&Ry(g)?Ly(t,e,o,i,c,l.intervals,p,f,g.intervals,r):_([[i,p],[c,f],Fa]))))),Ly=(t,e,r,n,o,s,i,c,l,p)=>{let f=p(s,l);return jO(f)?_([[n,i],[o,c],YO(f)]):S(s,WO(l))?E(t.step(wy(s),r,n),([g,m,a])=>ii(a)?_([[g,i],[m,c],Fa]):Ly(t,e,r,g,m,a.intervals,i,c,l,p)):E(e.step(wy(l),r,i),([g,m,a])=>ii(a)?_([[n,g],[o,m],Fa]):Ly(t,e,r,n,o,s,g,m,a.intervals,p))};var HH=d(2,(t,e)=>qH(t,r=>k(()=>e(r)))),qH=d(2,(t,e)=>lu(t.initial,(r,n,o)=>E(t.step(r,n,o),([s,i,c])=>w(e(i),l=>[s,l,c]))));var UH=t=>lu(t.initial,(e,r,n)=>S(t.step(e,r,n),w(([o,s,i])=>[o,r,i])));var aw=t=>WH(jy,e=>e<t);var zH=(t,e)=>lu(t,(r,n,o)=>k(()=>[e(o),o,QO(PO(r))]));var cw=d(2,(t,e)=>Hy(t,(r,n)=>tf(e(r))));var uw=d(2,(t,e)=>Hy(t,(r,n)=>e(r))),WH=d(2,(t,e)=>LH(t,(r,n)=>e(n)));var th=Symbol.for("effect/Schedule/ScheduleDefect"),By=class{error;[th];constructor(e){this.error=e,this[th]=th}},jH=t=>R(t,th),rh=t=>Or(t,e=>Rn(new By(e))),lw=t=>Yr(t,e=>Je(Co(e,r=>$i(r)&&jH(r.defect)?A(r.defect):D()),{onNone:()=>te(e),onSome:r=>K(r.error)})),rw=d(2,(t,e)=>Uy(t,e,(r,n)=>K(r))),pw=d(2,(t,e)=>{if(sw(e))return rw(t,e);let r=e.schedule??UH(jy),n=e.while?uw(r,i=>{let c=e.while(i);return typeof c=="boolean"?_(c):rh(c)}):r,o=e.until?cw(n,i=>{let c=e.until(i);return typeof c=="boolean"?_(c):rh(c)}):n,s=e.times?iw(o,aw(e.times)).pipe(HH(i=>i[0])):o;return lw(rw(t,s))}),Uy=d(3,(t,e,r)=>E(qy(e),n=>$e(t,{onFailure:o=>r(o,D()),onSuccess:o=>fw(t,n,r,o)}))),fw=(t,e,r,n)=>$e(e.next(n),{onFailure:()=>Os(e.last),onSuccess:o=>$e(t,{onFailure:s=>r(s,A(o)),onSuccess:s=>fw(t,e,r,s)})}),nw=d(2,(t,e)=>zy(t,e,(r,n)=>K(r))),hw=d(2,(t,e)=>{if(sw(e))return nw(t,e);let r=e.schedule??jy,n=e.while?uw(r,i=>{let c=e.while(i);return typeof c=="boolean"?_(c):rh(c)}):r,o=e.until?cw(n,i=>{let c=e.until(i);return typeof c=="boolean"?_(c):rh(c)}):n,s=e.times?iw(o,aw(e.times)):o;return lw(nw(t,s))}),zy=d(3,(t,e,r)=>E(qy(e),n=>mw(t,n,r))),mw=(t,e,r)=>Or(t,n=>$e(e.next(n),{onFailure:()=>S(e.last,Os,E(o=>r(n,o))),onSuccess:()=>mw(t,e,r)})),nh=d(2,(t,e)=>Wy(t,void 0,e)),Wy=d(3,(t,e,r)=>E(qy(r),n=>dw(t,e,n))),dw=(t,e,r)=>$e(r.next(e),{onFailure:()=>Os(r.last),onSuccess:()=>E(t,n=>dw(t,n,r))});var jy=zH(0,t=>t+1);var Gy=class{permits;waiters=new Set;taken=0;constructor(e){this.permits=e}get free(){return this.permits-this.taken}take=e=>Jd(r=>{if(this.free<e){let n=()=>{this.free<e||(this.waiters.delete(n),this.taken+=e,r(_(e)))};return this.waiters.add(n),k(()=>{this.waiters.delete(n)})}return this.taken+=e,r(_(e))});updateTaken=e=>ie(r=>(this.taken=e(this.taken),this.waiters.size>0&&r.getFiberRef(Gn).scheduleTask(()=>{let n=this.waiters.values(),o=n.next();for(;o.done===!1&&this.free>0;)o.value(),o=n.next()},r.getFiberRef(Pn)),_(this.free)));release=e=>this.updateTaken(r=>r-e);releaseAll=this.updateTaken(e=>0);withPermits=e=>r=>Fe(n=>E(n(this.take(e)),o=>Sr(n(r),this.release(o))));withPermitsIfAvailable=e=>r=>Fe(n=>q(()=>this.free<e?$s:(this.taken+=e,Sr(n(ua(r)),this.release(e)))))},sh=t=>new Gy(t),yw=t=>k(()=>sh(t)),Vy=class extends Wn{isOpen;waiters=[];scheduled=!1;constructor(e){super(),this.isOpen=e}commit(){return this.await}unsafeSchedule(e){return this.scheduled||this.waiters.length===0?G:(this.scheduled=!0,e.currentScheduler.scheduleTask(this.flushWaiters,e.getFiberRef(Pn)),G)}flushWaiters=()=>{this.scheduled=!1;let e=this.waiters;this.waiters=[];for(let r=0;r<e.length;r++)e[r](kt)};open=ie(e=>this.isOpen?G:(this.isOpen=!0,this.unsafeSchedule(e)));release=ie(e=>this.isOpen?G:this.unsafeSchedule(e));await=Jd(e=>this.isOpen?e(G):(this.waiters.push(e),k(()=>{let r=this.waiters.indexOf(e);r!==-1&&this.waiters.splice(r,1)})));unsafeClose(){this.isOpen=!1}close=k(()=>{this.isOpen=!1});whenOpen=e=>ce(this.await,e)},Xy=t=>new Vy(t??!1),Sw=t=>k(()=>Xy(t)),bw=t=>ih(t,yO),Ew=d(2,(t,e)=>w($y(t,e),r=>r[0])),$y=d(2,(t,e)=>{let r=et(e);return E($t(),n=>w(ah(D()),o=>[Yt(JH(t,r,o),n),GH(o)]))}),gw=(t,e,r)=>{let n=jr(et(e));return S(Ft(),ft(o=>en(t,o)),w(o=>A([r+n,o])))},JH=(t,e,r)=>Fe(n=>S(on(o=>o.currentTimeMillis),E(o=>$H(r,s=>{switch(s._tag){case"None":return A(gw(t,e,o));case"Some":{let[i]=s.value;return i-o<=0?A(gw(t,e,o)):D()}}})),E(o=>ee(o)?Tn("BUG: Effect.cachedInvalidate - please report an issue at https://github.com/Effect-TS/effect/issues"):n(rt(o.value[1]))))),GH=t=>jn(t,D()),Cw=d(2,(t,e)=>ih(t,r=>e(dy(r)))),ih=d(2,(t,e)=>E(OF,r=>S(Zy(t,r),Sr(E(r.value,e))))),vw=d(t=>sr(t[0]),(t,e)=>e?.discard?qt(t,xr):w(at(t,xr),dy)),Yy=d(2,(t,e)=>Fe(r=>E(e.fork(sn),n=>S(r(t),pt(o=>n.close(o)),si,ft(o=>n.addFinalizer(()=>Ht(s=>I(s,o.id())?G:Ae(Rs(o))))))))),Qy=t=>yr(e=>Yy(t,e)),_w=t=>Rr(t),Dw=t=>q(()=>E(t,Rr)),Jy=Symbol.for("effect/Effect/memoizeFunction.key"),oh=class{a;eq;[Jy]=Jy;constructor(e,r){this.a=e,this.eq=r}[L](e){return R(e,Jy)?this.eq?this.eq(this.a,e.a):I(this.a,e.a):!1}[B](){return this.eq?0:Y(this,P(this.a))}},Aw=(t,e)=>S(k(()=>Ws()),E(ah),w(r=>n=>S(r.modifyEffect(o=>{let s=S(o,We(new oh(n,e)));return ee(s)?S(Ft(),ft(i=>S(la(t(n)),en(i),xr)),w(i=>[i,S(o,Wt(new oh(n,e),i))])):_([s.value,o])}),E(rt),E(([o,s])=>S(Ks(o),he(s)))))),kw=d(2,(t,e)=>S(ke(t),Xf(ke(e)),r=>At(r))),Fw=d(2,(t,e)=>S(t,nh(e),Qy)),Zy=d(2,(t,e)=>Ye(Kf,n=>n.zip(e))(t)),Ow=d(2,(t,e)=>eS(t,{onTimeout:()=>sv(e),duration:e})),eS=d(2,(t,{duration:e,onTimeout:r})=>At(pu(t,{onTimeout:()=>Dt(r),onSuccess:_,duration:e}))),ww=d(2,(t,{duration:e,onTimeout:r})=>At(pu(t,{onTimeout:()=>In(r),onSuccess:_,duration:e}))),Mw=d(2,(t,e)=>pu(t,{duration:e,onSuccess:A,onTimeout:D})),pu=d(2,(t,{duration:e,onSuccess:r,onTimeout:n})=>Ht(o=>gy(t,Zr(Xs(e)),{onSelfWin:(s,i)=>E(s.await,c=>c._tag==="Success"?E(s.inheritAll,()=>he(Ut(i,o),r(c.value))):E(Ut(i,o),()=>fe(c.cause))),onOtherWin:(s,i)=>E(s.await,c=>c._tag==="Success"?E(s.inheritAll,()=>he(Ut(i,o),n())):E(Ut(i,o),()=>fe(c.cause))),otherScope:Uo}))),VH="effect/Ref/SynchronizedRef",KH=Symbol.for(VH),XH={_A:t=>t},Ky=class extends Wn{ref;withLock;[KH]=XH;[Wp]=Lx;[Lo]=Lo;constructor(e,r){super(),this.ref=e,this.withLock=r,this.get=dr(this.ref)}get;commit(){return this.get}modify(e){return this.modifyEffect(r=>_(e(r)))}modifyEffect(e){return this.withLock(S(E(dr(this.ref),e),E(([r,n])=>he(jn(this.ref,n),r))))}},ah=t=>k(()=>Rw(t)),Rw=t=>{let e=jp(t),r=sh(1);return new Ky(e,r.withPermits(1))},$H=d(2,(t,e)=>t.modifyEffect(r=>{let n=e(r);switch(n._tag){case"None":return _([r,r]);case"Some":return w(n.value,o=>[o,o])}}));var Tw=d(t=>le(t[0]),(t,e,r)=>E(t,n=>jo(e(n),r).pipe(w(o=>Object.assign({},n,o)))));var Nw=Symbol.for("effect/ManagedRuntime");var Pw="ExtendScope",Lw="Fold",tS="Fresh",Bw="FromEffect",Hw="Scoped",qw="Suspend",Uw="Provide",rS="ProvideMerge",zw="ZipWith";var Ww=Ut;var uh=t=>(e,r)=>{let n=Pl(),o=[[zt,[[n,t.context]]]];r?.scheduler&&o.push([Gn,[[n,r.scheduler]]]);let s=C_(t.fiberRefs,{entries:o,forkAs:n});r?.updateRefs&&(s=r.updateRefs(s,n));let i=new au(n,s,t.runtimeFlags),c=e;r?.scope&&(c=E(tw(r.scope,sn),p=>ce(Ap(p,Ht(f=>I(f,i.id())?G:Ut(i,f))),pt(e,f=>ew(p,f)))));let l=i.currentSupervisor;return l!==ri&&(l.onStart(t.context,c,D(),i),i.addObserver(p=>l.onEnd(p,i))),Uo.add(t.runtimeFlags,i),r?.immediate===!1?i.resume(c):i.start(c),i},aS=t=>(e,r={})=>{let n=uh(t)(e,r);return r.onExit&&n.addObserver(o=>{r.onExit(o)}),(o,s)=>aS(t)(S(n,Ww(o??Lt)),{...s,onExit:s?.onExit?i=>s.onExit(mv(i)):void 0})},ZH=t=>e=>{let r=Vw(t)(e);if(r._tag==="Failure")throw Jw(r.effect_instruction_i0);return r.effect_instruction_i0},sS=class extends Error{fiber;_tag="AsyncFiberException";constructor(e){super(`Fiber #${e.id().id} cannot be resolved synchronously. This is caused by using runSync on an effect that performs async work`),this.fiber=e,this.name=this._tag,this.stack=this.message}},eq=t=>{let e=Error.stackTraceLimit;Error.stackTraceLimit=0;let r=new sS(t);return Error.stackTraceLimit=e,r};var nS=Symbol.for("effect/Runtime/FiberFailure"),oS=Symbol.for("effect/Runtime/FiberFailure/Cause"),iS=class extends Error{[nS];[oS];constructor(e){super(),this[nS]=nS,this[oS]=e;let r=rp(e);if(r.length>0){let n=r[0];this.name=n.name,this.message=n.message,this.stack=n.stack}this.name=`(FiberFailure) ${this.name}`,(this.message===void 0||this.message.length===0)&&(this.message="An error has occurred")}toJSON(){return{_id:"FiberFailure",cause:this[oS].toJSON()}}toString(){return"(FiberFailure) "+(this.stack??this.message)}[Q](){return this.toString()}},Jw=t=>{let e=Error.stackTraceLimit;Error.stackTraceLimit=0;let r=new iS(t);return Error.stackTraceLimit=e,r};var Gw=t=>{let e=t;switch(e._op){case"Failure":case"Success":return e;case"Left":return Oc(e.left);case"Right":return me(e.right);case"Some":return me(e.value);case"None":return Oc(Xt())}},Vw=t=>e=>{let r=Gw(e);if(r)return r;let n=new kf,o=uh(t)(e,{scheduler:n});n.flush();let s=o.unsafePoll();return s||No(pp(eq(o),Mp(o)))},tq=t=>(e,r)=>Kw(t)(e,r).then(n=>{switch(n._tag){case Le:return n.effect_instruction_i0;case Pe:throw Jw(n.effect_instruction_i0)}}),Kw=t=>(e,r)=>new Promise(n=>{let o=Gw(e);o&&n(o);let s=uh(t)(e);s.addObserver(i=>{n(i)}),r?.signal!==void 0&&(r.signal.aborted?s.unsafeInterruptAsFork(s.id()):r.signal.addEventListener("abort",()=>{s.unsafeInterruptAsFork(s.id())},{once:!0}))}),ch=class{context;runtimeFlags;fiberRefs;constructor(e,r,n){this.context=e,this.runtimeFlags=r,this.fiberRefs=n}pipe(){return N(this,arguments)}},rq=t=>new ch(t.context,t.runtimeFlags,t.fiberRefs),Oa=()=>ie((t,e)=>_(new ch(t.getFiberRef(zt),e.runtimeFlags,t.getFiberRefs()))),nq=_d($r,Cd,Ed),Qn=rq({context:ot(),runtimeFlags:nq,fiberRefs:v_()});var Xw=aS(Qn),$w=uh(Qn),Yw=tq(Qn),Qw=Kw(Qn),Zw=ZH(Qn),eM=Vw(Qn),tM=t=>q(()=>{let e;return E(Ft(),r=>E(Oa(),n=>Fe(o=>ce(xr(o(Ce(t(s=>aS(n)(en(s,r))),{onFailure:s=>qs(r,s),onSuccess:s=>(e=s,G)}))),o(wr(rt(r),()=>e??G))))))});var nM=d(2,(t,e)=>t.modifyEffect(e));var sq="effect/Layer",ph=Symbol.for(sq),iq={_RIn:t=>t,_E:t=>t,_ROut:t=>t},Ir={[ph]:iq,pipe(){return N(this,arguments)}},aq="effect/Layer/MemoMap",fu=Symbol.for(aq),mu=t=>R(t,ph),uS=t=>t._op_layer===tS,cS=class{ref;[fu];constructor(e){this.ref=e,this[fu]=fu}getOrElseMemoize(e,r){return S(nM(this.ref,n=>{let o=n.get(e);if(o!==void 0){let[s,i]=o,c=S(s,E(([l,p])=>S(Ks(l),he(p))),pt(na({onFailure:()=>G,onSuccess:()=>Ns(r,i)})));return _([c,n])}return S(Gs(0),E(s=>S(Ft(),E(i=>S(Gs(()=>G),w(c=>{let l=Fe(f=>S(Aa(),E(g=>S(f(E(fS(e,g,!0),m=>la(m(this)))),ke,E(m=>{switch(m._tag){case Pe:return S(qs(i,m.effect_instruction_i0),ce(Ps(g,m)),ce(te(m.effect_instruction_i0)));case Le:return S(jn(c,a=>S(Ps(g,a),ea(Jp(s,u=>[u===1,u-1])),Ae)),ce(qc(s,a=>a+1)),ce(Ns(r,a=>S(k(()=>n.delete(e)),ce(dr(c)),E(u=>u(a))))),ce(Tc(i,m.effect_instruction_i0)),he(m.effect_instruction_i0[1]))}}))))),p=[S(rt(i),pt(Hs({onFailure:()=>G,onSuccess:()=>qc(s,f=>f+1)}))),f=>S(dr(c),E(g=>g(f)))];return[l,uS(e)?n:n.set(e,p)]}))))))}),At)}},lS=q(()=>w(ah(new Map),t=>new cS(t)));var iM=t=>yr(e=>Go(t,e)),Go=d(2,(t,e)=>E(lS,r=>E(fS(t,e),n=>n(r)))),pS=d(3,(t,e,r)=>E(fS(t,r),n=>n(e))),fS=(t,e,r=!1)=>{let n=t;switch(n._op_layer){case"Locally":return k(()=>o=>n.f(o.getOrElseMemoize(n.self,e)));case"ExtendScope":return k(()=>o=>yr(s=>o.getOrElseMemoize(n.layer,s)));case"Fold":return k(()=>o=>S(o.getOrElseMemoize(n.layer,e),Ce({onFailure:s=>o.getOrElseMemoize(n.failureK(s),e),onSuccess:s=>o.getOrElseMemoize(n.successK(s),e)})));case"Fresh":return k(()=>o=>S(n.layer,Go(e)));case"FromEffect":return r?k(()=>o=>n.effect):k(()=>o=>o.getOrElseMemoize(t,e));case"Provide":return k(()=>o=>S(o.getOrElseMemoize(n.first,e),E(s=>S(o.getOrElseMemoize(n.second,e),Yt(s)))));case"Scoped":return r?k(()=>o=>Yn(n.effect,e)):k(()=>o=>o.getOrElseMemoize(t,e));case"Suspend":return k(()=>o=>o.getOrElseMemoize(n.evaluate(),e));case"ProvideMerge":return k(()=>o=>S(o.getOrElseMemoize(n.first,e),rn(o.getOrElseMemoize(n.second,e),n.zipK)));case"ZipWith":return k(()=>o=>S(o.getOrElseMemoize(n.first,e),$n(o.getOrElseMemoize(n.second,e),n.zipK,{concurrent:!0})))}},ai=d(2,(t,e)=>yh(t,{onFailure:e,onSuccess:Zn})),hS=d(2,(t,e)=>gh(t,{onFailure:e,onSuccess:Zn})),mS=t=>du(vy(t)),aM=t=>hh(()=>vy(t())),cM=t=>xh(t,()=>ot()),fh=()=>bt($t()),uM=t=>{let e=Object.create(Ir);return e._op_layer=Pw,e.layer=t,e},dS=t=>du(Cy(t)),xS=t=>hh(()=>Cy(t())),du=t=>bt(te(t)),hh=t=>bt(In(t)),un=d(2,(t,e)=>yh(t,{onFailure:dS,onSuccess:e})),lM=d(2,(t,e)=>un(t,st(e))),gS=t=>{let e=Object.create(Ir);return e._op_layer=tS,e.layer=t,e},ci=d(2,(t,e)=>{let r=Li(t),n=r?t:e;return bt(w(r?e:t,s=>It(n,s)))}),pM=t=>bt(w(t,()=>ot()));function bt(t){let e=Object.create(Ir);return e._op_layer=Bw,e.effect=t,e}var fM=d(3,(t,e,r)=>mh(t,Oe(e,r))),mh=d(2,(t,e)=>{let r=Object.create(Ir);return r._op_layer="Locally",r.self=t,r.f=e,r}),dh=d(3,(t,e,r)=>mh(t,Ye(e,r))),hM=(t,e)=>li(Mt(t,e)),mM=(t,e)=>li(St(t,e)),dM=(t,e,r)=>bt(w(t,n=>It(e,r(n)))),xM=t=>Gf(ce(yr(e=>S(t,Go(e))),Mo)),xh=d(2,(t,e)=>un(t,r=>Zn(e(r)))),gM=d(2,(t,e)=>ai(t,r=>xS(()=>e(r)))),gh=d(2,(t,{onFailure:e,onSuccess:r})=>{let n=Object.create(Ir);return n._op_layer=Lw,n.layer=t,n.failureK=e,n.successK=r,n}),yh=d(2,(t,{onFailure:e,onSuccess:r})=>gh(t,{onFailure:n=>{let o=DO(n);switch(o._tag){case"Left":return e(o.left);case"Right":return du(o.right)}},onSuccess:r})),yM=t=>yr(e=>w(ef(Go(t,e)),bt)),Sh=d(2,(t,e)=>yS(t,e,(r,n)=>cr(r,n))),bh=(...t)=>{let e=t[0];for(let r=1;r<t.length;r++)e=Sh(e,t[r]);return e},SM=t=>ai(t,e=>mS(e)),bM=d(2,(t,e)=>ai(t,e)),EM=t=>Sh(fh(),t),CM=d(4,(t,e,r,n)=>xh(t,o=>It(r,n(qr(o,e))))),vM=d(2,(t,e)=>yu(()=>{let r=Qe("effect/Layer/retry/{ state: unknown }");return S(gu(r,{state:e.initial}),un(n=>_M(t,e,r,S(n,st(r)).state)))})),_M=(t,e,r,n)=>S(t,ai(o=>S(cq(e,r,o,n),un(s=>gS(_M(t,e,r,S(s,st(r)).state)))))),cq=(t,e,r,n)=>ci(e,S(aa,E(o=>S(t.step(o,r,n),E(([s,i,c])=>ii(c)?K(r):S(Lc(xo(Zf(c.intervals)-o)),he({state:s}))))))),ui=d(2,(t,e)=>{let r=Li(t),n=r?t:e;return xu(w(r?e:t,s=>It(n,s)))}),li=t=>xu(S(t,he(ot()))),xu=t=>{let e=Object.create(Ir);return e._op_layer=Hw,e.effect=t,e},DM=xu(w(Da(Aa(),(t,e)=>t.close(e)),t=>It(ZO,t))),AM=t=>ci(t,t),gu=d(2,(t,e)=>{let r=Li(t);return bt(_(It(r?t:e,r?e:t)))}),Zn=t=>bt(_(t)),kM=Zn(ot()),yu=t=>{let e=Object.create(Ir);return e._op_layer=qw,e.evaluate=t,e},Eh=d(2,(t,e)=>{let r=Li(t),n=r?t:e,o=r?e:t;return bt(k(()=>It(n,o())))}),FM=t=>bt(k(t)),OM=d(2,(t,e)=>un(t,r=>bt(he(e(r),r)))),wM=d(2,(t,e)=>ai(t,r=>bt(E(e(r),()=>K(r))))),MM=d(2,(t,e)=>hS(t,r=>bt(E(e(r),()=>te(r))))),RM=t=>S(yr(e=>Go(t,e)),E(e=>S(Oa(),Yt(e)))),TM=d(2,(t,e)=>E(yr(r=>pS(t,e,r)),r=>S(Oa(),Yt(r)))),wa=d(2,(t,e)=>yu(()=>{let r=Object.create(Ir);return r._op_layer=Uw,r.first=Object.create(Ir,{_op_layer:{value:rS,enumerable:!0},first:{value:fh(),enumerable:!0},second:{value:Array.isArray(e)?bh(...e):e},zipK:{value:(n,o)=>S(n,cr(o))}}),r.second=t,r})),IM=d(2,(t,e)=>{let r=Object.create(Ir);return r._op_layer=rS,r.first=e,r.second=wa(t,e),r.zipK=(n,o)=>S(n,cr(o)),r}),yS=d(3,(t,e,r)=>yu(()=>{let n=Object.create(Ir);return n._op_layer=zw,n.first=t,n.second=e,n.zipK=r,n})),SS=t=>{let e=Qe("effect/Layer/unwrapEffect/Layer.Layer<R1, E1, A>");return un(ci(e,t),r=>st(r,e))},hu=t=>{let e=Qe("effect/Layer/unwrapScoped/Layer.Layer<R1, E1, A>");return un(ui(e,t),r=>st(r,e))},NM=d(t=>mu(t[0]),function(){let t=arguments;return dh(t[0],Ln,typeof t[1]=="string"?yt(t[1],t[2]):e=>Object.entries(t[1]).reduce((r,[n,o])=>yt(r,n,o),e))}),PM=d(t=>mu(t[0]),function(){let t=arguments;return dh(t[0],ra,typeof t[1]=="string"?yt(t[1],t[2]):e=>Object.entries(t[1]).reduce((r,[n,o])=>yt(r,n,o),e))}),LM=function(){let t=typeof arguments[0]!="string",e=t?arguments[1]:arguments[0],r=Qt(t?arguments[2]:arguments[1]);if(t){let n=arguments[0];return hu(w(r?.onEnd?ft(gr(e,r),o=>an(s=>r.onEnd(o,s))):gr(e,r),o=>lh(n,o)))}return n=>hu(w(r?.onEnd?ft(gr(e,r),o=>an(s=>r.onEnd(o,s))):gr(e,r),o=>lh(n,o)))},lh=d(2,(t,e)=>wa(t,Zn(It(wt,e)))),oM=d(2,(t,e)=>cu(r=>E(Go(e,r),n=>wp(t,n)))),sM=d(2,(t,e)=>{let r=Ys(Qn.fiberRefs,e.fiberRefs),n=fr(Qn.runtimeFlags,e.runtimeFlags);return Fe(o=>ie(s=>{let i=s.getFiberRef(zt),c=s.getFiberRefs(),l=Qs(s.id(),c)(r),p=s.currentRuntimeFlags,f=Fn(n)(p),g=Ys(l,c),m=fr(f,p);return s.setFiberRefs(l),s.currentRuntimeFlags=f,Sr(wp(o(t),cr(i,e.context)),ie(a=>(a.setFiberRefs(Qs(a.id(),a.getFiberRefs())(g)),a.currentRuntimeFlags=Fn(m)(a.currentRuntimeFlags),G)))}))}),BM=d(2,(t,e)=>Array.isArray(e)?oM(t,bh(...e)):mu(e)?oM(t,e):Tm(e)?wp(t,e):Nw in e?E(e.runtimeEffect,r=>sM(t,r)):sM(t,e));var HM=w(Kt(we),st(qn)),qM=t=>ht(we,e=>t(st(e,qn))),UM=d(2,(t,e)=>Ye(t,we,Ee(qn,e))),zM=t=>St(we,Ee(qn,t));var Ma=V(Symbol.for("effect/FiberRef/currentCache"),()=>Ie(vO(65536,()=>w(Ft(),t=>({listeners:new ba,handle:t})),()=>zm(60)))),Su=V(Symbol.for("effect/FiberRef/currentCacheEnabled"),()=>Ie(!1)),WM=(t,e)=>E(le(e)?e:_(e),r=>Ht(n=>{let o=new Proxy(t,{});return ht(Su,s=>{if(s){let c=ht(Ma,l=>E(l.getEither(o),p=>{switch(p._tag){case"Left":return p.left.listeners.interrupted?E(l.invalidateWhen(o,f=>f.handle===p.left.handle),()=>c):(p.left.listeners.increment(),Fe(f=>E(ke(wn(cC,f(rt(p.left.handle)))),g=>(p.left.listeners.decrement(),g))));case"Right":return p.right.listeners.increment(),Fe(f=>E(ke(wn(Id(r,Nd({request:o,result:p.right.handle,listeners:p.right.listeners,ownerId:n,state:{completed:!1}})),f(rt(p.right.handle)))),()=>(p.right.listeners.decrement(),rt(p.right.handle))))}}));return c}let i=new ba;return i.increment(),E(Ft(),c=>Sr(wn(Id(r,Nd({request:o,result:c,listeners:i,ownerId:n,state:{completed:!1}})),rt(c)),k(()=>i.decrement())))})})),jM=(t,e)=>ht(Su,r=>r?ht(Ma,n=>E(n.getEither(t),o=>{switch(o._tag){case"Left":return G;case"Right":return Qd(o.right.handle,e)}})):G),JM=d(2,(t,e)=>Oe(t,Su,e)),GM=d(2,(t,e)=>Oe(t,Ma,e));var KM=pF;var lq=Mn,pq=le,fq=Ew,hq=$y,mq=ef,dq=Aw,xq=Kx,gq=jo,yq=YF,Sq=QF,bq=cD,Eq=uD,Cq=bD,vq=KF,_q=$F,Dq=pD,Aq=xD,kq=Zt,Fq=CD,Oq=uy,wq=ly,Mq=KD,Rq=oO,Tq=XD,Iq=$D,Nq=cy,Pq=ZF,Lq=oA,Bq=sA,Hq=rO,qq=uO,Uq=tt,zq=tM,Wq=Sc,jq=ie,Jq=K,Gq=Dt,$M=te,Vq=In,ES=Rn,Kq=Tn,Xq=Do,YM=qC,$q=Mo,Yq=qD,Qq=JD,Zq=_,eU=$s,tU=rA,rU=q,nU=k,oU=G;var sU=tn,iU=V_;var aU=Or,cU=Yr,uU=K_,lU=bc,pU=PC,fU=X_,hU=$_,mU=Y_,dU=Q_,xU=Z_,gU=Wx,yU=Jx,SU=vD,bU=jD,EU=eA,CU=hw,vU=zy,_U=zx;var DU=fA,AU=hA,kU=Qx,FU=xA,OU=rD,wU=LC,MU=SO,RU=mp,TU=dp,IU=Zr,NU=BC,PU=wr,LU=Nn,BU=Fe,HU=mD,qU=he,UU=ua,zU=G_,WU=Ae,jU=Fo,JU=SD,CS=w,GU=BD,VU=Cc,KU=Oo,XU=pa,$U=HD,YU=tf,QU=Da,ZU=GF,ez=up,tz=an,rz=Sr,nz=xp,oz=pt,sz=jf,iz=sO,az=Jf,cz=my,uz=yr,lz=cu,pz=Gf,fz=aO,hz=fO,mz=bw,dz=VF,xz=nD,gz=Qp,yz=la,Sz=Cw,bz=ih,Ez=Ao,Cz=Ht,vz=xr,_z=si,Dz=vw,Az=Yy,kz=Qy,Fz=eO,Oz=_w,wz=Dw,Mz=Zy,Rz=gp,Tz=UC,Iz=lk,Nz=$d,Pz=ev,Lz=eD,Bz=on,Hz=lO,qz=s_,Uz=HM,zz=qM,Wz=zM,jz=UM,Jz=tD,Gz=Xs,Vz=lA,Kz=Yx,Xz=Ow,$z=Mw,Yz=eS,Qz=ww,Zz=pu,e8=a_,t8=i_,r8=Vf,n8=$t,o8=lD,s8=hr,i8=Us,a8=BM,c8=fa,u8=GD,l8=CA,p8=EA,f8=Zx,h8=eg,m8=vA,d8=_A,x8=tg,g8=gA,y8=oD,S8=sD,b8=Tw,E8=iD,C8=aD;var v8=UD,_8=Qr,D8=ke,A8=en,k8=hp;var F8=fD,O8=hD,w8=Wc,M8=dD,R8=mA,T8=dA,I8=nf,N8=ea,P8=yA,L8=SA,B8=E,H8=ko,q8=At,U8=nO,z8=Xf,W8=kw,j8=xy,J8=Jc,G8=ft,V8=iA,K8=aA,X8=$x,$8=cA,Y8=uA,Q8=jx,Z8=Gx,eW=ND,tW=pw,rW=QD,nW=Uy,oW=nh,sW=Fw,iW=Wy,aW=ta,cW=Zp,uW=_D,lW=Oe,pW=Ye,fW=Mt,hW=St,mW=Ks,dW=tA,xW=rf,gW=DD,yW=AD,SW=jc,bW=Ec,EW=Ce,CW=$e,vW=kD,_W=(t,...e)=>Jn(t)(...e),DW=FD,AW=Vx,kW=OD,FW=wD,OW=MD,wW=RD,MW=TD,RW=J_,TW=JF,IW=ID,NW=tv,PW=Os,LW=Gd,BW=Fs,HW=zD,qW=WD,UW=yD,zW=VD,WW=Lp,jW=c_,JW=pO,GW=Oa,VW=Zi,KW=wo,XW=yp,$W=hy,YW=nA,QW=Xx,ZW=iO,e6=py,t6=rv,r6=bA,n6=sh,o6=yw,s6=Xy,i6=Sw,a6=$w,c6=Xw,u6=Yw,l6=Qw,p6=Zw,f6=eM,h6=cO,m6=fy,d6=hO,x6=mO,g6=dO,QM=$n,y6=d(2,(t,e)=>QM(t,e,(r,n)=>r(n))),S6=wn,b6=cp,E6=fp,C6=d(t=>KM(t[0]),WM),v6=jM,_6=zC,D6=JM,A6=GM,k6=pA,F6=Bp,O6=u_,w6=$f,M6=WC,R6=jC,T6=AA,I6=DA,N6=rg,P6=kA,L6=MA,B6=RA,H6=FA,q6=wA,U6=gr,z6=$p,ZM=og,W6=TA,j6=bO,J6=Yp,G6=IA,V6=NA,eR=t=>{let e=new Map;return new Proxy(t,{get(r,n,o){if(n in r)return Reflect.get(r,n,o);if(e.has(n))return e.get(n);let s=(...c)=>ko(r,l=>typeof l[n]=="function"?(e.set(n,(...p)=>ko(r,f=>f[n](...p))),l[n](...c)):(e.set(n,ko(r,p=>p[n])),l[n])),i=ko(r,c=>c[n]);return Object.assign(s,i),Object.setPrototypeOf(s,Object.getPrototypeOf(i)),e.set(n,s),s}})},K6=t=>()=>{let e=Error.stackTraceLimit;Error.stackTraceLimit=2;let r=new Error;Error.stackTraceLimit=e;function n(){}return Object.setPrototypeOf(n,Pi),n.key=t,Object.defineProperty(n,"use",{get(){return o=>ko(this,o)}}),Object.defineProperty(n,"stack",{get(){return r.stack}}),eR(n)},X6=function(){return function(){let[t,e]=arguments,r="accessors"in e?e.accessors:!1,n=Error.stackTraceLimit;Error.stackTraceLimit=2;let o=new Error;Error.stackTraceLimit=n;let s="unchecked",i=function(f){if(s==="unchecked"){let g=Object.getPrototypeOf(f);if(g===Object.prototype||g===null)s="plain";else{let m=Object.getPrototypeOf(this);Object.setPrototypeOf(m,g),s="patched"}}if(s==="plain")Object.assign(this,f);else if(s==="patched")return Object.setPrototypeOf(f,Object.getPrototypeOf(this)),f};i.prototype._tag=t,Object.defineProperty(i,"make",{get(){return f=>new this(f)}}),Object.defineProperty(i,"use",{get(){return f=>ko(this,f)}}),i.key=t,Object.assign(i,Pi),Object.defineProperty(i,"stack",{get(){return o.stack}});let c="dependencies"in e&&e.dependencies.length>0,l=c?"DefaultWithoutDependencies":"Default",p;if("effect"in e?Object.defineProperty(i,l,{get(){return p??=ci(i,CS(e.effect,f=>new this(f)))}}):"scoped"in e?Object.defineProperty(i,l,{get(){return p??=ui(i,CS(e.scoped,f=>new this(f)))}}):"sync"in e?Object.defineProperty(i,l,{get(){return p??=Eh(i,()=>new this(e.sync()))}}):Object.defineProperty(i,l,{get(){return p??=gu(i,new this(e.succeed))}}),c){let f;Object.defineProperty(i,"Default",{get(){return f??=wa(this.DefaultWithoutDependencies,e.dependencies)}})}return r===!0?eR(i):i}},$6=(t,e)=>(r,...n)=>function(...o){let s=Error.stackTraceLimit;Error.stackTraceLimit=2;let i=new Error;Error.stackTraceLimit=s;let c=!1,l=()=>{if(c!==!1)return c;if(i.stack)return c=i.stack.trim().split(`
`).slice(2).join(`
`).trim(),c},p,f;try{p=Pb(r)?YM(()=>Me(()=>r.apply(this,o))):r.apply(this,o)}catch(m){f=m,p=ES(m)}try{for(let m of n)p=m(p)}catch(m){p=f?$M(De(ze(f),ze(m))):ES(m)}let g=e&&"captureStackTrace"in e?e:{captureStackTrace:l,...e};return ZM(p,t,g)};var Ch={};Ua(Ch,{LayerTypeId:()=>Q6,MemoMapTypeId:()=>Z6,annotateLogs:()=>r9,annotateSpans:()=>n9,build:()=>o9,buildWithMemoMap:()=>vj,buildWithScope:()=>s9,catchAll:()=>i9,catchAllCause:()=>a9,context:()=>c9,die:()=>u9,dieSync:()=>l9,discard:()=>p9,effect:()=>f9,effectContext:()=>m9,effectDiscard:()=>h9,empty:()=>d9,extendScope:()=>x9,fail:()=>g9,failCause:()=>S9,failCauseSync:()=>b9,failSync:()=>y9,fiberRefLocallyScopedWith:()=>U9,flatMap:()=>E9,flatten:()=>C9,fresh:()=>v9,function:()=>_9,isFresh:()=>t9,isLayer:()=>e9,launch:()=>D9,locally:()=>B9,locallyEffect:()=>L9,locallyScoped:()=>q9,locallyWith:()=>H9,makeMemoMap:()=>Cj,map:()=>A9,mapError:()=>k9,match:()=>F9,matchCause:()=>O9,memoize:()=>w9,merge:()=>M9,mergeAll:()=>R9,orDie:()=>T9,orElse:()=>I9,parentSpan:()=>lj,passthrough:()=>N9,project:()=>P9,provide:()=>nj,provideMerge:()=>oj,retry:()=>z9,scope:()=>W9,scoped:()=>j9,scopedContext:()=>J9,scopedDiscard:()=>eo,service:()=>G9,setClock:()=>cj,setConfigProvider:()=>uj,setRequestBatching:()=>pj,setRequestCache:()=>hj,setRequestCaching:()=>fj,setScheduler:()=>mj,setTracer:()=>xj,setTracerEnabled:()=>gj,setTracerTiming:()=>yj,setUnhandledErrorLogLevel:()=>Sj,span:()=>dj,succeed:()=>V9,succeedContext:()=>K9,suspend:()=>X9,sync:()=>$9,syncContext:()=>Y9,tap:()=>Q9,tapError:()=>Z9,tapErrorCause:()=>ej,toRuntime:()=>tj,toRuntimeWithMemoMap:()=>rj,unwrapEffect:()=>ij,unwrapScoped:()=>aj,withParentSpan:()=>Ej,withSpan:()=>bj,zipWith:()=>sj});var tR=t=>li(Vf(t)),rR=t=>Zn(It(wt,t)),nR=(t,e)=>(e=Qt(e),ui(wt,e?.onEnd?ft(gr(t,e),r=>an(n=>e.onEnd(r,n))):gr(t,e))),oR=t=>li($f(t));var Q6=ph,Z6=fu,e9=mu,t9=uS,r9=NM,n9=PM,o9=iM,s9=Go,i9=ai,a9=hS,c9=fh,u9=mS,l9=aM,p9=cM,f9=ci,h9=pM,m9=bt,d9=kM,x9=uM,g9=dS,y9=xS,S9=du,b9=hh,E9=un,C9=lM,v9=gS,_9=dM;var D9=xM,A9=xh,k9=gM,F9=yh,O9=gh,w9=yM,M9=Sh,R9=bh,T9=SM,I9=bM,N9=EM,P9=CM,L9=mh,B9=fM,H9=dh,q9=hM,U9=mM,z9=vM,W9=DM,j9=ui,eo=li,J9=xu,G9=AM,V9=gu,K9=Zn,X9=yu,$9=Eh,Y9=FM,Q9=OM,Z9=wM,ej=MM,tj=RM,rj=TM,nj=wa,oj=IM,sj=yS,ij=SS,aj=hu,cj=t=>eo(St(we,Ee(Ot,t))),uj=tR,lj=rR,pj=t=>eo(Mt(vc,t)),fj=t=>eo(Mt(Su,t)),hj=t=>eo(le(t)?E(t,e=>Mt(Ma,e)):Mt(Ma,t)),mj=t=>eo(Mt(Gn,t)),dj=nR,xj=oR,gj=t=>eo(Mt(Dc,t)),yj=t=>eo(Mt(Ro,t)),Sj=t=>eo(Mt(_c,t)),bj=LM,Ej=lh,Cj=lS,vj=pS;var _j=function(){let t=Symbol.for("effect/Data/Error/plainArgs");return class extends kp{constructor(r){super(r?.message,r?.cause?{cause:r.cause}:void 0),r&&(Object.assign(this,r),Object.defineProperty(this,t,{value:r,enumerable:!1}))}toJSON(){return{...this[t],...this}}}}(),sR=t=>{class e extends _j{_tag=t}return e.prototype.name=t,e};var pi={};Ua(pi,{MatcherTypeId:()=>Rj,SafeRefinementId:()=>x4,any:()=>e4,bigint:()=>s4,boolean:()=>r4,date:()=>a4,defined:()=>t4,discriminator:()=>Uj,discriminatorStartsWith:()=>zj,discriminators:()=>Wj,discriminatorsExhaustive:()=>jj,either:()=>h4,exhaustive:()=>d4,instanceOf:()=>u4,instanceOfUnsafe:()=>l4,is:()=>Yj,nonEmptyString:()=>$j,not:()=>Xj,null:()=>o4,number:()=>Zj,option:()=>m4,orElse:()=>p4,orElseAbsurd:()=>f4,record:()=>c4,string:()=>Qj,symbol:()=>i4,tag:()=>Jj,tagStartsWith:()=>Gj,tags:()=>Vj,tagsExhaustive:()=>Kj,type:()=>Tj,typeTags:()=>Pj,undefined:()=>n4,value:()=>Ij,valueTags:()=>Nj,when:()=>Bj,whenAnd:()=>qj,whenOr:()=>Hj,withReturnType:()=>Lj});var vh=Symbol.for("@effect/matcher/Matcher"),Aj={[vh]:{_input:j,_filters:j,_remaining:j,_result:j,_return:j},_tag:"TypeMatcher",add(t){return _h([...this.cases,t])},pipe(){return N(this,arguments)}};function _h(t){let e=Object.create(Aj);return e.cases=t,e}var kj={[vh]:{_input:j,_filters:j,_result:j,_return:j},_tag:"ValueMatcher",add(t){return this.value._tag==="Right"?this:t._tag==="When"&&t.guard(this.provided)===!0?vS(this.provided,Be(t.evaluate(this.provided))):t._tag==="Not"&&t.guard(this.provided)===!1?vS(this.provided,Be(t.evaluate(this.provided))):this},pipe(){return N(this,arguments)}};function vS(t,e){let r=Object.create(kj);return r.provided=t,r.value=e,r}var Ta=(t,e)=>({_tag:"When",guard:t,evaluate:e}),Fj=(t,e)=>({_tag:"Not",guard:t,evaluate:e}),Ra=t=>{if(typeof t=="function")return t;if(Array.isArray(t)){let e=t.map(Ra),r=e.length;return n=>{if(!Array.isArray(n))return!1;for(let o=0;o<r;o++)if(e[o](n[o])===!1)return!1;return!0}}else if(t!==null&&typeof t=="object"){let e=Object.entries(t).map(([n,o])=>[n,Ra(o)]),r=e.length;return n=>{if(typeof n!="object"||n===null)return!1;for(let o=0;o<r;o++){let[s,i]=e[o];if(!(s in n)||i(n[s])===!1)return!1}return!0}}return e=>e===t},Oj=t=>{let e=t.map(Ra),r=e.length;return n=>{for(let o=0;o<r;o++)if(e[o](n)===!0)return!0;return!1}},wj=t=>{let e=t.map(Ra),r=e.length;return n=>{for(let o=0;o<r;o++)if(e[o](n)===!1)return!1;return!0}},aR=()=>_h([]),cR=t=>vS(t,dt(t)),uR=t=>{let e=Ah(t)(_h([]));return r=>e(r)},lR=()=>t=>{let e=Ah(t)(_h([]));return r=>e(r)},pR=()=>t=>t,fR=(t,e)=>r=>r.add(Ta(Ra(t),e)),hR=(...t)=>e=>{let r=t[t.length-1],n=t.slice(0,-1);return e.add(Ta(Oj(n),r))},mR=(...t)=>e=>{let r=t[t.length-1],n=t.slice(0,-1);return e.add(Ta(wj(n),r))},_S=t=>(...e)=>{let r=e[e.length-1],n=e.slice(0,-1),o=n.length===1?s=>s[t]===n[0]:s=>n.includes(s[t]);return s=>s.add(Ta(o,r))},DS=t=>(e,r)=>{let n=o=>typeof o[t]=="string"&&o[t].startsWith(e);return o=>o.add(Ta(n,r))},Dh=t=>e=>{let r=Ta(n=>n[t]in e,n=>e[n[t]](n));return n=>n.add(r)},AS=t=>e=>{let r=Dh(t)(e);return n=>OS(r(n))},dR=_S("_tag"),xR=DS("_tag"),gR=Dh("_tag"),Ah=AS("_tag"),yR=(t,e)=>r=>r.add(Fj(Ra(t),e)),SR=t=>typeof t=="string"&&t.length>0,bR=(...t)=>{let e=t.length;return r=>{for(let n=0;n<e;n++)if(r===t[n])return!0;return!1}},ER=()=>!0,CR=t=>t!=null,kS=t=>e=>e instanceof t;var FS=t=>e=>{let r=bu(e);return tl(r)?r._tag==="Right"?r.right:t(r.left):n=>{let o=r(n);return o._tag==="Right"?o.right:t(o.left)}},vR=t=>FS(()=>{throw new Error("effect/Match/orElseAbsurd: absurd")})(t),bu=t=>{if(t._tag==="ValueMatcher")return t.value;let e=t.cases.length;if(e===1){let r=t.cases[0];return n=>r._tag==="When"&&r.guard(n)===!0?Be(r.evaluate(n)):r._tag==="Not"&&r.guard(n)===!1?Be(r.evaluate(n)):dt(n)}return r=>{for(let n=0;n<e;n++){let o=t.cases[n];if(o._tag==="When"&&o.guard(r)===!0)return Be(o.evaluate(r));if(o._tag==="Not"&&o.guard(r)===!1)return Be(o.evaluate(r))}return dt(r)}},_R=t=>{let e=bu(t);return tl(e)?rl(e,{onLeft:()=>D(),onRight:A}):r=>rl(e(r),{onLeft:()=>D(),onRight:A})},iR="effect/Match/exhaustive: absurd",OS=t=>{let e=bu(t);if(tl(e)){if(e._tag==="Right")return e.right;throw new Error(iR)}return r=>{let n=e(r);if(n._tag==="Right")return n.right;throw new Error(iR)}};var Rj=vh,Tj=aR,Ij=cR,Nj=uR,Pj=lR,Lj=pR,Bj=fR,Hj=hR,qj=mR,Uj=_S,zj=DS,Wj=Dh,jj=AS,Jj=dR,Gj=xR,Vj=gR,Kj=Ah,Xj=yR,$j=SR,Yj=bR,Qj=Ei,Zj=Zo,e4=ER,t4=CR,r4=kb,n4=Ob;var o4=wb;var s4=Hu,i4=Fb,a4=Rb,c4=Tb,u4=kS,l4=kS,p4=FS,f4=vR,h4=bu,m4=_R,d4=OS,x4=Symbol.for("effect/SafeRefinement");var Th=or(Nr(),1);var Eu=class{message;stack;span;isPlainString;errorType;constructor(e,r,n,o,s){this.message=e,this.stack=r,this.span=n,this.isPlainString=o,this.errorType=s}};var kR=t=>{if(typeof t=="string")return{isPlainString:!0,message:t};if(t instanceof Error&&R(t,"cause")&&R(t,"_tag"))return{isPlainString:!1,type:t._tag,message:t.cause};if(t instanceof Error&&R(t,"error"))return{isPlainString:!1,type:t.name,message:t.error};if(R(t,"_tag")&&R(t,"message"))return{isPlainString:!1,type:t._tag,message:t.message};if(R(t,"toString")&&yi(t.toString)&&t.toString!==Object.prototype.toString&&t.toString!==Array.prototype.toString){let e=t.toString(),r=e.split(": ");if(r.length>1){let[n,...o]=r;return{isPlainString:!1,type:n,message:o}}return{message:e,isPlainString:!1}}return{message:`Error: ${JSON.stringify(t)}`,isPlainString:!1}};var FR=Symbol.for("effect/SpanAnnotation"),MS=t=>{let e=R(t,FR)?t[FR]:void 0,{message:r,type:n,isPlainString:o}=kR(t);return t instanceof Error?new Eu(r,t.stack?.split(`
`).filter(s=>/at (.*)/.exec(s)).join(`\r
`),e,!1,n):new Eu(r,void 0,e,o,n)};var RS=t=>AO(t,void 0,{emptyCase:()=>[],dieCase:(e,r)=>[MS(r)],failCase:(e,r)=>[MS(r)],interruptCase:()=>[],parallelCase:(e,r,n)=>[...r,...n],sequentialCase:(e,r,n)=>[...r,...n]});var fi=or(Nr(),1),OR=(t,e,r,n)=>{let o=r>1?fi.default.bgRed(fi.default.white(` #${n+1} -`)):"",s=fi.default.bgRed(fi.default.white(` ${t??"Unknown error"} `)),i=fi.default.bold(fi.default.white(` \u2022 ${e}`));return`\u{1F4A5} ${o}${s}${i}\r
`};var TS=or(Nr(),1);var wR=global.process!==void 0?new RegExp(global.process.cwd(),"g"):null,Cu=t=>wR===null?t:t.replace(wR,".");var Oh=/ {4}at /g;var b4=pi.type().pipe(pi.when("effect",t=>"at "),pi.when("node",t=>"\u2502 at "),pi.exhaustive),wh=(t,e,r)=>{let n=t.split(`\r
`),o=[];for(let i of n)if(o.push(i.replace(/at .*effect_cutpoint.*\((.*)\)/,"at $1")),i.includes("effect_cutpoint"))return o.join(`\r
`);let s=o.join(`\r
`).replace(Oh,b4(e));return r?Cu(s):s};var MR=(t,e,r,n,{stripCwd:o})=>{r!==void 0?t.push(`\r
${e!==void 0?`\r
`:""}\u{1F6A8} Node Stacktrace\r
${TS.default.red(wh(r,"node",o===!0))}`):n||t.push(`\r
\r
${TS.default.gray("\u2139\uFE0F  Consider using a yieldable error such as Data.TaggedError and Schema.TaggedError to get a stacktrace.")}`)};var LR=or(Nr(),1);var Rh=or(Nr(),1);var Mh=or(Nr(),1);var IS=t=>Array.from(t.entries()).reduce((e,[r,n])=>r==="code.stacktrace"?{attributes:e.attributes,stacktrace:[...e.stacktrace,n]}:{attributes:new Map([...e.attributes,[r,n]]),stacktrace:e.stacktrace},{stacktrace:[],attributes:new Map});var E4=t=>t?" ":Mh.default.gray("\u2502"),RR=(t,e)=>{if(t.size===0)return{formattedAttributes:"",stack:[]};let{attributes:r,stacktrace:n}=IS(t),o=Array.from(r).map(([s,i])=>`${E4(e)}     ${Mh.default.blue(s)}${Mh.default.gray(":")} ${i}`).join(`\r
`);return{formattedAttributes:`${o.length>0?`\r
`:""}${o}`,stack:n}};var TR=or(Nr(),1),IR=(t,e)=>{if(t._tag!=="Ended")return"";let r=(t.endTime-t.startTime)/BigInt(1e6);return`\r
${e?" ":TR.default.gray("\u2502")}     ~ ${r}ms`};var NS=or(Nr(),1),NR=t=>t?NS.default.gray("\u2570"):NS.default.gray("\u251C");var PR=(t,{stripCwd:e,reverseSpans:r})=>{let n=t,o=[];for(;n!==void 0&&n._tag==="Span";)o.push(n),n=ye.getOrUndefined(n.parent);return(r===!0?o.toReversed():o).map(({name:i,attributes:c,status:l},p)=>{let f=p===0,g=p===o.length-1,m=` at ${e!==void 0?Cu(i):i}`,{formattedAttributes:a,stack:u}=RR(c,g),h=f?`\r
${Rh.default.gray("\u25EF")}`:"";return{message:Rh.default.white(`${h}\r
${NR(g)}${Rh.default.gray("\u2500")}${m}${IR(l,g)}${a}`),stack:u}}).reduce((i,c)=>({message:i.message+c.message,stack:[...i.stack,...c.stack]}),{message:"",stack:[]})};var BR=(t,e,r,{stripCwd:n,reverseSpans:o})=>{if(e!==void 0){let s=PR(e,{stripCwd:n,reverseSpans:o});return t.push(s.message),s.stack}r||t.push(`\r
${LR.default.gray(`\u2139\uFE0F  Consider using spans to improve errors reporting.\r
`)}`)};var HR=or(Nr(),1),qR=(t,e)=>{e&&t.push(`\r
${HR.default.gray("\u2139\uFE0F  You used a plain string to represent a failure in the error channel (E). You should consider using tagged objects (with a _tag field), or yieldable errors such as Data.TaggedError and Schema.TaggedError for better handling experience.")}`)};var UR=or(Nr(),1);var zR=(t,e,r,{stripCwd:n})=>{if(r===void 0||r.length===0)return;let o=`\u2502 ${wh(r.join(`\r
\u2502 `),"effect",n===!0)}`;t.push(`\r
${e!==void 0?`\r
`:""}\u{1F6A8} Spans Stacktrace\r
${UR.default.red(o)}`)};var WR=t=>t.split(`\r
`).filter(r=>r.includes(process.cwd())&&!r.includes("/node_modules/")),jR=(t,e)=>{let r=[];return t&&e!==void 0&&r.push(...WR(t)),e!==void 0&&r.push(...e),r};var vu={enabled:!0,stripCwd:!1,reverseSpans:!0};var PS=(t,e=vu)=>{if(_O(t))return"All fibers interrupted without errors.";let r=RS(t);return`\r
\u{1FAE0}  ${Th.default.bold(Th.default.yellow(Th.default.underline(`${r.length} error${r.length>1?"s":""} occured`)))}\r
\r
`+r.map(({errorType:o,message:s,stack:i,span:c,isPlainString:l},p)=>{let f=[OR(o,s,r.length,p)];qR(f,l);let g=BR(f,c,l,e),m=jR(i,g);return zR(f,c,m,e),MR(f,c,i,l,e),[...f,`\r
`].join("")}).join(`\r
`)};var JR=async(t,e=vu)=>await nt.runPromise(S(t,nt.sandbox,nt.catchAll(r=>{if(e.enabled===!1)return nt.fail(r);let n=PS(r,e);return console.error(n),nt.fail("\u274C runPromise failure")})));var _7=or(gT(),1);var C7=or(C1(),1);var vb=class extends sR("json-parsing-error"){};var Iu=class extends Ge.Tag("Console")(){},v1=Ch.succeed(Iu,{info:t=>S(nt.succeed(console.info(t)),nt.withSpan("console/info")),error:t=>S(nt.succeed(console.error(t)),nt.withSpan("console/error"))});var A7=S(nt.gen(function*(){yield*(yield*Iu).info("yolo")}),nt.withSpan("task")),_1=()=>JR(S(nt.gen(function*(){yield*A7}),nt.provide(v1),nt.withSpan("action-workflow")));_1();
/*! Bundled license information:

repeat-string/index.js:
  (*!
   * repeat-string <https://github.com/jonschlinkert/repeat-string>
   *
   * Copyright (c) 2014-2015, Jon Schlinkert.
   * Licensed under the MIT License.
   *)
*/
